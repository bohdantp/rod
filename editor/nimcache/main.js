/* Generated by the Nim Compiler v0.12.1 */
/*   (c) 2015 Andreas Rumpf */

var framePtr = null;
var excHandler = 0;
var lastJSError = null;
var NTI744884 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI744881 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI744880 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI744455 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI744452 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI744451 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI747099 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI747096 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI747095 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI725781 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI725778 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI725777 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI749291 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI749288 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI749287 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI747440 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI747437 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI747436 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI757340 = {size: 0,kind: 4,base: null,node: null,finalizer: null};
var NTI693348 = {size: 0,kind: 4,base: null,node: null,finalizer: null};
var NTI717610 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI717609 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI711864 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI21729 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI21861 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI21857 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI21853 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI743177 = {size: 0,kind: 4,base: null,node: null,finalizer: null};
var NTI693211 = {size: 0,kind: 4,base: null,node: null,finalizer: null};
var NTI732242 = {size: 0,kind: 4,base: null,node: null,finalizer: null};
var NTI717617 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI717616 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI754183 = {size: 0,kind: 4,base: null,node: null,finalizer: null};
var NTI693589 = {size: 0,kind: 4,base: null,node: null,finalizer: null};
var NTI754318 = {size: 0,kind: 4,base: null,node: null,finalizer: null};
var NTI693074 = {size: 0,kind: 4,base: null,node: null,finalizer: null};
var NTI711563 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI22064 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI731188 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI657401 = {size: 0,kind: 4,base: null,node: null,finalizer: null};
var NTI118 = {size: 0,kind: 42,base: null,node: null,finalizer: null};
var NTI656023 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI656041 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI656040 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI658093 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI643004 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI110 = {size: 0,kind: 34,base: null,node: null,finalizer: null};
var NTI643031 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI108 = {size: 0,kind: 33,base: null,node: null,finalizer: null};
var NTI682216 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI682232 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI682229 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI682226 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI682223 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI682217 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI43628 = {size: 0,kind: 37,base: null,node: null,finalizer: null};
var NTI682249 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI682246 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI775975 = {size: 0,kind: 19,base: null,node: null,finalizer: null};
var NTI775948 = {size: 0,kind: 19,base: null,node: null,finalizer: null};
var NTI775884 = {size: 0,kind: 19,base: null,node: null,finalizer: null};
var NTI766046 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI766045 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI766010 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI766007 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI766005 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI766004 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI766029 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI766028 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI774152 = {size: 0,kind: 19,base: null,node: null,finalizer: null};
var NTI721440 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI721437 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI721436 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI721130 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI721127 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI721126 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI22136 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI711791 = {size: 0,kind: 4,base: null,node: null,finalizer: null};
var NTI22043 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI22038 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI22033 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI22028 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI22023 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI22018 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI22013 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI22008 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI22117 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI21782 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI21777 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI21772 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI21767 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI22054 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI720642 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI720639 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI720638 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI720178 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI720175 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI720174 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI767338 = {size: 0,kind: 19,base: null,node: null,finalizer: null};
var NTI774059 = {size: 0,kind: 19,base: null,node: null,finalizer: null};
var NTI716029 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI716015 = {size: 0, kind: 14, base: null, node: null, finalizer: null};
var NTI716025 = {size: 0,kind: 19,base: null,node: null,finalizer: null};
var NTI716020 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI716019 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI774055 = {size: 0,kind: 19,base: null,node: null,finalizer: null};
var NTI756032 = {size: 0,kind: 19,base: null,node: null,finalizer: null};
var NTI775056 = {size: 0,kind: 19,base: null,node: null,finalizer: null};
var NTI757041 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI757038 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI757032 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI757029 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI757023 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI757017 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI757015 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI756007 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI756006 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI142 = {size: 0,kind: 26,base: null,node: null,finalizer: null};
var NTI714480 = {size: 0,kind: 31,base: null,node: null,finalizer: null};
var NTI714821 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI757006 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI757003 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI757002 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI757013 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI755005 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI765002 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI774003 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI3448 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI791067 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI779030 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI779026 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI779022 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI779019 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI779016 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI779013 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI779010 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI795217 = {size: 0,kind: 4,base: null,node: null,finalizer: null};
var NTI791029 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI3426 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI3428 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI779065 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI777072 = {size: 0,kind: 19,base: null,node: null,finalizer: null};
var NTI664230 = {size: 0,kind: 19,base: null,node: null,finalizer: null};
var NTI136 = {size: 0,kind: 2,base: null,node: null,finalizer: null};
var NTI662013 = {size: 0,kind: 19,base: null,node: null,finalizer: null};
var NTI660216 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI662005 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI777014 = {size: 0, kind: 14, base: null, node: null, finalizer: null};
var NTI777054 = {size: 0,kind: 19,base: null,node: null,finalizer: null};
var NTI777012 = {size: 0, kind: 14, base: null, node: null, finalizer: null};
var NTI777010 = {size: 0, kind: 14, base: null, node: null, finalizer: null};
var NTI777008 = {size: 0, kind: 14, base: null, node: null, finalizer: null};
var NTI777016 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI660254 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI660248 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI660242 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI660236 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI660232 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI660227 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI660223 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI660219 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI660218 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI676204 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI676203 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI21142 = {size: 0,kind: 4,base: null,node: null,finalizer: null};
var NTI797624 = {size: 0,kind: 19,base: null,node: null,finalizer: null};
var NTI797004 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI754009 = {size: 0, kind: 14, base: null, node: null, finalizer: null};
var NTI754003 = {size: 0, kind: 14, base: null, node: null, finalizer: null};
var NTI106 = {size: 0,kind: 32,base: null,node: null,finalizer: null};
var NTI754014 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI21049 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI21134 = {size: 0,kind: 4,base: null,node: null,finalizer: null};
var NTI21151 = {size: 0,kind: 4,base: null,node: null,finalizer: null};
var NTI769389 = {size: 0,kind: 19,base: null,node: null,finalizer: null};
var NTI769388 = {size: 0,kind: 19,base: null,node: null,finalizer: null};
var NTI771637 = {size: 0,kind: 19,base: null,node: null,finalizer: null};
var NTI771636 = {size: 0,kind: 19,base: null,node: null,finalizer: null};
var NTI771384 = {size: 0,kind: 19,base: null,node: null,finalizer: null};
var NTI771383 = {size: 0,kind: 19,base: null,node: null,finalizer: null};
var NTI769554 = {size: 0,kind: 19,base: null,node: null,finalizer: null};
var NTI769553 = {size: 0,kind: 19,base: null,node: null,finalizer: null};
var NTI3446 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI768007 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI753010 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI753009 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI765003 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI750004 = {size: 0, kind: 14, base: null, node: null, finalizer: null};
var NTI651010 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI651011 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI656308 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI656307 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI750010 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI749007 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI749005 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI747005 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI744016 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI744004 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI744026 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI744020 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI717661 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI743005 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI738209 = {size: 0, kind: 14, base: null, node: null, finalizer: null};
var NTI738664 = {size: 0,kind: 19,base: null,node: null,finalizer: null};
var NTI21005 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI738272 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI738271 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI738245 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI738244 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI682202 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI738644 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI738643 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI737004 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI741208 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI43626 = {size: 0,kind: 34,base: null,node: null,finalizer: null};
var NTI741203 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI732058 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI713144 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI713019 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI713127 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI126 = {size: 0,kind: 37,base: null,node: null,finalizer: null};
var NTI713147 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI713021 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI713114 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI713111 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI713108 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI713105 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI713098 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI682206 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI713017 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI713090 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI713011 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI713071 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI713068 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI713065 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI713062 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI713053 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI713009 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI713040 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI713037 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI713034 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI713031 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI21087 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI21068 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI713022 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI713003 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI713087 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI713137 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI713015 = {size: 0, kind: 14, base: null, node: null, finalizer: null};
var NTI713133 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI707006 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI707017 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI707015 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI707014 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI620203 = {size: 0,kind: 31,base: null,node: null,finalizer: null};
var NTI704014 = {size: 0, kind: 14, base: null, node: null, finalizer: null};
var NTI703010 = {size: 0, kind: 14, base: null, node: null, finalizer: null};
var NTI704002 = {size: 0, kind: 14, base: null, node: null, finalizer: null};
var NTI120 = {size: 0,kind: 43,base: null,node: null,finalizer: null};
var NTI704023 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI696076 = {size: 0,kind: 19,base: null,node: null,finalizer: null};
var NTI40037 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI40017 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI40016 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI40035 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI40012 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI40008 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI40002 = {size: 0, kind: 14, base: null, node: null, finalizer: null};
var NTI40024 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI40023 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI696036 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI696019 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI696014 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI696031 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI696002 = {size: 0, kind: 14, base: null, node: null, finalizer: null};
var NTI696028 = {size: 0,kind: 19,base: null,node: null,finalizer: null};
var NTI696025 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI20006 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI20014 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI696018 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI696021 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI696016 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI696034 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI644375 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI644371 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI644367 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI644363 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI644359 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI644355 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI644351 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI644347 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI644343 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI644339 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI644335 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI644331 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI644327 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI644323 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI644319 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI644315 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI644311 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI644307 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI644303 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI644299 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI644204 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI644258 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI644256 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI644218 = {size: 0, kind: 14, base: null, node: null, finalizer: null};
var NTI644423 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI644421 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI644220 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI644419 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI644222 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI644246 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI644244 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI644470 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI644494 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI644250 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI644248 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI644216 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI644214 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI644230 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI644228 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI20004 = {size: 0,kind: 37,base: null,node: null,finalizer: null};
var NTI20018 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI21002 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI690121 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI43614 = {size: 0,kind: 34,base: null,node: null,finalizer: null};
var NTI43602 = {size: 0,kind: 43,base: null,node: null,finalizer: null};
var NTI652006 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI652004 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI690203 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI690202 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI709003 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI699355 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699352 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699348 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699344 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699340 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699336 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699332 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699328 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699324 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699320 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699316 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699312 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699308 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699304 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699300 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699296 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699292 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699288 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699284 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699281 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699278 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699275 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699272 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699269 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699266 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699263 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699260 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699257 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699254 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699251 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699248 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699245 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699242 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699239 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699236 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699233 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699230 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699227 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI699226 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI682203 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI20002 = {size: 0,kind: 37,base: null,node: null,finalizer: null};
var NTI20010 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI43622 = {size: 0,kind: 43,base: null,node: null,finalizer: null};
var NTI682207 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI3452 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI675245 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI675242 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI675239 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI666653 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI666649 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI666648 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI130 = {size: 0,kind: 1,base: null,node: null,finalizer: null};
var NTI124 = {size: 0,kind: 36,base: null,node: null,finalizer: null};
var NTI6888 = {size: 0,kind: 35,base: null,node: null,finalizer: null};
var NTI666629 = {size: 0, kind: 14, base: null, node: null, finalizer: null};
var NTI666633 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI666631 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI636002 = {size: 0,kind: 31,base: null,node: null,finalizer: null};
var NTI675221 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI675218 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI675215 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI3456 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI3444 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI3438 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI104 = {size: 0,kind: 31,base: null,node: null,finalizer: null};
var NTI11467 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI3408 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI138 = {size: 0,kind: 28,base: null,node: null,finalizer: null};
var NTI140 = {size: 0,kind: 29,base: null,node: null,finalizer: null};
var NTI3485 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI3424 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI3436 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI3440 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NNI3440 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3440.node = NNI3440;
var NNI3436 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3436.node = NNI3436;
NTI3485.base = NTI3424;
var NNI3424 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "parent", len: 0, typ: NTI3485, name: "parent", sons: null}, 
{kind: 1, offset: "name", len: 0, typ: NTI140, name: "name", sons: null}, 
{kind: 1, offset: "message", len: 0, typ: NTI138, name: "msg", sons: null}, 
{kind: 1, offset: "trace", len: 0, typ: NTI138, name: "trace", sons: null}]};
NTI3424.node = NNI3424;
var NNI3408 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3408.node = NNI3408;
NTI3424.base = NTI3408;
NTI3436.base = NTI3424;
NTI3440.base = NTI3436;
var NNI11467 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI140, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI104, name: "Field1", sons: null}]};
NTI11467.node = NNI11467;
var NNI3438 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3438.node = NNI3438;
NTI3438.base = NTI3436;
var NNI3444 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3444.node = NNI3444;
NTI3444.base = NTI3424;
var NNI3456 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3456.node = NNI3456;
NTI3456.base = NTI3424;
var NNI666629 = {kind: 2, offset: 0, typ: null, name: null, len: 7, sons: [{kind: 1, offset: 0, typ: NTI666629, name: "JNull", len: 0, sons: null}, 
{kind: 1, offset: 1, typ: NTI666629, name: "JBool", len: 0, sons: null}, 
{kind: 1, offset: 2, typ: NTI666629, name: "JInt", len: 0, sons: null}, 
{kind: 1, offset: 3, typ: NTI666629, name: "JFloat", len: 0, sons: null}, 
{kind: 1, offset: 4, typ: NTI666629, name: "JString", len: 0, sons: null}, 
{kind: 1, offset: 5, typ: NTI666629, name: "JObject", len: 0, sons: null}, 
{kind: 1, offset: 6, typ: NTI666629, name: "JArray", len: 0, sons: null}]};
NTI666629.node = NNI666629;
var NNI666649 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI138, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI666631, name: "Field1", sons: null}]};
NTI666649.node = NNI666649;
NTI666648.base = NTI666649;
NTI666653.base = NTI666631;
var NNI666633 = {kind: 3, offset: "kind_666643", len: 7, typ: NTI666629, name: "kind", sons: [[SetConstr(4), {kind: 1, offset: "str_666644", len: 0, typ: NTI138, name: "str", sons: null}], 
[SetConstr(2), {kind: 1, offset: "num_666645", len: 0, typ: NTI6888, name: "num", sons: null}], 
[SetConstr(3), {kind: 1, offset: "fnum_666646", len: 0, typ: NTI124, name: "fnum", sons: null}], 
[SetConstr(1), {kind: 1, offset: "bval_666647", len: 0, typ: NTI130, name: "bval", sons: null}], 
[SetConstr(0), {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []}], 
[SetConstr(5), {kind: 1, offset: "fields_666652", len: 0, typ: NTI666648, name: "fields", sons: null}], 
[SetConstr(6), {kind: 1, offset: "elems_666654", len: 0, typ: NTI666653, name: "elems", sons: null}]]};
NTI666633.node = NNI666633;
NTI666631.base = NTI666633;
var NNI675221 = {kind: 2, len: 3, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI636002, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI138, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI666631, name: "Field2", sons: null}]};
NTI675221.node = NNI675221;
NTI675218.base = NTI675221;
var NNI675215 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "data_675229", len: 0, typ: NTI675218, name: "data", sons: null}, 
{kind: 1, offset: "counter_675232", len: 0, typ: NTI104, name: "counter", sons: null}]};
NTI675215.node = NNI675215;
var NNI675245 = {kind: 2, len: 3, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI636002, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI138, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI138, name: "Field2", sons: null}]};
NTI675245.node = NNI675245;
NTI675242.base = NTI675245;
var NNI675239 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "data_675253", len: 0, typ: NTI675242, name: "data", sons: null}, 
{kind: 1, offset: "counter_675256", len: 0, typ: NTI104, name: "counter", sons: null}]};
NTI675239.node = NNI675239;
var NNI3452 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3452.node = NNI3452;
NTI3452.base = NTI3424;
var NNI20010 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI20002, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI20002, name: "Field1", sons: null}]};
NTI20010.node = NNI20010;
var NNI682207 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "texture_682208", len: 0, typ: NTI43622, name: "texture", sons: null}, 
{kind: 1, offset: "msize_682209", len: 0, typ: NTI20010, name: "mSize", sons: null}, 
{kind: 1, offset: "sizeintexels_682210", len: 0, typ: NTI20010, name: "sizeInTexels", sons: null}, 
{kind: 1, offset: "framebuffer_682211", len: 0, typ: NTI43622, name: "framebuffer", sons: null}]};
NTI682207.node = NNI682207;
var NNI682203 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI682203.node = NNI682203;
NTI682203.base = NTI3408;
NTI682207.base = NTI682203;
var NNI699226 = {kind: 2, len: 38, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "getDay", len: 0, typ: NTI699227, name: "getDay", sons: null}, 
{kind: 1, offset: "getFullYear", len: 0, typ: NTI699230, name: "getFullYear", sons: null}, 
{kind: 1, offset: "getHours", len: 0, typ: NTI699233, name: "getHours", sons: null}, 
{kind: 1, offset: "getMilliseconds", len: 0, typ: NTI699236, name: "getMilliseconds", sons: null}, 
{kind: 1, offset: "getMinutes", len: 0, typ: NTI699239, name: "getMinutes", sons: null}, 
{kind: 1, offset: "getMonth", len: 0, typ: NTI699242, name: "getMonth", sons: null}, 
{kind: 1, offset: "getSeconds", len: 0, typ: NTI699245, name: "getSeconds", sons: null}, 
{kind: 1, offset: "getTime", len: 0, typ: NTI699248, name: "getTime", sons: null}, 
{kind: 1, offset: "getTimezoneOffset", len: 0, typ: NTI699251, name: "getTimezoneOffset", sons: null}, 
{kind: 1, offset: "getDate", len: 0, typ: NTI699254, name: "getDate", sons: null}, 
{kind: 1, offset: "getUTCDate", len: 0, typ: NTI699257, name: "getUTCDate", sons: null}, 
{kind: 1, offset: "getUTCFullYear", len: 0, typ: NTI699260, name: "getUTCFullYear", sons: null}, 
{kind: 1, offset: "getUTCHours", len: 0, typ: NTI699263, name: "getUTCHours", sons: null}, 
{kind: 1, offset: "getUTCMilliseconds", len: 0, typ: NTI699266, name: "getUTCMilliseconds", sons: null}, 
{kind: 1, offset: "getUTCMinutes", len: 0, typ: NTI699269, name: "getUTCMinutes", sons: null}, 
{kind: 1, offset: "getUTCMonth", len: 0, typ: NTI699272, name: "getUTCMonth", sons: null}, 
{kind: 1, offset: "getUTCSeconds", len: 0, typ: NTI699275, name: "getUTCSeconds", sons: null}, 
{kind: 1, offset: "getUTCDay", len: 0, typ: NTI699278, name: "getUTCDay", sons: null}, 
{kind: 1, offset: "getYear", len: 0, typ: NTI699281, name: "getYear", sons: null}, 
{kind: 1, offset: "parse", len: 0, typ: NTI699284, name: "parse", sons: null}, 
{kind: 1, offset: "setDate", len: 0, typ: NTI699288, name: "setDate", sons: null}, 
{kind: 1, offset: "setFullYear", len: 0, typ: NTI699292, name: "setFullYear", sons: null}, 
{kind: 1, offset: "setHours", len: 0, typ: NTI699296, name: "setHours", sons: null}, 
{kind: 1, offset: "setMilliseconds", len: 0, typ: NTI699300, name: "setMilliseconds", sons: null}, 
{kind: 1, offset: "setMinutes", len: 0, typ: NTI699304, name: "setMinutes", sons: null}, 
{kind: 1, offset: "setMonth", len: 0, typ: NTI699308, name: "setMonth", sons: null}, 
{kind: 1, offset: "setSeconds", len: 0, typ: NTI699312, name: "setSeconds", sons: null}, 
{kind: 1, offset: "setTime", len: 0, typ: NTI699316, name: "setTime", sons: null}, 
{kind: 1, offset: "setUTCDate", len: 0, typ: NTI699320, name: "setUTCDate", sons: null}, 
{kind: 1, offset: "setUTCFullYear", len: 0, typ: NTI699324, name: "setUTCFullYear", sons: null}, 
{kind: 1, offset: "setUTCHours", len: 0, typ: NTI699328, name: "setUTCHours", sons: null}, 
{kind: 1, offset: "setUTCMilliseconds", len: 0, typ: NTI699332, name: "setUTCMilliseconds", sons: null}, 
{kind: 1, offset: "setUTCMinutes", len: 0, typ: NTI699336, name: "setUTCMinutes", sons: null}, 
{kind: 1, offset: "setUTCMonth", len: 0, typ: NTI699340, name: "setUTCMonth", sons: null}, 
{kind: 1, offset: "setUTCSeconds", len: 0, typ: NTI699344, name: "setUTCSeconds", sons: null}, 
{kind: 1, offset: "setYear", len: 0, typ: NTI699348, name: "setYear", sons: null}, 
{kind: 1, offset: "toGMTString", len: 0, typ: NTI699352, name: "toGMTString", sons: null}, 
{kind: 1, offset: "toLocaleString", len: 0, typ: NTI699355, name: "toLocaleString", sons: null}]};
NTI699226.node = NNI699226;
var NNI652006 = {kind: 2, len: 71, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "VERTEX_SHADER", len: 0, typ: NTI43602, name: "VERTEX_SHADER", sons: null}, 
{kind: 1, offset: "FRAGMENT_SHADER", len: 0, typ: NTI43602, name: "FRAGMENT_SHADER", sons: null}, 
{kind: 1, offset: "TEXTURE_2D", len: 0, typ: NTI43602, name: "TEXTURE_2D", sons: null}, 
{kind: 1, offset: "ONE_MINUS_SRC_ALPHA", len: 0, typ: NTI43602, name: "ONE_MINUS_SRC_ALPHA", sons: null}, 
{kind: 1, offset: "ONE_MINUS_DST_ALPHA", len: 0, typ: NTI43602, name: "ONE_MINUS_DST_ALPHA", sons: null}, 
{kind: 1, offset: "SRC_ALPHA", len: 0, typ: NTI43602, name: "SRC_ALPHA", sons: null}, 
{kind: 1, offset: "DST_ALPHA", len: 0, typ: NTI43602, name: "DST_ALPHA", sons: null}, 
{kind: 1, offset: "BLEND", len: 0, typ: NTI43602, name: "BLEND", sons: null}, 
{kind: 1, offset: "TRIANGLES", len: 0, typ: NTI43602, name: "TRIANGLES", sons: null}, 
{kind: 1, offset: "TRIANGLE_FAN", len: 0, typ: NTI43602, name: "TRIANGLE_FAN", sons: null}, 
{kind: 1, offset: "TRIANGLE_STRIP", len: 0, typ: NTI43602, name: "TRIANGLE_STRIP", sons: null}, 
{kind: 1, offset: "COLOR_BUFFER_BIT", len: 0, typ: NTI104, name: "COLOR_BUFFER_BIT", sons: null}, 
{kind: 1, offset: "STENCIL_BUFFER_BIT", len: 0, typ: NTI104, name: "STENCIL_BUFFER_BIT", sons: null}, 
{kind: 1, offset: "DEPTH_BUFFER_BIT", len: 0, typ: NTI104, name: "DEPTH_BUFFER_BIT", sons: null}, 
{kind: 1, offset: "TEXTURE_MIN_FILTER", len: 0, typ: NTI43602, name: "TEXTURE_MIN_FILTER", sons: null}, 
{kind: 1, offset: "TEXTURE_MAG_FILTER", len: 0, typ: NTI43602, name: "TEXTURE_MAG_FILTER", sons: null}, 
{kind: 1, offset: "TEXTURE_WRAP_S", len: 0, typ: NTI43602, name: "TEXTURE_WRAP_S", sons: null}, 
{kind: 1, offset: "TEXTURE_WRAP_T", len: 0, typ: NTI43602, name: "TEXTURE_WRAP_T", sons: null}, 
{kind: 1, offset: "LINEAR", len: 0, typ: NTI43614, name: "LINEAR", sons: null}, 
{kind: 1, offset: "NEAREST", len: 0, typ: NTI43614, name: "NEAREST", sons: null}, 
{kind: 1, offset: "CLAMP_TO_EDGE", len: 0, typ: NTI43614, name: "CLAMP_TO_EDGE", sons: null}, 
{kind: 1, offset: "LINEAR_MIPMAP_NEAREST", len: 0, typ: NTI43614, name: "LINEAR_MIPMAP_NEAREST", sons: null}, 
{kind: 1, offset: "FRAMEBUFFER", len: 0, typ: NTI43602, name: "FRAMEBUFFER", sons: null}, 
{kind: 1, offset: "RENDERBUFFER", len: 0, typ: NTI43602, name: "RENDERBUFFER", sons: null}, 
{kind: 1, offset: "ARRAY_BUFFER", len: 0, typ: NTI43602, name: "ARRAY_BUFFER", sons: null}, 
{kind: 1, offset: "ELEMENT_ARRAY_BUFFER", len: 0, typ: NTI43602, name: "ELEMENT_ARRAY_BUFFER", sons: null}, 
{kind: 1, offset: "RGBA", len: 0, typ: NTI43602, name: "RGBA", sons: null}, 
{kind: 1, offset: "ALPHA", len: 0, typ: NTI43602, name: "ALPHA", sons: null}, 
{kind: 1, offset: "UNSIGNED_BYTE", len: 0, typ: NTI43602, name: "UNSIGNED_BYTE", sons: null}, 
{kind: 1, offset: "COLOR_ATTACHMENT0", len: 0, typ: NTI43602, name: "COLOR_ATTACHMENT0", sons: null}, 
{kind: 1, offset: "DEPTH_ATTACHMENT", len: 0, typ: NTI43602, name: "DEPTH_ATTACHMENT", sons: null}, 
{kind: 1, offset: "DEPTH_STENCIL_ATTACHMENT", len: 0, typ: NTI43602, name: "DEPTH_STENCIL_ATTACHMENT", sons: null}, 
{kind: 1, offset: "DEPTH_COMPONENT16", len: 0, typ: NTI43602, name: "DEPTH_COMPONENT16", sons: null}, 
{kind: 1, offset: "DEPTH_STENCIL", len: 0, typ: NTI43602, name: "DEPTH_STENCIL", sons: null}, 
{kind: 1, offset: "DEPTH24_STENCIL8", len: 0, typ: NTI43602, name: "DEPTH24_STENCIL8", sons: null}, 
{kind: 1, offset: "FRAMEBUFFER_BINDING", len: 0, typ: NTI43602, name: "FRAMEBUFFER_BINDING", sons: null}, 
{kind: 1, offset: "RENDERBUFFER_BINDING", len: 0, typ: NTI43602, name: "RENDERBUFFER_BINDING", sons: null}, 
{kind: 1, offset: "STENCIL_TEST", len: 0, typ: NTI43602, name: "STENCIL_TEST", sons: null}, 
{kind: 1, offset: "DEPTH_TEST", len: 0, typ: NTI43602, name: "DEPTH_TEST", sons: null}, 
{kind: 1, offset: "NEVER", len: 0, typ: NTI43602, name: "NEVER", sons: null}, 
{kind: 1, offset: "LESS", len: 0, typ: NTI43602, name: "LESS", sons: null}, 
{kind: 1, offset: "LEQUAL", len: 0, typ: NTI43602, name: "LEQUAL", sons: null}, 
{kind: 1, offset: "GREATER", len: 0, typ: NTI43602, name: "GREATER", sons: null}, 
{kind: 1, offset: "GEQUAL", len: 0, typ: NTI43602, name: "GEQUAL", sons: null}, 
{kind: 1, offset: "EQUAL", len: 0, typ: NTI43602, name: "EQUAL", sons: null}, 
{kind: 1, offset: "NOTEQUAL", len: 0, typ: NTI43602, name: "NOTEQUAL", sons: null}, 
{kind: 1, offset: "ALWAYS", len: 0, typ: NTI43602, name: "ALWAYS", sons: null}, 
{kind: 1, offset: "KEEP", len: 0, typ: NTI43602, name: "KEEP", sons: null}, 
{kind: 1, offset: "ZERO", len: 0, typ: NTI43602, name: "ZERO", sons: null}, 
{kind: 1, offset: "REPLACE", len: 0, typ: NTI43602, name: "REPLACE", sons: null}, 
{kind: 1, offset: "INCR", len: 0, typ: NTI43602, name: "INCR", sons: null}, 
{kind: 1, offset: "INCR_WRAP", len: 0, typ: NTI43602, name: "INCR_WRAP", sons: null}, 
{kind: 1, offset: "DECR", len: 0, typ: NTI43602, name: "DECR", sons: null}, 
{kind: 1, offset: "DECR_WRAP", len: 0, typ: NTI43602, name: "DECR_WRAP", sons: null}, 
{kind: 1, offset: "INVERT", len: 0, typ: NTI43602, name: "INVERT", sons: null}, 
{kind: 1, offset: "STREAM_DRAW", len: 0, typ: NTI43602, name: "STREAM_DRAW", sons: null}, 
{kind: 1, offset: "STREAM_READ", len: 0, typ: NTI43602, name: "STREAM_READ", sons: null}, 
{kind: 1, offset: "STREAM_COPY", len: 0, typ: NTI43602, name: "STREAM_COPY", sons: null}, 
{kind: 1, offset: "STATIC_DRAW", len: 0, typ: NTI43602, name: "STATIC_DRAW", sons: null}, 
{kind: 1, offset: "STATIC_READ", len: 0, typ: NTI43602, name: "STATIC_READ", sons: null}, 
{kind: 1, offset: "STATIC_COPY", len: 0, typ: NTI43602, name: "STATIC_COPY", sons: null}, 
{kind: 1, offset: "DYNAMIC_DRAW", len: 0, typ: NTI43602, name: "DYNAMIC_DRAW", sons: null}, 
{kind: 1, offset: "DYNAMIC_READ", len: 0, typ: NTI43602, name: "DYNAMIC_READ", sons: null}, 
{kind: 1, offset: "DYNAMIC_COPY", len: 0, typ: NTI43602, name: "DYNAMIC_COPY", sons: null}, 
{kind: 1, offset: "FLOAT", len: 0, typ: NTI43602, name: "FLOAT", sons: null}, 
{kind: 1, offset: "UNSIGNED_SHORT", len: 0, typ: NTI43602, name: "UNSIGNED_SHORT", sons: null}, 
{kind: 1, offset: "TEXTURE0", len: 0, typ: NTI43602, name: "TEXTURE0", sons: null}, 
{kind: 1, offset: "CULL_FACE", len: 0, typ: NTI43602, name: "CULL_FACE", sons: null}, 
{kind: 1, offset: "FRONT", len: 0, typ: NTI43602, name: "FRONT", sons: null}, 
{kind: 1, offset: "BACK", len: 0, typ: NTI43602, name: "BACK", sons: null}, 
{kind: 1, offset: "FRONT_AND_BACK", len: 0, typ: NTI43602, name: "FRONT_AND_BACK", sons: null}]};
NTI652006.node = NNI652006;
NTI652004.base = NTI652006;
NTI21002.base = NTI20002;
NTI690121.base = NTI21002;
var NNI20018 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI20004, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI20004, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI20004, name: "Field2", sons: null}, 
{kind: 1, offset: "Field3", len: 0, typ: NTI20004, name: "Field3", sons: null}]};
NTI20018.node = NNI20018;
var NNI690203 = {kind: 2, len: 9, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "gl_690204", len: 0, typ: NTI652004, name: "gl", sons: null}, 
{kind: 1, offset: "ptransform_690205", len: 0, typ: NTI690121, name: "pTransform", sons: null}, 
{kind: 1, offset: "fillcolor_690206", len: 0, typ: NTI20018, name: "fillColor", sons: null}, 
{kind: 1, offset: "strokecolor_690207", len: 0, typ: NTI20018, name: "strokeColor", sons: null}, 
{kind: 1, offset: "strokewidth_690208", len: 0, typ: NTI20002, name: "strokeWidth", sons: null}, 
{kind: 1, offset: "fontshaderprogram_690209", len: 0, typ: NTI43622, name: "fontShaderProgram", sons: null}, 
{kind: 1, offset: "testpolyshaderprogram_690210", len: 0, typ: NTI43622, name: "testPolyShaderProgram", sons: null}, 
{kind: 1, offset: "debugclipcolor_690211", len: 0, typ: NTI20018, name: "debugClipColor", sons: null}, 
{kind: 1, offset: "alpha_690212", len: 0, typ: NTI20002, name: "alpha", sons: null}]};
NTI690203.node = NNI690203;
NTI690203.base = NTI3408;
NTI690202.base = NTI690203;
var NNI644216 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI644216.node = NNI644216;
NTI644216.base = NTI3408;
NTI644214.base = NTI644216;
NTI644494.base = NTI644228;
var NNI644250 = {kind: 2, len: 5, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "action", len: 0, typ: NTI140, name: "action", sons: null}, 
{kind: 1, offset: "encoding", len: 0, typ: NTI140, name: "encoding", sons: null}, 
{kind: 1, offset: "method", len: 0, typ: NTI140, name: "method", sons: null}, 
{kind: 1, offset: "target", len: 0, typ: NTI140, name: "target", sons: null}, 
{kind: 1, offset: "elements", len: 0, typ: NTI644494, name: "elements", sons: null}]};
NTI644250.node = NNI644250;
NTI644250.base = NTI644230;
NTI644248.base = NTI644250;
var NNI644246 = {kind: 2, len: 5, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "defaultSelected", len: 0, typ: NTI130, name: "defaultSelected", sons: null}, 
{kind: 1, offset: "selected", len: 0, typ: NTI130, name: "selected", sons: null}, 
{kind: 1, offset: "selectedIndex", len: 0, typ: NTI104, name: "selectedIndex", sons: null}, 
{kind: 1, offset: "text", len: 0, typ: NTI140, name: "text", sons: null}, 
{kind: 1, offset: "value", len: 0, typ: NTI140, name: "value", sons: null}]};
NTI644246.node = NNI644246;
NTI644246.base = NTI644230;
NTI644244.base = NTI644246;
NTI644470.base = NTI644244;
var NNI644230 = {kind: 2, len: 9, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "classList", len: 0, typ: NTI644214, name: "classList", sons: null}, 
{kind: 1, offset: "checked", len: 0, typ: NTI130, name: "checked", sons: null}, 
{kind: 1, offset: "defaultChecked", len: 0, typ: NTI130, name: "defaultChecked", sons: null}, 
{kind: 1, offset: "defaultValue", len: 0, typ: NTI140, name: "defaultValue", sons: null}, 
{kind: 1, offset: "disabled", len: 0, typ: NTI130, name: "disabled", sons: null}, 
{kind: 1, offset: "form", len: 0, typ: NTI644248, name: "form", sons: null}, 
{kind: 1, offset: "name", len: 0, typ: NTI140, name: "name", sons: null}, 
{kind: 1, offset: "readOnly", len: 0, typ: NTI130, name: "readOnly", sons: null}, 
{kind: 1, offset: "options", len: 0, typ: NTI644470, name: "options", sons: null}]};
NTI644230.node = NNI644230;
NTI644220.base = NTI644222;
NTI644419.base = NTI644220;
NTI644421.base = NTI644220;
NTI644423.base = NTI644220;
var NNI644218 = {kind: 2, offset: 0, typ: null, name: null, len: 12, sons: [{kind: 1, offset: 1, typ: NTI644218, name: "ElementNode", len: 0, sons: null}, 
{kind: 1, offset: 2, typ: NTI644218, name: "AttributeNode", len: 0, sons: null}, 
{kind: 1, offset: 3, typ: NTI644218, name: "TextNode", len: 0, sons: null}, 
{kind: 1, offset: 4, typ: NTI644218, name: "CDATANode", len: 0, sons: null}, 
{kind: 1, offset: 5, typ: NTI644218, name: "EntityRefNode", len: 0, sons: null}, 
{kind: 1, offset: 6, typ: NTI644218, name: "EntityNode", len: 0, sons: null}, 
{kind: 1, offset: 7, typ: NTI644218, name: "ProcessingInstructionNode", len: 0, sons: null}, 
{kind: 1, offset: 8, typ: NTI644218, name: "CommentNode", len: 0, sons: null}, 
{kind: 1, offset: 9, typ: NTI644218, name: "DocumentNode", len: 0, sons: null}, 
{kind: 1, offset: 10, typ: NTI644218, name: "DocumentTypeNode", len: 0, sons: null}, 
{kind: 1, offset: 11, typ: NTI644218, name: "DocumentFragmentNode", len: 0, sons: null}, 
{kind: 1, offset: 12, typ: NTI644218, name: "NotationNode", len: 0, sons: null}]};
NTI644218.node = NNI644218;
var NNI644258 = {kind: 2, len: 89, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "background", len: 0, typ: NTI140, name: "background", sons: null}, 
{kind: 1, offset: "backgroundAttachment", len: 0, typ: NTI140, name: "backgroundAttachment", sons: null}, 
{kind: 1, offset: "backgroundColor", len: 0, typ: NTI140, name: "backgroundColor", sons: null}, 
{kind: 1, offset: "backgroundImage", len: 0, typ: NTI140, name: "backgroundImage", sons: null}, 
{kind: 1, offset: "backgroundPosition", len: 0, typ: NTI140, name: "backgroundPosition", sons: null}, 
{kind: 1, offset: "backgroundRepeat", len: 0, typ: NTI140, name: "backgroundRepeat", sons: null}, 
{kind: 1, offset: "border", len: 0, typ: NTI140, name: "border", sons: null}, 
{kind: 1, offset: "borderBottom", len: 0, typ: NTI140, name: "borderBottom", sons: null}, 
{kind: 1, offset: "borderBottomColor", len: 0, typ: NTI140, name: "borderBottomColor", sons: null}, 
{kind: 1, offset: "borderBottomStyle", len: 0, typ: NTI140, name: "borderBottomStyle", sons: null}, 
{kind: 1, offset: "borderBottomWidth", len: 0, typ: NTI140, name: "borderBottomWidth", sons: null}, 
{kind: 1, offset: "borderColor", len: 0, typ: NTI140, name: "borderColor", sons: null}, 
{kind: 1, offset: "borderLeft", len: 0, typ: NTI140, name: "borderLeft", sons: null}, 
{kind: 1, offset: "borderLeftColor", len: 0, typ: NTI140, name: "borderLeftColor", sons: null}, 
{kind: 1, offset: "borderLeftStyle", len: 0, typ: NTI140, name: "borderLeftStyle", sons: null}, 
{kind: 1, offset: "borderLeftWidth", len: 0, typ: NTI140, name: "borderLeftWidth", sons: null}, 
{kind: 1, offset: "borderRight", len: 0, typ: NTI140, name: "borderRight", sons: null}, 
{kind: 1, offset: "borderRightColor", len: 0, typ: NTI140, name: "borderRightColor", sons: null}, 
{kind: 1, offset: "borderRightStyle", len: 0, typ: NTI140, name: "borderRightStyle", sons: null}, 
{kind: 1, offset: "borderRightWidth", len: 0, typ: NTI140, name: "borderRightWidth", sons: null}, 
{kind: 1, offset: "borderStyle", len: 0, typ: NTI140, name: "borderStyle", sons: null}, 
{kind: 1, offset: "borderTop", len: 0, typ: NTI140, name: "borderTop", sons: null}, 
{kind: 1, offset: "borderTopColor", len: 0, typ: NTI140, name: "borderTopColor", sons: null}, 
{kind: 1, offset: "borderTopStyle", len: 0, typ: NTI140, name: "borderTopStyle", sons: null}, 
{kind: 1, offset: "borderTopWidth", len: 0, typ: NTI140, name: "borderTopWidth", sons: null}, 
{kind: 1, offset: "borderWidth", len: 0, typ: NTI140, name: "borderWidth", sons: null}, 
{kind: 1, offset: "bottom", len: 0, typ: NTI140, name: "bottom", sons: null}, 
{kind: 1, offset: "captionSide", len: 0, typ: NTI140, name: "captionSide", sons: null}, 
{kind: 1, offset: "clear", len: 0, typ: NTI140, name: "clear", sons: null}, 
{kind: 1, offset: "clip", len: 0, typ: NTI140, name: "clip", sons: null}, 
{kind: 1, offset: "color", len: 0, typ: NTI140, name: "color", sons: null}, 
{kind: 1, offset: "cursor", len: 0, typ: NTI140, name: "cursor", sons: null}, 
{kind: 1, offset: "direction", len: 0, typ: NTI140, name: "direction", sons: null}, 
{kind: 1, offset: "display", len: 0, typ: NTI140, name: "display", sons: null}, 
{kind: 1, offset: "emptyCells", len: 0, typ: NTI140, name: "emptyCells", sons: null}, 
{kind: 1, offset: "cssFloat", len: 0, typ: NTI140, name: "cssFloat", sons: null}, 
{kind: 1, offset: "font", len: 0, typ: NTI140, name: "font", sons: null}, 
{kind: 1, offset: "fontFamily", len: 0, typ: NTI140, name: "fontFamily", sons: null}, 
{kind: 1, offset: "fontSize", len: 0, typ: NTI140, name: "fontSize", sons: null}, 
{kind: 1, offset: "fontStretch", len: 0, typ: NTI140, name: "fontStretch", sons: null}, 
{kind: 1, offset: "fontStyle", len: 0, typ: NTI140, name: "fontStyle", sons: null}, 
{kind: 1, offset: "fontVariant", len: 0, typ: NTI140, name: "fontVariant", sons: null}, 
{kind: 1, offset: "fontWeight", len: 0, typ: NTI140, name: "fontWeight", sons: null}, 
{kind: 1, offset: "height", len: 0, typ: NTI140, name: "height", sons: null}, 
{kind: 1, offset: "left", len: 0, typ: NTI140, name: "left", sons: null}, 
{kind: 1, offset: "letterSpacing", len: 0, typ: NTI140, name: "letterSpacing", sons: null}, 
{kind: 1, offset: "lineHeight", len: 0, typ: NTI140, name: "lineHeight", sons: null}, 
{kind: 1, offset: "listStyle", len: 0, typ: NTI140, name: "listStyle", sons: null}, 
{kind: 1, offset: "listStyleImage", len: 0, typ: NTI140, name: "listStyleImage", sons: null}, 
{kind: 1, offset: "listStylePosition", len: 0, typ: NTI140, name: "listStylePosition", sons: null}, 
{kind: 1, offset: "listStyleType", len: 0, typ: NTI140, name: "listStyleType", sons: null}, 
{kind: 1, offset: "margin", len: 0, typ: NTI140, name: "margin", sons: null}, 
{kind: 1, offset: "marginBottom", len: 0, typ: NTI140, name: "marginBottom", sons: null}, 
{kind: 1, offset: "marginLeft", len: 0, typ: NTI140, name: "marginLeft", sons: null}, 
{kind: 1, offset: "marginRight", len: 0, typ: NTI140, name: "marginRight", sons: null}, 
{kind: 1, offset: "marginTop", len: 0, typ: NTI140, name: "marginTop", sons: null}, 
{kind: 1, offset: "maxHeight", len: 0, typ: NTI140, name: "maxHeight", sons: null}, 
{kind: 1, offset: "maxWidth", len: 0, typ: NTI140, name: "maxWidth", sons: null}, 
{kind: 1, offset: "minHeight", len: 0, typ: NTI140, name: "minHeight", sons: null}, 
{kind: 1, offset: "minWidth", len: 0, typ: NTI140, name: "minWidth", sons: null}, 
{kind: 1, offset: "overflow", len: 0, typ: NTI140, name: "overflow", sons: null}, 
{kind: 1, offset: "padding", len: 0, typ: NTI140, name: "padding", sons: null}, 
{kind: 1, offset: "paddingBottom", len: 0, typ: NTI140, name: "paddingBottom", sons: null}, 
{kind: 1, offset: "paddingLeft", len: 0, typ: NTI140, name: "paddingLeft", sons: null}, 
{kind: 1, offset: "paddingRight", len: 0, typ: NTI140, name: "paddingRight", sons: null}, 
{kind: 1, offset: "paddingTop", len: 0, typ: NTI140, name: "paddingTop", sons: null}, 
{kind: 1, offset: "pageBreakAfter", len: 0, typ: NTI140, name: "pageBreakAfter", sons: null}, 
{kind: 1, offset: "pageBreakBefore", len: 0, typ: NTI140, name: "pageBreakBefore", sons: null}, 
{kind: 1, offset: "position", len: 0, typ: NTI140, name: "position", sons: null}, 
{kind: 1, offset: "right", len: 0, typ: NTI140, name: "right", sons: null}, 
{kind: 1, offset: "scrollbar3dLightColor", len: 0, typ: NTI140, name: "scrollbar3dLightColor", sons: null}, 
{kind: 1, offset: "scrollbarArrowColor", len: 0, typ: NTI140, name: "scrollbarArrowColor", sons: null}, 
{kind: 1, offset: "scrollbarBaseColor", len: 0, typ: NTI140, name: "scrollbarBaseColor", sons: null}, 
{kind: 1, offset: "scrollbarDarkshadowColor", len: 0, typ: NTI140, name: "scrollbarDarkshadowColor", sons: null}, 
{kind: 1, offset: "scrollbarFaceColor", len: 0, typ: NTI140, name: "scrollbarFaceColor", sons: null}, 
{kind: 1, offset: "scrollbarHighlightColor", len: 0, typ: NTI140, name: "scrollbarHighlightColor", sons: null}, 
{kind: 1, offset: "scrollbarShadowColor", len: 0, typ: NTI140, name: "scrollbarShadowColor", sons: null}, 
{kind: 1, offset: "scrollbarTrackColor", len: 0, typ: NTI140, name: "scrollbarTrackColor", sons: null}, 
{kind: 1, offset: "tableLayout", len: 0, typ: NTI140, name: "tableLayout", sons: null}, 
{kind: 1, offset: "textAlign", len: 0, typ: NTI140, name: "textAlign", sons: null}, 
{kind: 1, offset: "textDecoration", len: 0, typ: NTI140, name: "textDecoration", sons: null}, 
{kind: 1, offset: "textIndent", len: 0, typ: NTI140, name: "textIndent", sons: null}, 
{kind: 1, offset: "textTransform", len: 0, typ: NTI140, name: "textTransform", sons: null}, 
{kind: 1, offset: "top", len: 0, typ: NTI140, name: "top", sons: null}, 
{kind: 1, offset: "verticalAlign", len: 0, typ: NTI140, name: "verticalAlign", sons: null}, 
{kind: 1, offset: "visibility", len: 0, typ: NTI140, name: "visibility", sons: null}, 
{kind: 1, offset: "width", len: 0, typ: NTI140, name: "width", sons: null}, 
{kind: 1, offset: "wordSpacing", len: 0, typ: NTI140, name: "wordSpacing", sons: null}, 
{kind: 1, offset: "zIndex", len: 0, typ: NTI104, name: "zIndex", sons: null}]};
NTI644258.node = NNI644258;
NTI644258.base = NTI3408;
NTI644256.base = NTI644258;
var NNI644222 = {kind: 2, len: 14, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "attributes", len: 0, typ: NTI644419, name: "attributes", sons: null}, 
{kind: 1, offset: "childNodes", len: 0, typ: NTI644421, name: "childNodes", sons: null}, 
{kind: 1, offset: "children", len: 0, typ: NTI644423, name: "children", sons: null}, 
{kind: 1, offset: "data", len: 0, typ: NTI140, name: "data", sons: null}, 
{kind: 1, offset: "firstChild", len: 0, typ: NTI644220, name: "firstChild", sons: null}, 
{kind: 1, offset: "lastChild", len: 0, typ: NTI644220, name: "lastChild", sons: null}, 
{kind: 1, offset: "nextSibling", len: 0, typ: NTI644220, name: "nextSibling", sons: null}, 
{kind: 1, offset: "nodeName", len: 0, typ: NTI140, name: "nodeName", sons: null}, 
{kind: 1, offset: "nodeType", len: 0, typ: NTI644218, name: "nodeType", sons: null}, 
{kind: 1, offset: "nodeValue", len: 0, typ: NTI140, name: "nodeValue", sons: null}, 
{kind: 1, offset: "parentNode", len: 0, typ: NTI644220, name: "parentNode", sons: null}, 
{kind: 1, offset: "previousSibling", len: 0, typ: NTI644220, name: "previousSibling", sons: null}, 
{kind: 1, offset: "innerHTML", len: 0, typ: NTI140, name: "innerHTML", sons: null}, 
{kind: 1, offset: "style", len: 0, typ: NTI644256, name: "style", sons: null}]};
NTI644222.node = NNI644222;
var NNI644204 = {kind: 2, len: 20, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "onabort", len: 0, typ: NTI644299, name: "onabort", sons: null}, 
{kind: 1, offset: "onblur", len: 0, typ: NTI644303, name: "onblur", sons: null}, 
{kind: 1, offset: "onchange", len: 0, typ: NTI644307, name: "onchange", sons: null}, 
{kind: 1, offset: "onclick", len: 0, typ: NTI644311, name: "onclick", sons: null}, 
{kind: 1, offset: "ondblclick", len: 0, typ: NTI644315, name: "ondblclick", sons: null}, 
{kind: 1, offset: "onerror", len: 0, typ: NTI644319, name: "onerror", sons: null}, 
{kind: 1, offset: "onfocus", len: 0, typ: NTI644323, name: "onfocus", sons: null}, 
{kind: 1, offset: "onkeydown", len: 0, typ: NTI644327, name: "onkeydown", sons: null}, 
{kind: 1, offset: "onkeypress", len: 0, typ: NTI644331, name: "onkeypress", sons: null}, 
{kind: 1, offset: "onkeyup", len: 0, typ: NTI644335, name: "onkeyup", sons: null}, 
{kind: 1, offset: "onload", len: 0, typ: NTI644339, name: "onload", sons: null}, 
{kind: 1, offset: "onmousedown", len: 0, typ: NTI644343, name: "onmousedown", sons: null}, 
{kind: 1, offset: "onmousemove", len: 0, typ: NTI644347, name: "onmousemove", sons: null}, 
{kind: 1, offset: "onmouseout", len: 0, typ: NTI644351, name: "onmouseout", sons: null}, 
{kind: 1, offset: "onmouseover", len: 0, typ: NTI644355, name: "onmouseover", sons: null}, 
{kind: 1, offset: "onmouseup", len: 0, typ: NTI644359, name: "onmouseup", sons: null}, 
{kind: 1, offset: "onreset", len: 0, typ: NTI644363, name: "onreset", sons: null}, 
{kind: 1, offset: "onselect", len: 0, typ: NTI644367, name: "onselect", sons: null}, 
{kind: 1, offset: "onsubmit", len: 0, typ: NTI644371, name: "onsubmit", sons: null}, 
{kind: 1, offset: "onunload", len: 0, typ: NTI644375, name: "onunload", sons: null}]};
NTI644204.node = NNI644204;
NTI644204.base = NTI3408;
NTI644222.base = NTI644204;
NTI644230.base = NTI644222;
NTI644228.base = NTI644230;
var NNI709003 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "renderingcontext_709004", len: 0, typ: NTI690202, name: "renderingContext", sons: null}, 
{kind: 1, offset: "canvas_709005", len: 0, typ: NTI644228, name: "canvas", sons: null}]};
NTI709003.node = NNI709003;
NTI696018.base = NTI696034;
var NNI20006 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI20002, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI20002, name: "Field1", sons: null}]};
NTI20006.node = NNI20006;
var NNI20014 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI20006, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI20010, name: "Field1", sons: null}]};
NTI20014.node = NNI20014;
NTI696025.base = NTI696016;
var NNI696002 = {kind: 2, offset: 0, typ: null, name: null, len: 6, sons: [{kind: 1, offset: 0, typ: NTI696002, name: "afFlexibleMinX", len: 0, sons: null}, 
{kind: 1, offset: 1, typ: NTI696002, name: "afFlexibleMaxX", len: 0, sons: null}, 
{kind: 1, offset: 2, typ: NTI696002, name: "afFlexibleMinY", len: 0, sons: null}, 
{kind: 1, offset: 3, typ: NTI696002, name: "afFlexibleMaxY", len: 0, sons: null}, 
{kind: 1, offset: 4, typ: NTI696002, name: "afFlexibleWidth", len: 0, sons: null}, 
{kind: 1, offset: 5, typ: NTI696002, name: "afFlexibleHeight", len: 0, sons: null}]};
NTI696002.node = NNI696002;
NTI696028.base = NTI696002;
var NNI696019 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI696019.node = NNI696019;
NTI696019.base = NTI3408;
NTI696014.base = NTI696019;
NTI696031.base = NTI696014;
var NNI696021 = {kind: 2, len: 8, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "window_696022", len: 0, typ: NTI696018, name: "window", sons: null}, 
{kind: 1, offset: "frame_696023", len: 0, typ: NTI20014, name: "frame", sons: null}, 
{kind: 1, offset: "bounds_696024", len: 0, typ: NTI20014, name: "bounds", sons: null}, 
{kind: 1, offset: "subviews_696026", len: 0, typ: NTI696025, name: "subviews", sons: null}, 
{kind: 1, offset: "superview_696027", len: 0, typ: NTI696016, name: "superview", sons: null}, 
{kind: 1, offset: "autoresizingmask_696029", len: 0, typ: NTI696028, name: "autoresizingMask", sons: null}, 
{kind: 1, offset: "backgroundcolor_696030", len: 0, typ: NTI20018, name: "backgroundColor", sons: null}, 
{kind: 1, offset: "gesturedetectors_696032", len: 0, typ: NTI696031, name: "gestureDetectors", sons: null}]};
NTI696021.node = NNI696021;
NTI696021.base = NTI3408;
NTI696016.base = NTI696021;
var NNI40002 = {kind: 2, offset: 0, typ: null, name: null, len: 4, sons: [{kind: 1, offset: 0, typ: NTI40002, name: "lpStartToEndToStart", len: 0, sons: null}, 
{kind: 1, offset: 1, typ: NTI40002, name: "lpStartToEnd", len: 0, sons: null}, 
{kind: 1, offset: 2, typ: NTI40002, name: "lpEndToStart", len: 0, sons: null}, 
{kind: 1, offset: 3, typ: NTI40002, name: "lpEndToStartToEnd", len: 0, sons: null}]};
NTI40002.node = NNI40002;
var NNI40016 = {kind: 2, len: 3, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "handler_40019", len: 0, typ: NTI40017, name: "handler", sons: null}, 
{kind: 1, offset: "progress_40020", len: 0, typ: NTI124, name: "progress", sons: null}, 
{kind: 1, offset: "callifcancelled_40021", len: 0, typ: NTI130, name: "callIfCancelled", sons: null}]};
NTI40016.node = NNI40016;
NTI40035.base = NTI40016;
NTI40037.base = NTI40016;
var NNI40024 = {kind: 2, len: 14, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "starttime_40025", len: 0, typ: NTI124, name: "startTime", sons: null}, 
{kind: 1, offset: "loopduration_40026", len: 0, typ: NTI124, name: "loopDuration", sons: null}, 
{kind: 1, offset: "looppattern_40027", len: 0, typ: NTI40002, name: "loopPattern", sons: null}, 
{kind: 1, offset: "numberofloops_40028", len: 0, typ: NTI104, name: "numberOfLoops", sons: null}, 
{kind: 1, offset: "timingfunction_40029", len: 0, typ: NTI40008, name: "timingFunction", sons: null}, 
{kind: 1, offset: "onanimate_40030", len: 0, typ: NTI40012, name: "onAnimate", sons: null}, 
{kind: 1, offset: "finished_40031", len: 0, typ: NTI130, name: "finished", sons: null}, 
{kind: 1, offset: "cancelloop_40032", len: 0, typ: NTI104, name: "cancelLoop", sons: null}, 
{kind: 1, offset: "curloop_40033", len: 0, typ: NTI104, name: "curLoop", sons: null}, 
{kind: 1, offset: "continueuntilendoflooponcancel_40034", len: 0, typ: NTI130, name: "continueUntilEndOfLoopOnCancel", sons: null}, 
{kind: 1, offset: "loopprogresshandlers_40036", len: 0, typ: NTI40035, name: "loopProgressHandlers", sons: null}, 
{kind: 1, offset: "totalprogresshandlers_40038", len: 0, typ: NTI40037, name: "totalProgressHandlers", sons: null}, 
{kind: 1, offset: "lphit_40039", len: 0, typ: NTI104, name: "lphIt", sons: null}, 
{kind: 1, offset: "tphit_40040", len: 0, typ: NTI104, name: "tphIt", sons: null}]};
NTI40024.node = NNI40024;
NTI40024.base = NTI3408;
NTI40023.base = NTI40024;
NTI696036.base = NTI40023;
var NNI696034 = {kind: 2, len: 3, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "firstresponder_696035", len: 0, typ: NTI696016, name: "firstResponder", sons: null}, 
{kind: 1, offset: "animations_696037", len: 0, typ: NTI696036, name: "animations", sons: null}, 
{kind: 1, offset: "needsdisplay_696038", len: 0, typ: NTI130, name: "needsDisplay", sons: null}]};
NTI696034.node = NNI696034;
NTI696034.base = NTI696021;
NTI709003.base = NTI696034;
NTI696076.base = NTI696002;
var NNI704002 = {kind: 2, offset: 0, typ: null, name: null, len: 10, sons: [{kind: 1, offset: 0, typ: NTI704002, name: "etUnknown", len: 0, sons: null}, 
{kind: 1, offset: 1, typ: NTI704002, name: "etMouse", len: 0, sons: null}, 
{kind: 1, offset: 2, typ: NTI704002, name: "etTouch", len: 0, sons: null}, 
{kind: 1, offset: 3, typ: NTI704002, name: "etScroll", len: 0, sons: null}, 
{kind: 1, offset: 4, typ: NTI704002, name: "etKeyboard", len: 0, sons: null}, 
{kind: 1, offset: 5, typ: NTI704002, name: "etWindowResized", len: 0, sons: null}, 
{kind: 1, offset: 6, typ: NTI704002, name: "etTextInput", len: 0, sons: null}, 
{kind: 1, offset: 7, typ: NTI704002, name: "etTextEditing", len: 0, sons: null}, 
{kind: 1, offset: 8, typ: NTI704002, name: "etAppWillEnterBackground", len: 0, sons: null}, 
{kind: 1, offset: 9, typ: NTI704002, name: "etAppWillEnterForeground", len: 0, sons: null}]};
NTI704002.node = NNI704002;
var NNI703010 = {kind: 2, offset: 0, typ: null, name: null, len: 170, sons: [{kind: 1, offset: 0, typ: NTI703010, name: "Unknown", len: 0, sons: null}, 
{kind: 1, offset: 1, typ: NTI703010, name: "MouseButtonPrimary", len: 0, sons: null}, 
{kind: 1, offset: 2, typ: NTI703010, name: "MouseButtonSecondary", len: 0, sons: null}, 
{kind: 1, offset: 3, typ: NTI703010, name: "MouseButtonMiddle", len: 0, sons: null}, 
{kind: 1, offset: 4, typ: NTI703010, name: "Escape", len: 0, sons: null}, 
{kind: 1, offset: 5, typ: NTI703010, name: "One", len: 0, sons: null}, 
{kind: 1, offset: 6, typ: NTI703010, name: "Two", len: 0, sons: null}, 
{kind: 1, offset: 7, typ: NTI703010, name: "Three", len: 0, sons: null}, 
{kind: 1, offset: 8, typ: NTI703010, name: "Four", len: 0, sons: null}, 
{kind: 1, offset: 9, typ: NTI703010, name: "Five", len: 0, sons: null}, 
{kind: 1, offset: 10, typ: NTI703010, name: "Six", len: 0, sons: null}, 
{kind: 1, offset: 11, typ: NTI703010, name: "Seven", len: 0, sons: null}, 
{kind: 1, offset: 12, typ: NTI703010, name: "Eight", len: 0, sons: null}, 
{kind: 1, offset: 13, typ: NTI703010, name: "Nine", len: 0, sons: null}, 
{kind: 1, offset: 14, typ: NTI703010, name: "Zero", len: 0, sons: null}, 
{kind: 1, offset: 15, typ: NTI703010, name: "Minus", len: 0, sons: null}, 
{kind: 1, offset: 16, typ: NTI703010, name: "Equals", len: 0, sons: null}, 
{kind: 1, offset: 17, typ: NTI703010, name: "Backspace", len: 0, sons: null}, 
{kind: 1, offset: 18, typ: NTI703010, name: "Tab", len: 0, sons: null}, 
{kind: 1, offset: 19, typ: NTI703010, name: "Q", len: 0, sons: null}, 
{kind: 1, offset: 20, typ: NTI703010, name: "W", len: 0, sons: null}, 
{kind: 1, offset: 21, typ: NTI703010, name: "E", len: 0, sons: null}, 
{kind: 1, offset: 22, typ: NTI703010, name: "R", len: 0, sons: null}, 
{kind: 1, offset: 23, typ: NTI703010, name: "T", len: 0, sons: null}, 
{kind: 1, offset: 24, typ: NTI703010, name: "Y", len: 0, sons: null}, 
{kind: 1, offset: 25, typ: NTI703010, name: "U", len: 0, sons: null}, 
{kind: 1, offset: 26, typ: NTI703010, name: "I", len: 0, sons: null}, 
{kind: 1, offset: 27, typ: NTI703010, name: "O", len: 0, sons: null}, 
{kind: 1, offset: 28, typ: NTI703010, name: "P", len: 0, sons: null}, 
{kind: 1, offset: 29, typ: NTI703010, name: "LeftBracket", len: 0, sons: null}, 
{kind: 1, offset: 30, typ: NTI703010, name: "RightBracket", len: 0, sons: null}, 
{kind: 1, offset: 31, typ: NTI703010, name: "Return", len: 0, sons: null}, 
{kind: 1, offset: 32, typ: NTI703010, name: "LeftControl", len: 0, sons: null}, 
{kind: 1, offset: 33, typ: NTI703010, name: "A", len: 0, sons: null}, 
{kind: 1, offset: 34, typ: NTI703010, name: "S", len: 0, sons: null}, 
{kind: 1, offset: 35, typ: NTI703010, name: "D", len: 0, sons: null}, 
{kind: 1, offset: 36, typ: NTI703010, name: "F", len: 0, sons: null}, 
{kind: 1, offset: 37, typ: NTI703010, name: "G", len: 0, sons: null}, 
{kind: 1, offset: 38, typ: NTI703010, name: "H", len: 0, sons: null}, 
{kind: 1, offset: 39, typ: NTI703010, name: "J", len: 0, sons: null}, 
{kind: 1, offset: 40, typ: NTI703010, name: "K", len: 0, sons: null}, 
{kind: 1, offset: 41, typ: NTI703010, name: "L", len: 0, sons: null}, 
{kind: 1, offset: 42, typ: NTI703010, name: "Semicolon", len: 0, sons: null}, 
{kind: 1, offset: 43, typ: NTI703010, name: "Apostrophe", len: 0, sons: null}, 
{kind: 1, offset: 44, typ: NTI703010, name: "Backtick", len: 0, sons: null}, 
{kind: 1, offset: 45, typ: NTI703010, name: "LeftShift", len: 0, sons: null}, 
{kind: 1, offset: 46, typ: NTI703010, name: "BackSlash", len: 0, sons: null}, 
{kind: 1, offset: 47, typ: NTI703010, name: "Z", len: 0, sons: null}, 
{kind: 1, offset: 48, typ: NTI703010, name: "X", len: 0, sons: null}, 
{kind: 1, offset: 49, typ: NTI703010, name: "C", len: 0, sons: null}, 
{kind: 1, offset: 50, typ: NTI703010, name: "V", len: 0, sons: null}, 
{kind: 1, offset: 51, typ: NTI703010, name: "B", len: 0, sons: null}, 
{kind: 1, offset: 52, typ: NTI703010, name: "N", len: 0, sons: null}, 
{kind: 1, offset: 53, typ: NTI703010, name: "M", len: 0, sons: null}, 
{kind: 1, offset: 54, typ: NTI703010, name: "Comma", len: 0, sons: null}, 
{kind: 1, offset: 55, typ: NTI703010, name: "Period", len: 0, sons: null}, 
{kind: 1, offset: 56, typ: NTI703010, name: "Slash", len: 0, sons: null}, 
{kind: 1, offset: 57, typ: NTI703010, name: "RightShift", len: 0, sons: null}, 
{kind: 1, offset: 58, typ: NTI703010, name: "KeypadMultiply", len: 0, sons: null}, 
{kind: 1, offset: 59, typ: NTI703010, name: "LeftAlt", len: 0, sons: null}, 
{kind: 1, offset: 60, typ: NTI703010, name: "Space", len: 0, sons: null}, 
{kind: 1, offset: 61, typ: NTI703010, name: "CapsLock", len: 0, sons: null}, 
{kind: 1, offset: 62, typ: NTI703010, name: "F1", len: 0, sons: null}, 
{kind: 1, offset: 63, typ: NTI703010, name: "F2", len: 0, sons: null}, 
{kind: 1, offset: 64, typ: NTI703010, name: "F3", len: 0, sons: null}, 
{kind: 1, offset: 65, typ: NTI703010, name: "F4", len: 0, sons: null}, 
{kind: 1, offset: 66, typ: NTI703010, name: "F5", len: 0, sons: null}, 
{kind: 1, offset: 67, typ: NTI703010, name: "F6", len: 0, sons: null}, 
{kind: 1, offset: 68, typ: NTI703010, name: "F7", len: 0, sons: null}, 
{kind: 1, offset: 69, typ: NTI703010, name: "F8", len: 0, sons: null}, 
{kind: 1, offset: 70, typ: NTI703010, name: "F9", len: 0, sons: null}, 
{kind: 1, offset: 71, typ: NTI703010, name: "F10", len: 0, sons: null}, 
{kind: 1, offset: 72, typ: NTI703010, name: "NumLock", len: 0, sons: null}, 
{kind: 1, offset: 73, typ: NTI703010, name: "ScrollLock", len: 0, sons: null}, 
{kind: 1, offset: 74, typ: NTI703010, name: "Keypad7", len: 0, sons: null}, 
{kind: 1, offset: 75, typ: NTI703010, name: "Keypad8", len: 0, sons: null}, 
{kind: 1, offset: 76, typ: NTI703010, name: "Keypad9", len: 0, sons: null}, 
{kind: 1, offset: 77, typ: NTI703010, name: "KeypadMinus", len: 0, sons: null}, 
{kind: 1, offset: 78, typ: NTI703010, name: "Keypad4", len: 0, sons: null}, 
{kind: 1, offset: 79, typ: NTI703010, name: "Keypad5", len: 0, sons: null}, 
{kind: 1, offset: 80, typ: NTI703010, name: "Keypad6", len: 0, sons: null}, 
{kind: 1, offset: 81, typ: NTI703010, name: "KeypadPlus", len: 0, sons: null}, 
{kind: 1, offset: 82, typ: NTI703010, name: "Keypad1", len: 0, sons: null}, 
{kind: 1, offset: 83, typ: NTI703010, name: "Keypad2", len: 0, sons: null}, 
{kind: 1, offset: 84, typ: NTI703010, name: "Keypad3", len: 0, sons: null}, 
{kind: 1, offset: 85, typ: NTI703010, name: "Keypad0", len: 0, sons: null}, 
{kind: 1, offset: 86, typ: NTI703010, name: "KeypadPeriod", len: 0, sons: null}, 
{kind: 1, offset: 87, typ: NTI703010, name: "NonUSBackSlash", len: 0, sons: null}, 
{kind: 1, offset: 88, typ: NTI703010, name: "F11", len: 0, sons: null}, 
{kind: 1, offset: 89, typ: NTI703010, name: "F12", len: 0, sons: null}, 
{kind: 1, offset: 90, typ: NTI703010, name: "International1", len: 0, sons: null}, 
{kind: 1, offset: 91, typ: NTI703010, name: "Lang3", len: 0, sons: null}, 
{kind: 1, offset: 92, typ: NTI703010, name: "Lang4", len: 0, sons: null}, 
{kind: 1, offset: 93, typ: NTI703010, name: "International4", len: 0, sons: null}, 
{kind: 1, offset: 94, typ: NTI703010, name: "International2", len: 0, sons: null}, 
{kind: 1, offset: 95, typ: NTI703010, name: "International5", len: 0, sons: null}, 
{kind: 1, offset: 96, typ: NTI703010, name: "International6", len: 0, sons: null}, 
{kind: 1, offset: 97, typ: NTI703010, name: "KeypadEnter", len: 0, sons: null}, 
{kind: 1, offset: 98, typ: NTI703010, name: "RightControl", len: 0, sons: null}, 
{kind: 1, offset: 99, typ: NTI703010, name: "KeypadDivide", len: 0, sons: null}, 
{kind: 1, offset: 100, typ: NTI703010, name: "PrintScreen", len: 0, sons: null}, 
{kind: 1, offset: 101, typ: NTI703010, name: "RightAlt", len: 0, sons: null}, 
{kind: 1, offset: 102, typ: NTI703010, name: "Home", len: 0, sons: null}, 
{kind: 1, offset: 103, typ: NTI703010, name: "Up", len: 0, sons: null}, 
{kind: 1, offset: 104, typ: NTI703010, name: "PageUp", len: 0, sons: null}, 
{kind: 1, offset: 105, typ: NTI703010, name: "Left", len: 0, sons: null}, 
{kind: 1, offset: 106, typ: NTI703010, name: "Right", len: 0, sons: null}, 
{kind: 1, offset: 107, typ: NTI703010, name: "End", len: 0, sons: null}, 
{kind: 1, offset: 108, typ: NTI703010, name: "Down", len: 0, sons: null}, 
{kind: 1, offset: 109, typ: NTI703010, name: "PageDown", len: 0, sons: null}, 
{kind: 1, offset: 110, typ: NTI703010, name: "Insert", len: 0, sons: null}, 
{kind: 1, offset: 111, typ: NTI703010, name: "Delete", len: 0, sons: null}, 
{kind: 1, offset: 112, typ: NTI703010, name: "Mute", len: 0, sons: null}, 
{kind: 1, offset: 113, typ: NTI703010, name: "VolumeDown", len: 0, sons: null}, 
{kind: 1, offset: 114, typ: NTI703010, name: "VolumeUp", len: 0, sons: null}, 
{kind: 1, offset: 115, typ: NTI703010, name: "Power", len: 0, sons: null}, 
{kind: 1, offset: 116, typ: NTI703010, name: "KeypadEquals", len: 0, sons: null}, 
{kind: 1, offset: 117, typ: NTI703010, name: "KeypadPlusMinus", len: 0, sons: null}, 
{kind: 1, offset: 118, typ: NTI703010, name: "Pause", len: 0, sons: null}, 
{kind: 1, offset: 119, typ: NTI703010, name: "KeypadComma", len: 0, sons: null}, 
{kind: 1, offset: 120, typ: NTI703010, name: "Lang1", len: 0, sons: null}, 
{kind: 1, offset: 121, typ: NTI703010, name: "Lang2", len: 0, sons: null}, 
{kind: 1, offset: 122, typ: NTI703010, name: "International3", len: 0, sons: null}, 
{kind: 1, offset: 123, typ: NTI703010, name: "LeftGUI", len: 0, sons: null}, 
{kind: 1, offset: 124, typ: NTI703010, name: "RightGUI", len: 0, sons: null}, 
{kind: 1, offset: 125, typ: NTI703010, name: "Stop", len: 0, sons: null}, 
{kind: 1, offset: 126, typ: NTI703010, name: "Again", len: 0, sons: null}, 
{kind: 1, offset: 127, typ: NTI703010, name: "Undo", len: 0, sons: null}, 
{kind: 1, offset: 128, typ: NTI703010, name: "Copy", len: 0, sons: null}, 
{kind: 1, offset: 129, typ: NTI703010, name: "Paste", len: 0, sons: null}, 
{kind: 1, offset: 130, typ: NTI703010, name: "Find", len: 0, sons: null}, 
{kind: 1, offset: 131, typ: NTI703010, name: "Cut", len: 0, sons: null}, 
{kind: 1, offset: 132, typ: NTI703010, name: "Help", len: 0, sons: null}, 
{kind: 1, offset: 133, typ: NTI703010, name: "Menu", len: 0, sons: null}, 
{kind: 1, offset: 134, typ: NTI703010, name: "Calculator", len: 0, sons: null}, 
{kind: 1, offset: 135, typ: NTI703010, name: "Sleep", len: 0, sons: null}, 
{kind: 1, offset: 136, typ: NTI703010, name: "Mail", len: 0, sons: null}, 
{kind: 1, offset: 137, typ: NTI703010, name: "AcBookmarks", len: 0, sons: null}, 
{kind: 1, offset: 138, typ: NTI703010, name: "Computer", len: 0, sons: null}, 
{kind: 1, offset: 139, typ: NTI703010, name: "AcBack", len: 0, sons: null}, 
{kind: 1, offset: 140, typ: NTI703010, name: "AcForward", len: 0, sons: null}, 
{kind: 1, offset: 141, typ: NTI703010, name: "Eject", len: 0, sons: null}, 
{kind: 1, offset: 142, typ: NTI703010, name: "AudioNext", len: 0, sons: null}, 
{kind: 1, offset: 143, typ: NTI703010, name: "AudioPlay", len: 0, sons: null}, 
{kind: 1, offset: 144, typ: NTI703010, name: "AudioPrev", len: 0, sons: null}, 
{kind: 1, offset: 145, typ: NTI703010, name: "AcHome", len: 0, sons: null}, 
{kind: 1, offset: 146, typ: NTI703010, name: "AcRefresh", len: 0, sons: null}, 
{kind: 1, offset: 147, typ: NTI703010, name: "KeypadLeftPar", len: 0, sons: null}, 
{kind: 1, offset: 148, typ: NTI703010, name: "KeypadRightPar", len: 0, sons: null}, 
{kind: 1, offset: 149, typ: NTI703010, name: "F13", len: 0, sons: null}, 
{kind: 1, offset: 150, typ: NTI703010, name: "F14", len: 0, sons: null}, 
{kind: 1, offset: 151, typ: NTI703010, name: "F15", len: 0, sons: null}, 
{kind: 1, offset: 152, typ: NTI703010, name: "F16", len: 0, sons: null}, 
{kind: 1, offset: 153, typ: NTI703010, name: "F17", len: 0, sons: null}, 
{kind: 1, offset: 154, typ: NTI703010, name: "F18", len: 0, sons: null}, 
{kind: 1, offset: 155, typ: NTI703010, name: "F19", len: 0, sons: null}, 
{kind: 1, offset: 156, typ: NTI703010, name: "F20", len: 0, sons: null}, 
{kind: 1, offset: 157, typ: NTI703010, name: "F21", len: 0, sons: null}, 
{kind: 1, offset: 158, typ: NTI703010, name: "F22", len: 0, sons: null}, 
{kind: 1, offset: 159, typ: NTI703010, name: "F23", len: 0, sons: null}, 
{kind: 1, offset: 160, typ: NTI703010, name: "F24", len: 0, sons: null}, 
{kind: 1, offset: 161, typ: NTI703010, name: "AcSearch", len: 0, sons: null}, 
{kind: 1, offset: 162, typ: NTI703010, name: "AltErase", len: 0, sons: null}, 
{kind: 1, offset: 163, typ: NTI703010, name: "Cancel", len: 0, sons: null}, 
{kind: 1, offset: 164, typ: NTI703010, name: "BrightnessDown", len: 0, sons: null}, 
{kind: 1, offset: 165, typ: NTI703010, name: "BrightnessUp", len: 0, sons: null}, 
{kind: 1, offset: 166, typ: NTI703010, name: "DisplaySwitch", len: 0, sons: null}, 
{kind: 1, offset: 167, typ: NTI703010, name: "IlluminateToggle", len: 0, sons: null}, 
{kind: 1, offset: 168, typ: NTI703010, name: "IlluminateDown", len: 0, sons: null}, 
{kind: 1, offset: 169, typ: NTI703010, name: "IlluminateUp", len: 0, sons: null}]};
NTI703010.node = NNI703010;
var NNI704014 = {kind: 2, offset: 0, typ: null, name: null, len: 3, sons: [{kind: 1, offset: 0, typ: NTI704014, name: "bsUnknown", len: 0, sons: null}, 
{kind: 1, offset: 1, typ: NTI704014, name: "bsUp", len: 0, sons: null}, 
{kind: 1, offset: 2, typ: NTI704014, name: "bsDown", len: 0, sons: null}]};
NTI704014.node = NNI704014;
var NNI704023 = {kind: 2, len: 12, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "timestamp_704024", len: 0, typ: NTI120, name: "timestamp", sons: null}, 
{kind: 1, offset: "kind_704025", len: 0, typ: NTI704002, name: "kind", sons: null}, 
{kind: 1, offset: "pointerid_704026", len: 0, typ: NTI104, name: "pointerId", sons: null}, 
{kind: 1, offset: "position_704027", len: 0, typ: NTI20006, name: "position", sons: null}, 
{kind: 1, offset: "localposition_704028", len: 0, typ: NTI20006, name: "localPosition", sons: null}, 
{kind: 1, offset: "offset_704029", len: 0, typ: NTI20006, name: "offset", sons: null}, 
{kind: 1, offset: "keycode_704030", len: 0, typ: NTI703010, name: "keyCode", sons: null}, 
{kind: 1, offset: "buttonstate_704031", len: 0, typ: NTI704014, name: "buttonState", sons: null}, 
{kind: 1, offset: "rune_704032", len: 0, typ: NTI620203, name: "rune", sons: null}, 
{kind: 1, offset: "repeat_704033", len: 0, typ: NTI130, name: "repeat", sons: null}, 
{kind: 1, offset: "window_704034", len: 0, typ: NTI696018, name: "window", sons: null}, 
{kind: 1, offset: "text_704035", len: 0, typ: NTI138, name: "text", sons: null}]};
NTI704023.node = NNI704023;
NTI707015.base = NTI696018;
NTI707017.base = NTI707006;
var NNI707014 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "windows_707016", len: 0, typ: NTI707015, name: "windows", sons: null}, 
{kind: 1, offset: "eventfilters_707018", len: 0, typ: NTI707017, name: "eventFilters", sons: null}]};
NTI707014.node = NNI707014;
NTI707014.base = NTI3408;
var NNI713015 = {kind: 2, offset: 0, typ: null, name: null, len: 3, sons: [{kind: 1, offset: 0, typ: NTI713015, name: "cpOrtho", len: 0, sons: null}, 
{kind: 1, offset: 1, typ: NTI713015, name: "cpPerspective", len: 0, sons: null}, 
{kind: 1, offset: 2, typ: NTI713015, name: "cpManual", len: 0, sons: null}]};
NTI713015.node = NNI713015;
var NNI713133 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "projectionmode_713134", len: 0, typ: NTI713015, name: "projectionMode", sons: null}, 
{kind: 1, offset: "znear_713135", len: 0, typ: NTI20002, name: "zNear", sons: null}, 
{kind: 1, offset: "zfar_713136", len: 0, typ: NTI20002, name: "zFar", sons: null}, 
{kind: 1, offset: "mmanualgetprojectionmatrix_713142", len: 0, typ: NTI713137, name: "mManualGetProjectionMatrix", sons: null}]};
NTI713133.node = NNI713133;
NTI21068.base = NTI20002;
NTI21087.base = NTI20002;
NTI713009.base = NTI713087;
var NNI713040 = {kind: 2, len: 3, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI636002, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI138, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI713009, name: "Field2", sons: null}]};
NTI713040.node = NNI713040;
NTI713037.base = NTI713040;
var NNI713034 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "data_713048", len: 0, typ: NTI713037, name: "data", sons: null}, 
{kind: 1, offset: "counter_713051", len: 0, typ: NTI104, name: "counter", sons: null}]};
NTI713034.node = NNI713034;
NTI713031.base = NTI713034;
NTI713053.base = NTI713003;
var NNI713071 = {kind: 2, len: 3, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI636002, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI138, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI40023, name: "Field2", sons: null}]};
NTI713071.node = NNI713071;
NTI713068.base = NTI713071;
var NNI713065 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "data_713079", len: 0, typ: NTI713068, name: "data", sons: null}, 
{kind: 1, offset: "counter_713082", len: 0, typ: NTI104, name: "counter", sons: null}]};
NTI713065.node = NNI713065;
NTI713062.base = NTI713065;
NTI713017.base = NTI713133;
NTI682206.base = NTI682207;
NTI713098.base = NTI682206;
var NNI713147 = {kind: 2, len: 15, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "mlightambient_713148", len: 0, typ: NTI126, name: "mLightAmbient", sons: null}, 
{kind: 1, offset: "mlightdiffuse_713149", len: 0, typ: NTI126, name: "mLightDiffuse", sons: null}, 
{kind: 1, offset: "mlightspecular_713150", len: 0, typ: NTI126, name: "mLightSpecular", sons: null}, 
{kind: 1, offset: "mlightconstant_713151", len: 0, typ: NTI126, name: "mLightConstant", sons: null}, 
{kind: 1, offset: "mlightlinear_713152", len: 0, typ: NTI126, name: "mLightLinear", sons: null}, 
{kind: 1, offset: "mlightquadratic_713153", len: 0, typ: NTI126, name: "mLightQuadratic", sons: null}, 
{kind: 1, offset: "mlightattenuation_713154", len: 0, typ: NTI126, name: "mLightAttenuation", sons: null}, 
{kind: 1, offset: "lightposinited_713155", len: 0, typ: NTI130, name: "lightPosInited", sons: null}, 
{kind: 1, offset: "lightambientinited_713156", len: 0, typ: NTI130, name: "lightAmbientInited", sons: null}, 
{kind: 1, offset: "lightdiffuseinited_713157", len: 0, typ: NTI130, name: "lightDiffuseInited", sons: null}, 
{kind: 1, offset: "lightspecularinited_713158", len: 0, typ: NTI130, name: "lightSpecularInited", sons: null}, 
{kind: 1, offset: "lightconstantinited_713159", len: 0, typ: NTI130, name: "lightConstantInited", sons: null}, 
{kind: 1, offset: "lightlinearinited_713160", len: 0, typ: NTI130, name: "lightLinearInited", sons: null}, 
{kind: 1, offset: "lightquadraticinited_713161", len: 0, typ: NTI130, name: "lightQuadraticInited", sons: null}, 
{kind: 1, offset: "lightattenuationinited_713162", len: 0, typ: NTI130, name: "lightAttenuationInited", sons: null}]};
NTI713147.node = NNI713147;
NTI713147.base = NTI713087;
NTI713021.base = NTI713147;
var NNI713114 = {kind: 2, len: 3, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI636002, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI138, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI713021, name: "Field2", sons: null}]};
NTI713114.node = NNI713114;
NTI713111.base = NTI713114;
var NNI713108 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "data_713122", len: 0, typ: NTI713111, name: "data", sons: null}, 
{kind: 1, offset: "counter_713125", len: 0, typ: NTI104, name: "counter", sons: null}]};
NTI713108.node = NNI713108;
NTI713105.base = NTI713108;
var NNI713144 = {kind: 1, offset: "mview_713145", len: 0, typ: NTI696016, name: "mView", sons: null};
NTI713144.node = NNI713144;
NTI713144.base = NTI713087;
NTI713019.base = NTI713144;
NTI713127.base = NTI713019;
var NNI713090 = {kind: 2, len: 10, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "mcamera_713091", len: 0, typ: NTI713017, name: "mCamera", sons: null}, 
{kind: 1, offset: "mrootnode_713092", len: 0, typ: NTI713003, name: "mRootNode", sons: null}, 
{kind: 1, offset: "numberofnodeswithbackcomposition_713093", len: 0, typ: NTI104, name: "numberOfNodesWithBackComposition", sons: null}, 
{kind: 1, offset: "numberofnodeswithbackcompositionincurrentframe_713094", len: 0, typ: NTI104, name: "numberOfNodesWithBackCompositionInCurrentFrame", sons: null}, 
{kind: 1, offset: "mactiveframebuffer_713095", len: 0, typ: NTI682206, name: "mActiveFrameBuffer", sons: null}, 
{kind: 1, offset: "mbackupframebuffer_713096", len: 0, typ: NTI682206, name: "mBackupFrameBuffer", sons: null}, 
{kind: 1, offset: "mscreenframebuffer_713097", len: 0, typ: NTI43622, name: "mScreenFrameBuffer", sons: null}, 
{kind: 1, offset: "tempframebuffers_713099", len: 0, typ: NTI713098, name: "tempFramebuffers", sons: null}, 
{kind: 1, offset: "lightsources_713126", len: 0, typ: NTI713105, name: "lightSources", sons: null}, 
{kind: 1, offset: "uicomponents_713128", len: 0, typ: NTI713127, name: "uiComponents", sons: null}]};
NTI713090.node = NNI713090;
NTI713090.base = NTI696021;
NTI713011.base = NTI713090;
var NNI713022 = {kind: 2, len: 10, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "translation_713023", len: 0, typ: NTI21068, name: "translation", sons: null}, 
{kind: 1, offset: "rotation_713024", len: 0, typ: NTI21087, name: "rotation", sons: null}, 
{kind: 1, offset: "scale_713025", len: 0, typ: NTI21068, name: "scale", sons: null}, 
{kind: 1, offset: "components_713052", len: 0, typ: NTI713031, name: "components", sons: null}, 
{kind: 1, offset: "children_713054", len: 0, typ: NTI713053, name: "children", sons: null}, 
{kind: 1, offset: "parent_713055", len: 0, typ: NTI713003, name: "parent", sons: null}, 
{kind: 1, offset: "name_713056", len: 0, typ: NTI138, name: "name", sons: null}, 
{kind: 1, offset: "animations_713083", len: 0, typ: NTI713062, name: "animations", sons: null}, 
{kind: 1, offset: "msceneview_713084", len: 0, typ: NTI713011, name: "mSceneView", sons: null}, 
{kind: 1, offset: "alpha_713085", len: 0, typ: NTI20002, name: "alpha", sons: null}]};
NTI713022.node = NNI713022;
NTI713003.base = NTI713022;
var NNI713087 = {kind: 1, offset: "node_713088", len: 0, typ: NTI713003, name: "node", sons: null};
NTI713087.node = NNI713087;
NTI713087.base = NTI3408;
NTI713133.base = NTI713087;
var NNI732058 = {kind: 2, len: 5, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "inwhite_732059", len: 0, typ: NTI20004, name: "inWhite", sons: null}, 
{kind: 1, offset: "inblack_732060", len: 0, typ: NTI20004, name: "inBlack", sons: null}, 
{kind: 1, offset: "ingamma_732061", len: 0, typ: NTI20004, name: "inGamma", sons: null}, 
{kind: 1, offset: "outwhite_732062", len: 0, typ: NTI20004, name: "outWhite", sons: null}, 
{kind: 1, offset: "outblack_732063", len: 0, typ: NTI20004, name: "outBlack", sons: null}]};
NTI732058.node = NNI732058;
NTI732058.base = NTI713087;
var NNI737004 = {kind: 2, len: 6, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "numofcoordpervert_737005", len: 0, typ: NTI43614, name: "numOfCoordPerVert", sons: null}, 
{kind: 1, offset: "numofcoordpernormal_737006", len: 0, typ: NTI43614, name: "numOfCoordPerNormal", sons: null}, 
{kind: 1, offset: "numofcoordpertexcoord_737007", len: 0, typ: NTI43614, name: "numOfCoordPerTexCoord", sons: null}, 
{kind: 1, offset: "numofcoordperbinormal_737008", len: 0, typ: NTI43614, name: "numOfCoordPerBinormal", sons: null}, 
{kind: 1, offset: "numofcoordpertangent_737009", len: 0, typ: NTI43614, name: "numOfCoordPerTangent", sons: null}, 
{kind: 1, offset: "stride_737010", len: 0, typ: NTI104, name: "stride", sons: null}]};
NTI737004.node = NNI737004;
NTI682202.base = NTI682203;
var NNI738245 = {kind: 2, len: 12, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "ambient_738246", len: 0, typ: NTI21087, name: "ambient", sons: null}, 
{kind: 1, offset: "emission_738247", len: 0, typ: NTI21087, name: "emission", sons: null}, 
{kind: 1, offset: "diffuse_738248", len: 0, typ: NTI21087, name: "diffuse", sons: null}, 
{kind: 1, offset: "specular_738249", len: 0, typ: NTI21087, name: "specular", sons: null}, 
{kind: 1, offset: "shininess_738250", len: 0, typ: NTI126, name: "shininess", sons: null}, 
{kind: 1, offset: "reflectivity_738251", len: 0, typ: NTI126, name: "reflectivity", sons: null}, 
{kind: 1, offset: "ambientinited_738252", len: 0, typ: NTI130, name: "ambientInited", sons: null}, 
{kind: 1, offset: "emissioninited_738253", len: 0, typ: NTI130, name: "emissionInited", sons: null}, 
{kind: 1, offset: "diffuseinited_738254", len: 0, typ: NTI130, name: "diffuseInited", sons: null}, 
{kind: 1, offset: "specularinited_738255", len: 0, typ: NTI130, name: "specularInited", sons: null}, 
{kind: 1, offset: "shininessinited_738256", len: 0, typ: NTI130, name: "shininessInited", sons: null}, 
{kind: 1, offset: "reflectivityinited_738257", len: 0, typ: NTI130, name: "reflectivityInited", sons: null}]};
NTI738245.node = NNI738245;
NTI738245.base = NTI3408;
NTI738244.base = NTI738245;
NTI21005.base = NTI20002;
var NNI738272 = {kind: 2, len: 5, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "modelmatrix_738273", len: 0, typ: NTI21002, name: "modelMatrix", sons: null}, 
{kind: 1, offset: "normalmatrix_738274", len: 0, typ: NTI21005, name: "normalMatrix", sons: null}, 
{kind: 1, offset: "scale_738275", len: 0, typ: NTI21068, name: "scale", sons: null}, 
{kind: 1, offset: "rotation_738276", len: 0, typ: NTI21087, name: "rotation", sons: null}, 
{kind: 1, offset: "translation_738277", len: 0, typ: NTI21068, name: "translation", sons: null}]};
NTI738272.node = NNI738272;
NTI738272.base = NTI3408;
NTI738271.base = NTI738272;
var NNI738209 = {kind: 2, offset: 0, typ: null, name: null, len: 33, sons: [{kind: 1, offset: 0, typ: NTI738209, name: "WITH_V_POSITION", len: 0, sons: null}, 
{kind: 1, offset: 1, typ: NTI738209, name: "WITH_V_TEXCOORD", len: 0, sons: null}, 
{kind: 1, offset: 2, typ: NTI738209, name: "WITH_V_NORMAL", len: 0, sons: null}, 
{kind: 1, offset: 3, typ: NTI738209, name: "WITH_V_BINORMAL", len: 0, sons: null}, 
{kind: 1, offset: 4, typ: NTI738209, name: "WITH_V_TANGENT", len: 0, sons: null}, 
{kind: 1, offset: 5, typ: NTI738209, name: "WITH_AMBIENT_SAMPLER", len: 0, sons: null}, 
{kind: 1, offset: 6, typ: NTI738209, name: "WITH_GLOSS_SAMPLER", len: 0, sons: null}, 
{kind: 1, offset: 7, typ: NTI738209, name: "WITH_SPECULAR_SAMPLER", len: 0, sons: null}, 
{kind: 1, offset: 8, typ: NTI738209, name: "WITH_REFLECTION_SAMPLER", len: 0, sons: null}, 
{kind: 1, offset: 9, typ: NTI738209, name: "WITH_NORMAL_SAMPLER", len: 0, sons: null}, 
{kind: 1, offset: 10, typ: NTI738209, name: "WITH_BUMP_SAMPLER", len: 0, sons: null}, 
{kind: 1, offset: 11, typ: NTI738209, name: "WITH_FALLOF_SAMPLER", len: 0, sons: null}, 
{kind: 1, offset: 12, typ: NTI738209, name: "WITH_MATERIAL_AMBIENT", len: 0, sons: null}, 
{kind: 1, offset: 13, typ: NTI738209, name: "WITH_MATERIAL_EMISSION", len: 0, sons: null}, 
{kind: 1, offset: 14, typ: NTI738209, name: "WITH_MATERIAL_DIFFUSE", len: 0, sons: null}, 
{kind: 1, offset: 15, typ: NTI738209, name: "WITH_MATERIAL_SPECULAR", len: 0, sons: null}, 
{kind: 1, offset: 16, typ: NTI738209, name: "WITH_MATERIAL_SHININESS", len: 0, sons: null}, 
{kind: 1, offset: 17, typ: NTI738209, name: "WITH_LIGHT_POSITION", len: 0, sons: null}, 
{kind: 1, offset: 18, typ: NTI738209, name: "WITH_LIGHT_AMBIENT", len: 0, sons: null}, 
{kind: 1, offset: 19, typ: NTI738209, name: "WITH_LIGHT_DIFFUSE", len: 0, sons: null}, 
{kind: 1, offset: 20, typ: NTI738209, name: "WITH_LIGHT_SPECULAR", len: 0, sons: null}, 
{kind: 1, offset: 21, typ: NTI738209, name: "WITH_LIGHT_DYNAMIC_ATTENUATION", len: 0, sons: null}, 
{kind: 1, offset: 22, typ: NTI738209, name: "WITH_LIGHT_PRECOMPUTED_ATTENUATION", len: 0, sons: null}, 
{kind: 1, offset: 23, typ: NTI738209, name: "WITH_LIGHT_0", len: 0, sons: null}, 
{kind: 1, offset: 24, typ: NTI738209, name: "WITH_LIGHT_1", len: 0, sons: null}, 
{kind: 1, offset: 25, typ: NTI738209, name: "WITH_LIGHT_2", len: 0, sons: null}, 
{kind: 1, offset: 26, typ: NTI738209, name: "WITH_LIGHT_3", len: 0, sons: null}, 
{kind: 1, offset: 27, typ: NTI738209, name: "WITH_LIGHT_4", len: 0, sons: null}, 
{kind: 1, offset: 28, typ: NTI738209, name: "WITH_LIGHT_5", len: 0, sons: null}, 
{kind: 1, offset: 29, typ: NTI738209, name: "WITH_LIGHT_6", len: 0, sons: null}, 
{kind: 1, offset: 30, typ: NTI738209, name: "WITH_LIGHT_7", len: 0, sons: null}, 
{kind: 1, offset: 31, typ: NTI738209, name: "WITH_TBN_FROM_NORMALS", len: 0, sons: null}, 
{kind: 1, offset: 32, typ: NTI738209, name: "WITH_RIM_LIGHT", len: 0, sons: null}]};
NTI738209.node = NNI738209;
NTI738664.base = NTI738209;
var NNI738644 = {kind: 2, len: 20, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "albedotexture_738645", len: 0, typ: NTI682202, name: "albedoTexture", sons: null}, 
{kind: 1, offset: "glosstexture_738646", len: 0, typ: NTI682202, name: "glossTexture", sons: null}, 
{kind: 1, offset: "speculartexture_738647", len: 0, typ: NTI682202, name: "specularTexture", sons: null}, 
{kind: 1, offset: "normaltexture_738648", len: 0, typ: NTI682202, name: "normalTexture", sons: null}, 
{kind: 1, offset: "bumptexture_738649", len: 0, typ: NTI682202, name: "bumpTexture", sons: null}, 
{kind: 1, offset: "reflectiontexture_738650", len: 0, typ: NTI682202, name: "reflectionTexture", sons: null}, 
{kind: 1, offset: "fallofftexture_738651", len: 0, typ: NTI682202, name: "falloffTexture", sons: null}, 
{kind: 1, offset: "color_738652", len: 0, typ: NTI738244, name: "color", sons: null}, 
{kind: 1, offset: "transform_738653", len: 0, typ: NTI738271, name: "transform", sons: null}, 
{kind: 1, offset: "islightreceiver_738654", len: 0, typ: NTI130, name: "isLightReceiver", sons: null}, 
{kind: 1, offset: "blendenable_738655", len: 0, typ: NTI130, name: "blendEnable", sons: null}, 
{kind: 1, offset: "depthenable_738656", len: 0, typ: NTI130, name: "depthEnable", sons: null}, 
{kind: 1, offset: "iswireframe_738657", len: 0, typ: NTI130, name: "isWireframe", sons: null}, 
{kind: 1, offset: "benablebackfaceculling_738658", len: 0, typ: NTI130, name: "bEnableBackfaceCulling", sons: null}, 
{kind: 1, offset: "currentlightsourcescount_738659", len: 0, typ: NTI104, name: "currentLightSourcesCount", sons: null}, 
{kind: 1, offset: "vertexshader_738660", len: 0, typ: NTI138, name: "vertexShader", sons: null}, 
{kind: 1, offset: "fragmentshader_738661", len: 0, typ: NTI138, name: "fragmentShader", sons: null}, 
{kind: 1, offset: "shader_738662", len: 0, typ: NTI43622, name: "shader", sons: null}, 
{kind: 1, offset: "bshaderneedupdate_738663", len: 0, typ: NTI130, name: "bShaderNeedUpdate", sons: null}, 
{kind: 1, offset: "shadermacroflags_738665", len: 0, typ: NTI738664, name: "shaderMacroFlags", sons: null}]};
NTI738644.node = NNI738644;
NTI738644.base = NTI3408;
NTI738643.base = NTI738644;
var NNI741203 = {kind: 2, len: 7, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "resourcename_741204", len: 0, typ: NTI138, name: "resourceName", sons: null}, 
{kind: 1, offset: "indexbuffer_741205", len: 0, typ: NTI43622, name: "indexBuffer", sons: null}, 
{kind: 1, offset: "vertexbuffer_741206", len: 0, typ: NTI43622, name: "vertexBuffer", sons: null}, 
{kind: 1, offset: "numberofindices_741207", len: 0, typ: NTI43626, name: "numberOfIndices", sons: null}, 
{kind: 1, offset: "loadfunc_741210", len: 0, typ: NTI741208, name: "loadFunc", sons: null}, 
{kind: 1, offset: "vertinfo_741211", len: 0, typ: NTI737004, name: "vertInfo", sons: null}, 
{kind: 1, offset: "material_741212", len: 0, typ: NTI738643, name: "material", sons: null}]};
NTI741203.node = NNI741203;
NTI741203.base = NTI713087;
var NNI743005 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI743005.node = NNI743005;
var NNI717661 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI717661.node = NNI717661;
NTI717661.base = NTI713087;
NTI743005.base = NTI717661;
var NNI744004 = {kind: 2, len: 7, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI21068, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI21087, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI21068, name: "Field2", sons: null}, 
{kind: 1, offset: "Field3", len: 0, typ: NTI21068, name: "Field3", sons: null}, 
{kind: 1, offset: "Field4", len: 0, typ: NTI21087, name: "Field4", sons: null}, 
{kind: 1, offset: "Field5", len: 0, typ: NTI124, name: "Field5", sons: null}, 
{kind: 1, offset: "Field6", len: 0, typ: NTI124, name: "Field6", sons: null}]};
NTI744004.node = NNI744004;
NTI744026.base = NTI744004;
var NNI744020 = {kind: 2, len: 9, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "lifetime_744021", len: 0, typ: NTI124, name: "lifetime", sons: null}, 
{kind: 1, offset: "birthrate_744022", len: 0, typ: NTI124, name: "birthRate", sons: null}, 
{kind: 1, offset: "particleprototype_744023", len: 0, typ: NTI713003, name: "particlePrototype", sons: null}, 
{kind: 1, offset: "numberofparticles_744024", len: 0, typ: NTI104, name: "numberOfParticles", sons: null}, 
{kind: 1, offset: "gravity_744025", len: 0, typ: NTI21068, name: "gravity", sons: null}, 
{kind: 1, offset: "particles_744027", len: 0, typ: NTI744026, name: "particles", sons: null}, 
{kind: 1, offset: "lastdrawtime_744028", len: 0, typ: NTI124, name: "lastDrawTime", sons: null}, 
{kind: 1, offset: "lastbirthtime_744029", len: 0, typ: NTI124, name: "lastBirthTime", sons: null}, 
{kind: 1, offset: "animation_744030", len: 0, typ: NTI40023, name: "animation", sons: null}]};
NTI744020.node = NNI744020;
NTI744020.base = NTI713087;
var NNI744016 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "initiallifetime_744017", len: 0, typ: NTI124, name: "initialLifetime", sons: null}, 
{kind: 1, offset: "remaininglifetime_744018", len: 0, typ: NTI124, name: "remainingLifetime", sons: null}]};
NTI744016.node = NNI744016;
NTI744016.base = NTI713087;
var NNI747005 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "size_747006", len: 0, typ: NTI20010, name: "size", sons: null}, 
{kind: 1, offset: "color_747007", len: 0, typ: NTI20018, name: "color", sons: null}]};
NTI747005.node = NNI747005;
NTI747005.base = NTI713087;
NTI749007.base = NTI682202;
var NNI749005 = {kind: 2, len: 5, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "offset_749006", len: 0, typ: NTI20006, name: "offset", sons: null}, 
{kind: 1, offset: "images_749008", len: 0, typ: NTI749007, name: "images", sons: null}, 
{kind: 1, offset: "currentframe_749009", len: 0, typ: NTI104, name: "currentFrame", sons: null}, 
{kind: 1, offset: "motionblurradius_749010", len: 0, typ: NTI124, name: "motionBlurRadius", sons: null}, 
{kind: 1, offset: "prevrootoffset_749011", len: 0, typ: NTI21068, name: "prevRootOffset", sons: null}]};
NTI749005.node = NNI749005;
NTI749005.base = NTI713087;
var NNI651010 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI651010.node = NNI651010;
NTI651011.base = NTI651010;
var NNI656308 = {kind: 2, len: 14, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "chars_656312", len: 0, typ: NTI651011, name: "chars", sons: null}, 
{kind: 1, offset: "msize_656313", len: 0, typ: NTI124, name: "mSize", sons: null}, 
{kind: 1, offset: "ishorizontal_656314", len: 0, typ: NTI130, name: "isHorizontal", sons: null}, 
{kind: 1, offset: "scale_656315", len: 0, typ: NTI124, name: "scale", sons: null}, 
{kind: 1, offset: "filepath_656316", len: 0, typ: NTI138, name: "filePath", sons: null}, 
{kind: 1, offset: "horizontalspacing_656317", len: 0, typ: NTI20002, name: "horizontalSpacing", sons: null}, 
{kind: 1, offset: "gamma_656318", len: 0, typ: NTI126, name: "gamma", sons: null}, 
{kind: 1, offset: "base_656319", len: 0, typ: NTI126, name: "base", sons: null}, 
{kind: 1, offset: "ascent_656320", len: 0, typ: NTI126, name: "ascent", sons: null}, 
{kind: 1, offset: "descent_656321", len: 0, typ: NTI126, name: "descent", sons: null}, 
{kind: 1, offset: "shadowx_656322", len: 0, typ: NTI126, name: "shadowX", sons: null}, 
{kind: 1, offset: "shadowy_656323", len: 0, typ: NTI126, name: "shadowY", sons: null}, 
{kind: 1, offset: "shadowblur_656324", len: 0, typ: NTI126, name: "shadowBlur", sons: null}, 
{kind: 1, offset: "canvas_656325", len: 0, typ: NTI644228, name: "canvas", sons: null}]};
NTI656308.node = NNI656308;
NTI656307.base = NTI656308;
var NNI750004 = {kind: 2, offset: 0, typ: null, name: null, len: 3, sons: [{kind: 1, offset: 0, typ: NTI750004, name: "tjLeft", len: 0, sons: null}, 
{kind: 1, offset: 1, typ: NTI750004, name: "tjCenter", len: 0, sons: null}, 
{kind: 1, offset: 2, typ: NTI750004, name: "tjRight", len: 0, sons: null}]};
NTI750004.node = NNI750004;
var NNI750010 = {kind: 2, len: 8, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "text_750011", len: 0, typ: NTI138, name: "text", sons: null}, 
{kind: 1, offset: "color_750012", len: 0, typ: NTI20018, name: "color", sons: null}, 
{kind: 1, offset: "font_750013", len: 0, typ: NTI656307, name: "font", sons: null}, 
{kind: 1, offset: "trackingamount_750014", len: 0, typ: NTI20002, name: "trackingAmount", sons: null}, 
{kind: 1, offset: "justification_750015", len: 0, typ: NTI750004, name: "justification", sons: null}, 
{kind: 1, offset: "shadowx_750016", len: 0, typ: NTI20002, name: "shadowX", sons: null}, 
{kind: 1, offset: "shadowy_750017", len: 0, typ: NTI20002, name: "shadowY", sons: null}, 
{kind: 1, offset: "shadowcolor_750018", len: 0, typ: NTI20018, name: "shadowColor", sons: null}]};
NTI750010.node = NNI750010;
NTI750010.base = NTI713087;
var NNI765003 = {kind: 2, len: 3, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "text_765004", len: 0, typ: NTI138, name: "text", sons: null}, 
{kind: 1, offset: "editable_765005", len: 0, typ: NTI130, name: "editable", sons: null}, 
{kind: 1, offset: "selectable_765006", len: 0, typ: NTI130, name: "selectable", sons: null}]};
NTI765003.node = NNI765003;
var NNI753009 = {kind: 1, offset: "actionhandler_753013", len: 0, typ: NTI753010, name: "actionHandler", sons: null};
NTI753009.node = NNI753009;
NTI753009.base = NTI696021;
NTI765003.base = NTI753009;
var NNI768007 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI768007.node = NNI768007;
NTI768007.base = NTI765003;
var NNI3446 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3446.node = NNI3446;
NTI3446.base = NTI3424;
NTI769553.base = NTI696002;
NTI769554.base = NTI696002;
NTI771383.base = NTI696002;
NTI771384.base = NTI696002;
NTI771636.base = NTI696002;
NTI771637.base = NTI696002;
NTI769388.base = NTI696002;
NTI769389.base = NTI696002;
NTI21151.base = NTI20002;
NTI21134.base = NTI20002;
NTI21049.base = NTI20002;
var NNI754003 = {kind: 2, offset: 0, typ: null, name: null, len: 4, sons: [{kind: 1, offset: 0, typ: NTI754003, name: "bsRegular", len: 0, sons: null}, 
{kind: 1, offset: 1, typ: NTI754003, name: "bsCheckbox", len: 0, sons: null}, 
{kind: 1, offset: 2, typ: NTI754003, name: "bsRadiobox", len: 0, sons: null}, 
{kind: 1, offset: 3, typ: NTI754003, name: "bsImage", len: 0, sons: null}]};
NTI754003.node = NNI754003;
var NNI754009 = {kind: 2, offset: 0, typ: null, name: null, len: 2, sons: [{kind: 1, offset: 0, typ: NTI754009, name: "bbMomentaryLight", len: 0, sons: null}, 
{kind: 1, offset: 1, typ: NTI754009, name: "bbToggle", len: 0, sons: null}]};
NTI754009.node = NNI754009;
var NNI754014 = {kind: 2, len: 8, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "title_754015", len: 0, typ: NTI138, name: "title", sons: null}, 
{kind: 1, offset: "state_754016", len: 0, typ: NTI704014, name: "state", sons: null}, 
{kind: 1, offset: "value_754017", len: 0, typ: NTI106, name: "value", sons: null}, 
{kind: 1, offset: "enabled_754018", len: 0, typ: NTI130, name: "enabled", sons: null}, 
{kind: 1, offset: "hasbezel_754019", len: 0, typ: NTI130, name: "hasBezel", sons: null}, 
{kind: 1, offset: "style_754020", len: 0, typ: NTI754003, name: "style", sons: null}, 
{kind: 1, offset: "behavior_754021", len: 0, typ: NTI754009, name: "behavior", sons: null}, 
{kind: 1, offset: "image_754022", len: 0, typ: NTI682202, name: "image", sons: null}]};
NTI754014.node = NNI754014;
NTI754014.base = NTI753009;
var NNI797004 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI797004.node = NNI797004;
NTI797004.base = NTI713090;
NTI797624.base = NTI696002;
NTI21142.base = NTI20002;
NTI676204.base = NTI3408;
var NNI676203 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "view_676205", len: 0, typ: NTI676204, name: "view", sons: null}, 
{kind: 1, offset: "pos_676206", len: 0, typ: NTI104, name: "pos", sons: null}]};
NTI676203.node = NNI676203;
var NNI660218 = {kind: 2, len: 8, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "closeimpl_660222", len: 0, typ: NTI660219, name: "closeImpl", sons: null}, 
{kind: 1, offset: "atendimpl_660226", len: 0, typ: NTI660223, name: "atEndImpl", sons: null}, 
{kind: 1, offset: "setpositionimpl_660231", len: 0, typ: NTI660227, name: "setPositionImpl", sons: null}, 
{kind: 1, offset: "getpositionimpl_660235", len: 0, typ: NTI660232, name: "getPositionImpl", sons: null}, 
{kind: 1, offset: "readdataimpl_660241", len: 0, typ: NTI660236, name: "readDataImpl", sons: null}, 
{kind: 1, offset: "peekdataimpl_660247", len: 0, typ: NTI660242, name: "peekDataImpl", sons: null}, 
{kind: 1, offset: "writedataimpl_660253", len: 0, typ: NTI660248, name: "writeDataImpl", sons: null}, 
{kind: 1, offset: "flushimpl_660257", len: 0, typ: NTI660254, name: "flushImpl", sons: null}]};
NTI660218.node = NNI660218;
NTI660218.base = NTI3408;
NTI676203.base = NTI660218;
var NNI777008 = {kind: 2, offset: 0, typ: null, name: null, len: 14, sons: [{kind: 1, offset: 0, typ: NTI777008, name: "xmlError", len: 0, sons: null}, 
{kind: 1, offset: 1, typ: NTI777008, name: "xmlEof", len: 0, sons: null}, 
{kind: 1, offset: 2, typ: NTI777008, name: "xmlCharData", len: 0, sons: null}, 
{kind: 1, offset: 3, typ: NTI777008, name: "xmlWhitespace", len: 0, sons: null}, 
{kind: 1, offset: 4, typ: NTI777008, name: "xmlComment", len: 0, sons: null}, 
{kind: 1, offset: 5, typ: NTI777008, name: "xmlPI", len: 0, sons: null}, 
{kind: 1, offset: 6, typ: NTI777008, name: "xmlElementStart", len: 0, sons: null}, 
{kind: 1, offset: 7, typ: NTI777008, name: "xmlElementEnd", len: 0, sons: null}, 
{kind: 1, offset: 8, typ: NTI777008, name: "xmlElementOpen", len: 0, sons: null}, 
{kind: 1, offset: 9, typ: NTI777008, name: "xmlAttribute", len: 0, sons: null}, 
{kind: 1, offset: 10, typ: NTI777008, name: "xmlElementClose", len: 0, sons: null}, 
{kind: 1, offset: 11, typ: NTI777008, name: "xmlCData", len: 0, sons: null}, 
{kind: 1, offset: 12, typ: NTI777008, name: "xmlEntity", len: 0, sons: null}, 
{kind: 1, offset: 13, typ: NTI777008, name: "xmlSpecial", len: 0, sons: null}]};
NTI777008.node = NNI777008;
var NNI777010 = {kind: 2, offset: 0, typ: null, name: null, len: 9, sons: [{kind: 1, offset: 0, typ: NTI777010, name: "errNone", len: 0, sons: null}, 
{kind: 1, offset: 1, typ: NTI777010, name: "errEndOfCDataExpected", len: 0, sons: null}, 
{kind: 1, offset: 2, typ: NTI777010, name: "errNameExpected", len: 0, sons: null}, 
{kind: 1, offset: 3, typ: NTI777010, name: "errSemicolonExpected", len: 0, sons: null}, 
{kind: 1, offset: 4, typ: NTI777010, name: "errQmGtExpected", len: 0, sons: null}, 
{kind: 1, offset: 5, typ: NTI777010, name: "errGtExpected", len: 0, sons: null}, 
{kind: 1, offset: 6, typ: NTI777010, name: "errEqExpected", len: 0, sons: null}, 
{kind: 1, offset: 7, typ: NTI777010, name: "errQuoteExpected", len: 0, sons: null}, 
{kind: 1, offset: 8, typ: NTI777010, name: "errEndOfCommentExpected", len: 0, sons: null}]};
NTI777010.node = NNI777010;
var NNI777012 = {kind: 2, offset: 0, typ: null, name: null, len: 5, sons: [{kind: 1, offset: 0, typ: NTI777012, name: "stateStart", len: 0, sons: null}, 
{kind: 1, offset: 1, typ: NTI777012, name: "stateNormal", len: 0, sons: null}, 
{kind: 1, offset: 2, typ: NTI777012, name: "stateAttr", len: 0, sons: null}, 
{kind: 1, offset: 3, typ: NTI777012, name: "stateEmptyElementTag", len: 0, sons: null}, 
{kind: 1, offset: 4, typ: NTI777012, name: "stateError", len: 0, sons: null}]};
NTI777012.node = NNI777012;
var NNI777014 = {kind: 2, offset: 0, typ: null, name: null, len: 2, sons: [{kind: 1, offset: 0, typ: NTI777014, name: "reportWhitespace", len: 0, sons: null}, 
{kind: 1, offset: 1, typ: NTI777014, name: "reportComments", len: 0, sons: null}]};
NTI777014.node = NNI777014;
NTI777054.base = NTI777014;
var NNI777016 = {kind: 2, len: 8, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "a_777047", len: 0, typ: NTI138, name: "a", sons: null}, 
{kind: 1, offset: "b_777048", len: 0, typ: NTI138, name: "b", sons: null}, 
{kind: 1, offset: "c_777049", len: 0, typ: NTI138, name: "c", sons: null}, 
{kind: 1, offset: "kind_777050", len: 0, typ: NTI777008, name: "kind", sons: null}, 
{kind: 1, offset: "err_777051", len: 0, typ: NTI777010, name: "err", sons: null}, 
{kind: 1, offset: "state_777052", len: 0, typ: NTI777012, name: "state", sons: null}, 
{kind: 1, offset: "filename_777053", len: 0, typ: NTI138, name: "filename", sons: null}, 
{kind: 1, offset: "options_777055", len: 0, typ: NTI777054, name: "options", sons: null}]};
NTI777016.node = NNI777016;
NTI660216.base = NTI660218;
NTI662013.base = NTI136;
var NNI662005 = {kind: 2, len: 8, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "bufpos_662006", len: 0, typ: NTI104, name: "bufpos", sons: null}, 
{kind: 1, offset: "buf_662007", len: 0, typ: NTI138, name: "buf", sons: null}, 
{kind: 1, offset: "buflen_662008", len: 0, typ: NTI104, name: "bufLen", sons: null}, 
{kind: 1, offset: "input_662009", len: 0, typ: NTI660216, name: "input", sons: null}, 
{kind: 1, offset: "linenumber_662010", len: 0, typ: NTI104, name: "lineNumber", sons: null}, 
{kind: 1, offset: "sentinel_662011", len: 0, typ: NTI104, name: "sentinel", sons: null}, 
{kind: 1, offset: "linestart_662012", len: 0, typ: NTI104, name: "lineStart", sons: null}, 
{kind: 1, offset: "refillchars_662014", len: 0, typ: NTI662013, name: "refillChars", sons: null}]};
NTI662005.node = NNI662005;
NTI662005.base = NTI3408;
NTI777016.base = NTI662005;
NTI664230.base = NTI136;
NTI777072.base = NTI777014;
NTI779065.base = NTI126;
var NNI3428 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3428.node = NNI3428;
var NNI3426 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3426.node = NNI3426;
NTI3426.base = NTI3424;
NTI3428.base = NTI3426;
NTI791029.base = NTI126;
NTI795217.base = NTI20002;
NTI779013.base = NTI126;
NTI779016.base = NTI126;
NTI779019.base = NTI126;
NTI779022.base = NTI126;
NTI779026.base = NTI126;
NTI779030.base = NTI126;
var NNI779010 = {kind: 2, len: 14, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "name_779011", len: 0, typ: NTI138, name: "name", sons: null}, 
{kind: 1, offset: "emission_779014", len: 0, typ: NTI779013, name: "emission", sons: null}, 
{kind: 1, offset: "ambient_779017", len: 0, typ: NTI779016, name: "ambient", sons: null}, 
{kind: 1, offset: "diffuse_779020", len: 0, typ: NTI779019, name: "diffuse", sons: null}, 
{kind: 1, offset: "specular_779023", len: 0, typ: NTI779022, name: "specular", sons: null}, 
{kind: 1, offset: "shininess_779024", len: 0, typ: NTI126, name: "shininess", sons: null}, 
{kind: 1, offset: "reflective_779027", len: 0, typ: NTI779026, name: "reflective", sons: null}, 
{kind: 1, offset: "reflectivity_779028", len: 0, typ: NTI126, name: "reflectivity", sons: null}, 
{kind: 1, offset: "transparent_779031", len: 0, typ: NTI779030, name: "transparent", sons: null}, 
{kind: 1, offset: "transparency_779032", len: 0, typ: NTI126, name: "transparency", sons: null}, 
{kind: 1, offset: "diffusetexturename_779033", len: 0, typ: NTI138, name: "diffuseTextureName", sons: null}, 
{kind: 1, offset: "speculartexturename_779034", len: 0, typ: NTI138, name: "specularTextureName", sons: null}, 
{kind: 1, offset: "reflectivetexturename_779035", len: 0, typ: NTI138, name: "reflectiveTextureName", sons: null}, 
{kind: 1, offset: "transparentstexturename_779036", len: 0, typ: NTI138, name: "transparentsTextureName", sons: null}]};
NTI779010.node = NNI779010;
var NNI791067 = {kind: 2, len: 6, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "vx_791068", len: 0, typ: NTI124, name: "vx", sons: null}, 
{kind: 1, offset: "vy_791069", len: 0, typ: NTI124, name: "vy", sons: null}, 
{kind: 1, offset: "vz_791070", len: 0, typ: NTI124, name: "vz", sons: null}, 
{kind: 1, offset: "nx_791071", len: 0, typ: NTI124, name: "nx", sons: null}, 
{kind: 1, offset: "ny_791072", len: 0, typ: NTI124, name: "ny", sons: null}, 
{kind: 1, offset: "nz_791073", len: 0, typ: NTI124, name: "nz", sons: null}]};
NTI791067.node = NNI791067;
var NNI3448 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3448.node = NNI3448;
NTI3448.base = NTI3446;
NTI765002.base = NTI765003;
var NNI774003 = {kind: 1, offset: "nametextfield_774004", len: 0, typ: NTI765002, name: "nameTextField", sons: null};
NTI774003.node = NNI774003;
var NNI755005 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI755005.node = NNI755005;
NTI755005.base = NTI696021;
NTI774003.base = NTI755005;
NTI757006.base = NTI757002;
var NNI714821 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "typeid_714822", len: 0, typ: NTI714480, name: "typeId", sons: null}, 
{kind: 1, offset: "val", len: 0, typ: NTI142, name: "val", sons: null}]};
NTI714821.node = NNI714821;
var NNI756007 = {kind: 2, len: 3, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "row_756008", len: 0, typ: NTI104, name: "row", sons: null}, 
{kind: 1, offset: "col_756009", len: 0, typ: NTI104, name: "col", sons: null}, 
{kind: 1, offset: "selected_756010", len: 0, typ: NTI130, name: "selected", sons: null}]};
NTI756007.node = NNI756007;
NTI756007.base = NTI696021;
NTI756006.base = NTI756007;
var NNI757003 = {kind: 2, len: 5, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "expanded_757004", len: 0, typ: NTI130, name: "expanded", sons: null}, 
{kind: 1, offset: "expandable_757005", len: 0, typ: NTI130, name: "expandable", sons: null}, 
{kind: 1, offset: "children_757007", len: 0, typ: NTI757006, name: "children", sons: null}, 
{kind: 1, offset: "item_757008", len: 0, typ: NTI714821, name: "item", sons: null}, 
{kind: 1, offset: "cell_757009", len: 0, typ: NTI756006, name: "cell", sons: null}]};
NTI757003.node = NNI757003;
NTI757002.base = NTI757003;
NTI757015.base = NTI104;
NTI757041.base = NTI104;
var NNI757013 = {kind: 2, len: 8, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "rootitem_757014", len: 0, typ: NTI757002, name: "rootItem", sons: null}, 
{kind: 1, offset: "selectedindexpath_757016", len: 0, typ: NTI757015, name: "selectedIndexPath", sons: null}, 
{kind: 1, offset: "numberofchildreninitem_757022", len: 0, typ: NTI757017, name: "numberOfChildrenInItem", sons: null}, 
{kind: 1, offset: "childofitem_757028", len: 0, typ: NTI757023, name: "childOfItem", sons: null}, 
{kind: 1, offset: "createcell_757031", len: 0, typ: NTI757029, name: "createCell", sons: null}, 
{kind: 1, offset: "configurecell_757037", len: 0, typ: NTI757032, name: "configureCell", sons: null}, 
{kind: 1, offset: "onselectionchanged_757040", len: 0, typ: NTI757038, name: "onSelectionChanged", sons: null}, 
{kind: 1, offset: "tempindexpath_757042", len: 0, typ: NTI757041, name: "tempIndexPath", sons: null}]};
NTI757013.node = NNI757013;
NTI757013.base = NTI696021;
NTI775056.base = NTI696002;
NTI756032.base = NTI696002;
NTI774055.base = NTI696002;
NTI716020.base = NTI138;
var NNI716015 = {kind: 2, offset: 0, typ: null, name: null, len: 2, sons: [{kind: 1, offset: 0, typ: NTI716015, name: "pfEditable", len: 0, sons: null}, 
{kind: 1, offset: 1, typ: NTI716015, name: "pfAnimatable", len: 0, sons: null}]};
NTI716015.node = NNI716015;
NTI716025.base = NTI716015;
var NNI716019 = {kind: 2, len: 8, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "qualifiers_716021", len: 0, typ: NTI716020, name: "qualifiers", sons: null}, 
{kind: 1, offset: "requiresetter_716022", len: 0, typ: NTI130, name: "requireSetter", sons: null}, 
{kind: 1, offset: "requiregetter_716023", len: 0, typ: NTI130, name: "requireGetter", sons: null}, 
{kind: 1, offset: "requirename_716024", len: 0, typ: NTI130, name: "requireName", sons: null}, 
{kind: 1, offset: "flags_716026", len: 0, typ: NTI716025, name: "flags", sons: null}, 
{kind: 1, offset: "setterandgetter_716027", len: 0, typ: NTI714821, name: "setterAndGetter", sons: null}, 
{kind: 1, offset: "name_716028", len: 0, typ: NTI138, name: "name", sons: null}, 
{kind: 1, offset: "commit_716031", len: 0, typ: NTI716029, name: "commit", sons: null}]};
NTI716019.node = NNI716019;
NTI716019.base = NTI3408;
NTI774059.base = NTI716015;
NTI767338.base = NTI696002;
var NNI720174 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI720175, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI720178, name: "Field1", sons: null}]};
NTI720174.node = NNI720174;
var NNI720638 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI720639, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI720642, name: "Field1", sons: null}]};
NTI720638.node = NNI720638;
var NNI22054 = {kind: 2, len: 3, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI20002, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI20002, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI20002, name: "Field2", sons: null}]};
NTI22054.node = NNI22054;
var NNI21767 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI20002, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI20002, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI20002, name: "Field2", sons: null}, 
{kind: 1, offset: "Field3", len: 0, typ: NTI20002, name: "Field3", sons: null}]};
NTI21767.node = NNI21767;
var NNI21772 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI20002, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI20002, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI20002, name: "Field2", sons: null}, 
{kind: 1, offset: "Field3", len: 0, typ: NTI20002, name: "Field3", sons: null}]};
NTI21772.node = NNI21772;
var NNI21777 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI20002, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI20002, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI20002, name: "Field2", sons: null}, 
{kind: 1, offset: "Field3", len: 0, typ: NTI20002, name: "Field3", sons: null}]};
NTI21777.node = NNI21777;
var NNI21782 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI20002, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI20002, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI20002, name: "Field2", sons: null}, 
{kind: 1, offset: "Field3", len: 0, typ: NTI20002, name: "Field3", sons: null}]};
NTI21782.node = NNI21782;
var NNI22117 = {kind: 2, len: 3, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI20002, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI20002, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI20002, name: "Field2", sons: null}]};
NTI22117.node = NNI22117;
var NNI22008 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI20002, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI20002, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI20002, name: "Field2", sons: null}, 
{kind: 1, offset: "Field3", len: 0, typ: NTI20002, name: "Field3", sons: null}]};
NTI22008.node = NNI22008;
var NNI22013 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI20002, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI20002, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI20002, name: "Field2", sons: null}, 
{kind: 1, offset: "Field3", len: 0, typ: NTI20002, name: "Field3", sons: null}]};
NTI22013.node = NNI22013;
var NNI22018 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI20002, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI20002, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI20002, name: "Field2", sons: null}, 
{kind: 1, offset: "Field3", len: 0, typ: NTI20002, name: "Field3", sons: null}]};
NTI22018.node = NNI22018;
var NNI22023 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI20002, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI20002, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI20002, name: "Field2", sons: null}, 
{kind: 1, offset: "Field3", len: 0, typ: NTI20002, name: "Field3", sons: null}]};
NTI22023.node = NNI22023;
var NNI22028 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI20002, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI20002, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI20002, name: "Field2", sons: null}, 
{kind: 1, offset: "Field3", len: 0, typ: NTI20002, name: "Field3", sons: null}]};
NTI22028.node = NNI22028;
var NNI22033 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI20002, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI20002, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI20002, name: "Field2", sons: null}, 
{kind: 1, offset: "Field3", len: 0, typ: NTI20002, name: "Field3", sons: null}]};
NTI22033.node = NNI22033;
var NNI22038 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI20002, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI20002, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI20002, name: "Field2", sons: null}, 
{kind: 1, offset: "Field3", len: 0, typ: NTI20002, name: "Field3", sons: null}]};
NTI22038.node = NNI22038;
var NNI22043 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI20002, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI20002, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI20002, name: "Field2", sons: null}, 
{kind: 1, offset: "Field3", len: 0, typ: NTI20002, name: "Field3", sons: null}]};
NTI22043.node = NNI22043;
NTI711791.base = NTI126;
var NNI22136 = {kind: 2, len: 3, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI20002, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI20002, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI20002, name: "Field2", sons: null}]};
NTI22136.node = NNI22136;
var NNI721126 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI721127, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI721130, name: "Field1", sons: null}]};
NTI721126.node = NNI721126;
var NNI721436 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI721437, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI721440, name: "Field1", sons: null}]};
NTI721436.node = NNI721436;
NTI774152.base = NTI696002;
NTI766007.base = NTI766004;
var NNI766005 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "title_766006", len: 0, typ: NTI138, name: "title", sons: null}, 
{kind: 1, offset: "subitems_766008", len: 0, typ: NTI766007, name: "subitems", sons: null}, 
{kind: 1, offset: "customview_766009", len: 0, typ: NTI696016, name: "customView", sons: null}, 
{kind: 1, offset: "action_766012", len: 0, typ: NTI766010, name: "action", sons: null}]};
NTI766005.node = NNI766005;
NTI766005.base = NTI3408;
NTI766004.base = NTI766005;
NTI766029.base = NTI766004;
var NNI766028 = {kind: 1, offset: "items_766030", len: 0, typ: NTI766029, name: "items", sons: null};
NTI766028.node = NNI766028;
NTI766028.base = NTI3408;
NTI766046.base = NTI766004;
var NNI766045 = {kind: 1, offset: "menuitems_766047", len: 0, typ: NTI766046, name: "menuItems", sons: null};
NTI766045.node = NNI766045;
NTI766045.base = NTI696021;
NTI775884.base = NTI696002;
NTI775948.base = NTI696002;
NTI775975.base = NTI696002;
NTI682249.base = NTI43628;
var NNI682246 = {kind: 2, len: 3, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "spritesheet_682247", len: 0, typ: NTI682202, name: "spriteSheet", sons: null}, 
{kind: 1, offset: "texcoords_682250", len: 0, typ: NTI682249, name: "texCoords", sons: null}, 
{kind: 1, offset: "msize_682251", len: 0, typ: NTI20010, name: "mSize", sons: null}]};
NTI682246.node = NNI682246;
NTI682246.base = NTI682203;
NTI682216.base = NTI682246;
var NNI682232 = {kind: 2, len: 3, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI636002, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI138, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI682216, name: "Field2", sons: null}]};
NTI682232.node = NNI682232;
NTI682229.base = NTI682232;
var NNI682226 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "data_682240", len: 0, typ: NTI682229, name: "data", sons: null}, 
{kind: 1, offset: "counter_682243", len: 0, typ: NTI104, name: "counter", sons: null}]};
NTI682226.node = NNI682226;
NTI682223.base = NTI682226;
var NNI682217 = {kind: 1, offset: "images_682244", len: 0, typ: NTI682223, name: "images", sons: null};
NTI682217.node = NNI682217;
NTI682217.base = NTI682207;
var NNI643031 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI110, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI110, name: "Field1", sons: null}]};
NTI643031.node = NNI643031;
var NNI643004 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI110, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI110, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI110, name: "Field2", sons: null}, 
{kind: 1, offset: "Field3", len: 0, typ: NTI110, name: "Field3", sons: null}]};
NTI643004.node = NNI643004;
NTI656023.base = NTI108;
var NNI656041 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "bakedchars_656042", len: 0, typ: NTI656023, name: "bakedChars", sons: null}, 
{kind: 1, offset: "texture_656043", len: 0, typ: NTI43622, name: "texture", sons: null}, 
{kind: 1, offset: "texwidth_656044", len: 0, typ: NTI118, name: "texWidth", sons: null}, 
{kind: 1, offset: "texheight_656045", len: 0, typ: NTI118, name: "texHeight", sons: null}]};
NTI656041.node = NNI656041;
NTI656040.base = NTI656041;
var NNI658093 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI656040, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI104, name: "Field1", sons: null}]};
NTI658093.node = NNI658093;
NTI657401.base = NTI138;
var NNI731188 = {kind: 1, offset: "node_731189", len: 0, typ: NTI713003, name: "node", sons: null};
NTI731188.node = NNI731188;
NTI731188.base = NTI696021;
var NNI22064 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI20002, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI20002, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI20002, name: "Field2", sons: null}, 
{kind: 1, offset: "Field3", len: 0, typ: NTI20002, name: "Field3", sons: null}]};
NTI22064.node = NNI22064;
NTI711563.base = NTI20002;
NTI693074.base = NTI20002;
NTI754318.base = NTI20002;
NTI693589.base = NTI20002;
NTI754183.base = NTI20002;
var NNI717616 = {kind: 1, offset: "drawproc_717619", len: 0, typ: NTI717617, name: "drawProc", sons: null};
NTI717616.node = NNI717616;
NTI717616.base = NTI713087;
NTI732242.base = NTI20002;
NTI693211.base = NTI20002;
NTI743177.base = NTI20002;
var NNI21853 = {kind: 2, len: 3, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI20002, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI20002, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI20002, name: "Field2", sons: null}]};
NTI21853.node = NNI21853;
var NNI21857 = {kind: 2, len: 3, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI20002, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI20002, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI20002, name: "Field2", sons: null}]};
NTI21857.node = NNI21857;
var NNI21861 = {kind: 2, len: 3, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI20002, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI20002, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI20002, name: "Field2", sons: null}]};
NTI21861.node = NNI21861;
var NNI21729 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI20002, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI20002, name: "Field1", sons: null}]};
NTI21729.node = NNI21729;
NTI711864.base = NTI20002;
var NNI717609 = {kind: 1, offset: "updateproc_717612", len: 0, typ: NTI717610, name: "updateProc", sons: null};
NTI717609.node = NNI717609;
NTI717609.base = NTI713087;
NTI693348.base = NTI20002;
NTI757340.base = NTI20002;
var NNI747436 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI747437, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI747440, name: "Field1", sons: null}]};
NTI747436.node = NNI747436;
var NNI749287 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI749288, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI749291, name: "Field1", sons: null}]};
NTI749287.node = NNI749287;
var NNI725777 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI725778, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI725781, name: "Field1", sons: null}]};
NTI725777.node = NNI725777;
var NNI747095 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI747096, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI747099, name: "Field1", sons: null}]};
NTI747095.node = NNI747095;
var NNI744451 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI744452, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI744455, name: "Field1", sons: null}]};
NTI744451.node = NNI744451;
var NNI744880 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI744881, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI744884, name: "Field1", sons: null}]};
NTI744880.node = NNI744880;
var nimvm_5551 = 0;
var nim_program_result = 0;
var globalraisehook_9813 = [null];
var localraisehook_9818 = [null];
var outofmemhook_9821 = [null];
function cstrToNimstr(c_12291) {
    var result = [];
    for (var i = 0; i < c_12291.length; ++i) {
      result[i] = c_12291.charCodeAt(i);
    }
    result[result.length] = 0; // terminating zero
    return result;
  }
function arrayConstr(len_13267, value_13268, typ_13269) {
    var result = new Array(len_13267);
    for (var i = 0; i < len_13267; ++i) result[i] = nimCopy(null, value_13268, typ_13269);
    return result;
  }
function SetConstr() {
    var result = {};
    for (var i = 0; i < arguments.length; ++i) {
      var x = arguments[i];
      if (typeof(x) == "object") {
        for (var j = x[0]; j <= x[1]; ++j) {
          result[j] = true;
        }
      } else {
        result[x] = true;
      }
    }
    return result;
  }
function isfatpointer_12897(ti_12899) {
var result_12900 = false;
BeforeRet: do {
result_12900 = !((SetConstr(17, 16, 4, 18, 27, 19, 23, 22, 21)[ti_12899.base.kind] != undefined));
break BeforeRet;
} while (false); 
return result_12900;
}
function nimCopyAux(dest_12919, src_12920, n_12922) {
switch (n_12922.kind) {
case 0: 
break;
case 1:       dest_12919[n_12922.offset] = nimCopy(dest_12919[n_12922.offset], src_12920[n_12922.offset], n_12922.typ);
    
break;
case 2: L1: do {
var i_13215 = 0;
var HEX3Atmp_13217 = 0;
HEX3Atmp_13217 = (n_12922.len - 1);
var res_13220 = 0;
L2: do {
L3: while (true) {
if (!(res_13220 <= HEX3Atmp_13217)) break L3;
i_13215 = res_13220;
nimCopyAux(dest_12919, src_12920, n_12922.sons[i_13215]);
res_13220 += 1;
}
} while(false);
} while(false);

break;
case 3:       dest_12919[n_12922.offset] = nimCopy(dest_12919[n_12922.offset], src_12920[n_12922.offset], n_12922.typ);
      for (var i = 0; i < n_12922.sons.length; ++i) {
        nimCopyAux(dest_12919, src_12920, n_12922.sons[i][1]);
      }
    
break;
}
}
function nimCopy(dest_12914, src_12915, ti_12916) {
var result_13229 = null;
switch (ti_12916.kind) {
case 21: case 22: case 23: case 5: if (!(isfatpointer_12897(ti_12916))) {
result_13229 = src_12915;
}
else {
result_13229 = [src_12915[0], src_12915[1]];}


break;
case 19:       if (dest_12914 === null || dest_12914 === undefined) {
        dest_12914 = {};
      }
      else {
        for (var key in dest_12914) { delete dest_12914[key]; }
      }
      for (var key in src_12915) { dest_12914[key] = src_12915[key]; }
      result_13229 = dest_12914;
    
break;
case 18: case 17: if (!((ti_12916.base == null))) {
result_13229 = nimCopy(dest_12914, src_12915, ti_12916.base);
}
else {
if ((ti_12916.kind == 17)) {
result_13229 = (dest_12914 === null || dest_12914 === undefined) ? {m_type: ti_12916} : dest_12914;}
else {
result_13229 = (dest_12914 === null || dest_12914 === undefined) ? {} : dest_12914;}
}
nimCopyAux(result_13229, src_12915, ti_12916.node);

break;
case 24: case 4: case 27: case 16:       if (src_12915 === null) {
        result_13229 = null;
      }
      else {
        if (dest_12914 === null || dest_12914 === undefined) {
          dest_12914 = new Array(src_12915.length);
        }
        else {
          dest_12914.length = src_12915.length;
        }
        result_13229 = dest_12914;
        for (var i = 0; i < src_12915.length; ++i) {
          result_13229[i] = nimCopy(result_13229[i], src_12915[i], ti_12916.base);
        }
      }
    
break;
case 28:       if (src_12915 !== null) {
        result_13229 = src_12915.slice(0);
      }
    
break;
default: 
result_13229 = src_12915;
break;
}
return result_13229;
}
function add_9836(x_9839, x_9839_Idx, y_9840) {
      var len = x_9839[0].length-1;
      for (var i = 0; i < y_9840.length; ++i) {
        x_9839[0][len] = y_9840.charCodeAt(i);
        ++len;
      }
      x_9839[0][len] = 0
    }
function auxwritestacktrace_11462(f_11464) {
var Tmp3;
var result_11465 = [null];
var it_11470 = f_11464;
var i_11471 = 0;
var total_11472 = 0;
var tempframes_11476 = arrayConstr(64, {Field0: null, Field1: 0}, NTI11467);
L1: do {
L2: while (true) {
if (!!((it_11470 == null))) Tmp3 = false; else {Tmp3 = (i_11471 <= 63); }if (!Tmp3) break L2;
tempframes_11476[i_11471].Field0 = it_11470.procname;
tempframes_11476[i_11471].Field1 = it_11470.line;
i_11471 += 1;
total_11472 += 1;
it_11470 = it_11470.prev;
}
} while(false);
L4: do {
L5: while (true) {
if (!!((it_11470 == null))) break L5;
total_11472 += 1;
it_11470 = it_11470.prev;
}
} while(false);
result_11465[0] = cstrToNimstr("");
if (!((total_11472 == i_11471))) {
if (result_11465[0] != null) { result_11465[0] = (result_11465[0].slice(0, -1)).concat(cstrToNimstr("(")); } else { result_11465[0] = cstrToNimstr("(");};
if (result_11465[0] != null) { result_11465[0] = (result_11465[0].slice(0, -1)).concat(cstrToNimstr(((total_11472 - i_11471))+"")); } else { result_11465[0] = cstrToNimstr(((total_11472 - i_11471))+"");};
if (result_11465[0] != null) { result_11465[0] = (result_11465[0].slice(0, -1)).concat(cstrToNimstr(" calls omitted) ...\x0A")); } else { result_11465[0] = cstrToNimstr(" calls omitted) ...\x0A");};
}

L6: do {
var j_11615 = 0;
var HEX3Atmp_11621 = 0;
HEX3Atmp_11621 = (i_11471 - 1);
var res_11624 = HEX3Atmp_11621;
L7: do {
L8: while (true) {
if (!(0 <= res_11624)) break L8;
j_11615 = res_11624;
add_9836(result_11465, 0, tempframes_11476[j_11615].Field0);
if ((0 < tempframes_11476[j_11615].Field1)) {
if (result_11465[0] != null) { result_11465[0] = (result_11465[0].slice(0, -1)).concat(cstrToNimstr(", line: ")); } else { result_11465[0] = cstrToNimstr(", line: ");};
if (result_11465[0] != null) { result_11465[0] = (result_11465[0].slice(0, -1)).concat(cstrToNimstr((tempframes_11476[j_11615].Field1)+"")); } else { result_11465[0] = cstrToNimstr((tempframes_11476[j_11615].Field1)+"");};
}

if (result_11465[0] != null) { result_11465[0] = (result_11465[0].slice(0, -1)).concat(cstrToNimstr("\x0A")); } else { result_11465[0] = cstrToNimstr("\x0A");};
res_11624 -= 1;
}
} while(false);
} while(false);
return result_11465[0];
}
function eqStrings(a_12347, b_12348) {
    if (a_12347 == b_12348) return true;
    if ((!a_12347) || (!b_12348)) return false;
    var alen = a_12347.length;
    if (alen != b_12348.length) return false;
    for (var i = 0; i < alen; ++i)
      if (a_12347[i] != b_12348[i]) return false;
    return true;
  }
function toJSStr(s_12295) {
    var len = s_12295.length-1;
    var asciiPart = new Array(len);
    var fcc = String.fromCharCode;
    var nonAsciiPart = null;
    var nonAsciiOffset = 0;
    for (var i = 0; i < len; ++i) {
      if (nonAsciiPart !== null) {
        var offset = (i - nonAsciiOffset) * 2;
        nonAsciiPart[offset] = "%";
        nonAsciiPart[offset + 1] = s_12295[i].toString(16);
      }
      else if (s_12295[i] < 128)
        asciiPart[i] = fcc(s_12295[i]);
      else {
        asciiPart.length = i;
        nonAsciiOffset = i;
        nonAsciiPart = new Array((len - i) * 2);
        --i;
      }
    }
    asciiPart = asciiPart.join("");
    return (nonAsciiPart === null) ?
        asciiPart : asciiPart + decodeURIComponent(nonAsciiPart.join(""));
  }
function unhandledException(e_11658) {
var Tmp1;
var buf_11801 = /**/[cstrToNimstr("")];
if (!!(eqStrings(e_11658.message, null))) Tmp1 = false; else {Tmp1 = !((e_11658.message[0] == 0)); }if (Tmp1) {
if (buf_11801[0] != null) { buf_11801[0] = (buf_11801[0].slice(0, -1)).concat(cstrToNimstr("Error: unhandled exception: ")); } else { buf_11801[0] = cstrToNimstr("Error: unhandled exception: ");};
if (buf_11801[0] != null) { buf_11801[0] = (buf_11801[0].slice(0, -1)).concat(e_11658.message); } else { buf_11801[0] = e_11658.message;};
}
else {
if (buf_11801[0] != null) { buf_11801[0] = (buf_11801[0].slice(0, -1)).concat(cstrToNimstr("Error: unhandled exception")); } else { buf_11801[0] = cstrToNimstr("Error: unhandled exception");};
}

if (buf_11801[0] != null) { buf_11801[0] = (buf_11801[0].slice(0, -1)).concat(cstrToNimstr(" [")); } else { buf_11801[0] = cstrToNimstr(" [");};
add_9836(buf_11801, 0, e_11658.name);
if (buf_11801[0] != null) { buf_11801[0] = (buf_11801[0].slice(0, -1)).concat(cstrToNimstr("]\x0A")); } else { buf_11801[0] = cstrToNimstr("]\x0A");};
alert(toJSStr(buf_11801[0]));
}
function raiseException(e_11806, ename_11807) {
e_11806.name = ename_11807;
if (!((framePtr == null))) {
e_11806.trace = auxwritestacktrace_11462(framePtr);
}

if ((excHandler == 0)) {
unhandledException(e_11806);
}

throw e_11806;}
function raiseOverflow() {
var e_12211 = null;
e_12211 = {m_type: NTI3440, parent: null, name: null, message: null, trace: null};
e_12211.message = cstrToNimstr("over- or underflow");
raiseException(e_12211, "OverflowError");
}
function raiseDivByZero() {
var e_12227 = null;
e_12227 = {m_type: NTI3438, parent: null, name: null, message: null, trace: null};
e_12227.message = cstrToNimstr("division by zero");
raiseException(e_12227, "DivByZeroError");
}
var gautoglerrorcheck_44278 = /**/[1];
var ginsidebeginend_44279 = /**/[0];
var objectid_636233 = /**/[0];
function nimx_calculateFontMetricsInCanvas(ctx_646006, fontfamily_646007, fontsize_646008) {
var result_646010 = null;
    var textstring = "Hl@q";

    result_646010 = ctx_646006.measureText(textstring);
    var canvas = document.createElement("canvas");
    var padding = 100;
    canvas.width = result_646010.width + padding;
    canvas.height = 3*fontsize_646008;
    canvas.style.opacity = 1;
//    canvas.style.fontFamily = fontfamily_646007;
//    canvas.style.fontSize = fontsize_646008;
    var ctx = canvas.getContext("2d");
    ctx.font = fontsize_646008 + "px " + fontfamily_646007;

    var w = canvas.width,
        h = canvas.height,
        baseline = h/2;

    // Set all canvas pixeldata values to 255, with all the content
    // data being 0. This lets us scan for data[i] != 255.
    ctx.fillStyle = "white";
    ctx.fillRect(-1, -1, w+2, h+2);
    ctx.fillStyle = "black";
    ctx.fillText(textstring, padding/2, baseline);
    var pixelData = ctx.getImageData(0, 0, w, h).data;

    // canvas pixel data is w*4 by h*4, because R, G, B and A are separate,
    // consecutive values in the array, rather than stored as 32 bit ints.
    var i = 0,
        w4 = w * 4,
        len = pixelData.length;

    // Finding the ascent uses a normal, forward scanline
    while (++i < len && pixelData[i] === 255) {}
    var ascent = (i/w4)|0;

    // Finding the descent uses a reverse scanline
    i = len - 1;
    while (--i > 0 && pixelData[i] === 255) {}
    var descent = (i/w4)|0;

    result_646010.ascent = (baseline - ascent);
    result_646010.descent = (descent - baseline);
    result_646010.height = 1+(descent - ascent);
    return result_646010;
}
var globalgl_652401 = [null];
var fontcache_656220 = [null];
var sysfont_657201 = [null];
function ispoweroftwo_18625(x_18627) {
var Tmp1;
var result_18628 = false;
BeforeRet: do {
if (!(0 < x_18627)) Tmp1 = false; else {Tmp1 = ((x_18627 & (x_18627 - 1)) == 0); }result_18628 = Tmp1;
break BeforeRet;
} while (false); 
return result_18628;
}
function sysfatal_14698(message_14704) {
var e_14706 = null;
e_14706 = {m_type: NTI3444, parent: null, name: null, message: null, trace: null};
e_14706.message = message_14704;
raiseException(e_14706, "AssertionError");
}
function raiseassert_14693(msg_14695) {
sysfatal_14698(msg_14695);
}
function failedassertimpl_14716(msg_14718) {
raiseassert_14693(msg_14718);
}
function raiseRangeError() {
var e_12243 = null;
e_12243 = {m_type: NTI3456, parent: null, name: null, message: null, trace: null};
e_12243.message = cstrToNimstr("value out of range");
raiseException(e_12243, "RangeError");
}
function chckRange(i_13279, a_13280, b_13281) {
var Tmp1;
var result_13282 = 0;
BeforeRet: do {
if (!(a_13280 <= i_13279)) Tmp1 = false; else {Tmp1 = (i_13279 <= b_13281); }if (Tmp1) {
result_13282 = i_13279;
break BeforeRet;
}
else {
raiseRangeError();
}

} while (false); 
return result_13282;
}
function inittable_675271(initialsize_675276) {
var result_675278 = {data_675229: null, counter_675232: 0};
if (!(ispoweroftwo_18625(initialsize_675276))) {
failedassertimpl_14716(cstrToNimstr("isPowerOfTwo(initialSize) "));
}

result_675278.counter_675232 = 0;
result_675278.data_675229 = new Array(chckRange(initialsize_675276, 0, 2147483647)); for (var i=0;i<chckRange(initialsize_675276, 0, 2147483647);++i) {result_675278.data_675229[i]={Field0: 0, Field1: null, Field2: null};}return result_675278;
}
function inittable_675412(initialsize_675417) {
var result_675419 = {data_675253: null, counter_675256: 0};
if (!(ispoweroftwo_18625(initialsize_675417))) {
failedassertimpl_14716(cstrToNimstr("isPowerOfTwo(initialSize) "));
}

result_675419.counter_675256 = 0;
result_675419.data_675253 = new Array(chckRange(initialsize_675417, 0, 2147483647)); for (var i=0;i<chckRange(initialsize_675417, 0, 2147483647);++i) {result_675419.data_675253[i]={Field0: 0, Field1: null, Field2: null};}return result_675419;
}
function newresourcecache_675259() {
var result_675261 = null;
result_675261 = {jsons_675233: {data_675229: null, counter_675232: 0}, texts_675257: {data_675253: null, counter_675256: 0}};
nimCopy(result_675261.jsons_675233, inittable_675271(64), NTI675215);
nimCopy(result_675261.texts_675257, inittable_675412(64), NTI675239);
return result_675261;
}
var grescache_675611 = /**/[newresourcecache_675259()];
var warnwhenresourcenotcached_675612 = /**/[0];
function newseq_680225(len_680229) {
var result_680231 = null;
result_680231 = new Array(len_680229); for (var i=0;i<len_680229;++i) {result_680231[i]={Field0: null, Field1: null};}return result_680231;
}
var resourcepreloaders_680250 = /**/[newseq_680225(0)];
function subInt(a_12461, b_12462) {
    var result = a_12461 - b_12462;
    if (result > 2147483647 || result < -2147483648) raiseOverflow();
    return result;
  }
function raiseIndexError() {
var e_12259 = null;
e_12259 = {m_type: NTI3452, parent: null, name: null, message: null, trace: null};
e_12259.message = cstrToNimstr("index out of bounds");
raiseException(e_12259, "IndexError");
}
function chckIndx(i_13273, a_13274, b_13275) {
var Tmp1;
var result_13276 = 0;
BeforeRet: do {
if (!(a_13274 <= i_13273)) Tmp1 = false; else {Tmp1 = (i_13273 <= b_13275); }if (Tmp1) {
result_13276 = i_13273;
break BeforeRet;
}
else {
raiseIndexError();
}

} while (false); 
return result_13276;
}
function addInt(a_12456, b_12457) {
    var result = a_12456 + b_12457;
    if (result > 2147483647 || result < -2147483648) raiseOverflow();
    return result;
  }
function HEX40_680462(a_680467) {
var result_680469 = null;
result_680469 = new Array(chckRange((a_680467 != null ? a_680467.length : 0), 0, 2147483647)); for (var i=0;i<chckRange((a_680467 != null ? a_680467.length : 0), 0, 2147483647);++i) {result_680469[i]=null;}L1: do {
var i_680503 = 0;
var HEX3Atmp_680505 = 0;
HEX3Atmp_680505 = subInt((a_680467 != null ? a_680467.length : 0), 1);
var res_680508 = 0;
L2: do {
L3: while (true) {
if (!(res_680508 <= HEX3Atmp_680505)) break L3;
i_680503 = res_680508;
result_680469[chckIndx(i_680503, 0, result_680469.length)-0] = a_680467[chckIndx(i_680503, 0, a_680467.length)-0];
res_680508 = addInt(res_680508, 1);
}
} while(false);
} while(false);
return result_680469;
}
function registerresourcepreloader_680455(fileextensions_680458, loader_680459) {
if (resourcepreloaders_680250[0] != null) { resourcepreloaders_680250[0].push({Field0: HEX40_680462(fileextensions_680458), Field1: loader_680459}); } else { resourcepreloaders_680250[0] = [{Field0: HEX40_680462(fileextensions_680458), Field1: loader_680459}]; };
}
function addU(a_12542, b_12543) {
var result_12544 = 0;
result_12544 = (Math.abs(a_12542) + Math.abs(b_12543));
return result_12544;
}
function HEX21HEX26_636004(h_636006, val_636007) {
var result_636008 = 0;
result_636008 = addU(h_636006, val_636007);
result_636008 = addU(result_636008, (result_636008 << 10));
result_636008 = (result_636008 ^ (result_636008 >>> 6));
return result_636008;
}
function HEX21HEX24_636027(h_636029) {
var result_636030 = 0;
result_636030 = addU(h_636029, (h_636029 << 3));
result_636030 = (result_636030 ^ (result_636030 >>> 11));
result_636030 = addU(result_636030, (result_636030 << 15));
return result_636030;
}
function hash_636827(x_636829) {
var result_636830 = 0;
var h_636831 = 0;
L1: do {
var i_636841 = 0;
var HEX3Atmp_636852 = 0;
HEX3Atmp_636852 = subInt((x_636829 != null ? x_636829.length-1 : 0), 1);
var res_636855 = 0;
L2: do {
L3: while (true) {
if (!(res_636855 <= HEX3Atmp_636852)) break L3;
i_636841 = res_636855;
h_636831 = HEX21HEX26_636004(h_636831, x_636829[chckIndx(i_636841, 0, x_636829.length)-0]);
res_636855 = addInt(res_636855, 1);
}
} while(false);
} while(false);
result_636830 = HEX21HEX24_636027(h_636831);
return result_636830;
}
function isfilled_639263(hcode_639265) {
var result_639266 = false;
result_639266 = !((hcode_639265 == 0));
return result_639266;
}
function nexttry_639401(h_639403, maxhash_639404) {
var result_639405 = 0;
result_639405 = (addInt(h_639403, 1) & maxhash_639404);
return result_639405;
}
function rawget_677632(t_677637, key_677639, hc_677641, hc_677641_Idx) {
var Tmp3;
var result_677642 = 0;
BeforeRet: do {
hc_677641[hc_677641_Idx] = hash_636827(key_677639);
if ((hc_677641[hc_677641_Idx] == 0)) {
hc_677641[hc_677641_Idx] = 314159265;
}

var h_677646 = (hc_677641[hc_677641_Idx] & (t_677637.data_675229 != null ? (t_677637.data_675229.length-1) : -1));
L1: do {
L2: while (true) {
if (!isfilled_639263(t_677637.data_675229[chckIndx(h_677646, 0, t_677637.data_675229.length)-0].Field0)) break L2;
if (!(t_677637.data_675229[chckIndx(h_677646, 0, t_677637.data_675229.length)-0].Field0 == hc_677641[hc_677641_Idx])) Tmp3 = false; else {Tmp3 = eqStrings(t_677637.data_675229[chckIndx(h_677646, 0, t_677637.data_675229.length)-0].Field1, key_677639); }if (Tmp3) {
result_677642 = h_677646;
break BeforeRet;
}

h_677646 = nexttry_639401(h_677646, (t_677637.data_675229 != null ? (t_677637.data_675229.length-1) : -1));
}
} while(false);
result_677642 = subInt(-1, h_677646);
} while (false); 
return result_677642;
}
function getordefault_677617(t_677623, key_677625) {
var result_677626 = null;
var hc_677628 = [0];
var index_677630 = rawget_677632(t_677623, key_677625, hc_677628, 0);
if ((0 <= index_677630)) {
result_677626 = t_677623.data_675229[chckIndx(index_677630, 0, t_677623.data_675229.length)-0].Field2;
}

return result_677626;
}
function mnewString(len_12299) {
    var result = new Array(len_12299+1);
    result[0] = 0;
    result[len_12299] = 0;
    return result;
  }
function nsuJoin(a_29649) {
var result_29650 = null;
if ((0 < (a_29649 != null ? a_29649.length : 0))) {
var L_29658 = 0;
L1: do {
var i_29668 = 0;
var HEX3Atmp_29689 = 0;
HEX3Atmp_29689 = (a_29649 != null ? (a_29649.length-1) : -1);
var res_29692 = 0;
L2: do {
L3: while (true) {
if (!(res_29692 <= HEX3Atmp_29689)) break L3;
i_29668 = res_29692;
L_29658 += (a_29649[i_29668] != null ? a_29649[i_29668].length-1 : 0);
res_29692 += 1;
}
} while(false);
} while(false);
result_29650 = mnewString(0);
L4: do {
var i_29687 = 0;
var HEX3Atmp_29697 = 0;
HEX3Atmp_29697 = (a_29649 != null ? (a_29649.length-1) : -1);
var res_29700 = 0;
L5: do {
L6: while (true) {
if (!(res_29700 <= HEX3Atmp_29697)) break L6;
i_29687 = res_29700;
if (result_29650 != null) { result_29650 = (result_29650.slice(0, -1)).concat(a_29649[i_29687]); } else { result_29650 = a_29649[i_29687];};
res_29700 += 1;
}
} while(false);
} while(false);
}
else {
result_29650 = cstrToNimstr("");
}

return result_29650;
}
function logi_33004(a_33007) {
console.log(toJSStr(nsuJoin(a_33007)));
}
function mod_19617(x_19619, y_19620) {
var Tmp1;
var result_19621 = 0.0;
if ((y_19620 == 0.0)) {
Tmp1 = x_19619;
}
else {
Tmp1 = (x_19619 - (y_19620 * Math.floor((x_19619 / y_19620))));
}

result_19621 = Tmp1;
return result_19621;
}
function getvartype_672106(x_672110) {
var result_672111 = 0;
BeforeRet: do {
result_672111 = 0;
switch (toJSStr(cstrToNimstr(Object.prototype.toString.call(x_672110)))) {
case "[object Array]": result_672111 = 6;
break BeforeRet;

break;
case "[object Object]": result_672111 = 5;
break BeforeRet;

break;
case "[object Number]": if ((mod_19617(x_672110, 1.0000000000000000e+00) == 0.0)) {
result_672111 = 2;
break BeforeRet;
}
else {
result_672111 = 3;
break BeforeRet;
}


break;
case "[object Boolean]": result_672111 = 1;
break BeforeRet;

break;
case "[object Null]": result_672111 = 0;
break BeforeRet;

break;
case "[object String]": result_672111 = 4;
break BeforeRet;

break;
default: 
if (1) {
failedassertimpl_14716(cstrToNimstr("false "));
}

break;
}
} while (false); 
return result_672111;
}
function newjarray_666781() {
var result_666783 = null;
result_666783 = {kind_666643: 0, str_666644: null, num_666645: 0, fnum_666646: 0.0, bval_666647: false, fields_666652: null, elems_666654: null};
result_666783.kind_666643 = 6;
result_666783.elems_666654 = [];
return result_666783;
}
function len_672101(x_672103) {
var result_672104 = 0;
if (!((getvartype_672106(x_672103) == 6))) {
failedassertimpl_14716(cstrToNimstr("getVarType(x) == JArray "));
}

      return x_672103.length;
    return result_672104;
}
function add_669025(father_669027, child_669028) {
if (!((father_669027.kind_666643 == 6))) {
failedassertimpl_14716(cstrToNimstr("father.kind == JArray "));
}

if (father_669027.elems_666654 != null) { father_669027.elems_666654.push(child_669028); } else { father_669027.elems_666654 = [child_669028]; };
}
function HEX5BHEX5D_672601(x_672603, y_672604) {
var result_672605 = {};
if (!((getvartype_672106(x_672603) == 6))) {
failedassertimpl_14716(cstrToNimstr("getVarType(x) == JArray "));
}

      return x_672603[y_672604];
    return result_672605;
}
function newjobject_666753() {
var result_666755 = null;
result_666755 = {kind_666643: 0, str_666644: null, num_666645: 0, fnum_666646: 0.0, bval_666647: false, fields_666652: null, elems_666654: null};
result_666755.kind_666643 = 5;
result_666755.fields_666652 = [];
return result_666755;
}
function HEX5BHEX5DHEX3D_669413(obj_669415, key_669416, val_669417) {
BeforeRet: do {
if (!((obj_669415.kind_666643 == 5))) {
failedassertimpl_14716(cstrToNimstr("obj.kind == JObject "));
}

L1: do {
var i_669619 = 0;
var HEX3Atmp_669635 = 0;
HEX3Atmp_669635 = subInt((obj_669415.fields_666652 != null ? obj_669415.fields_666652.length : 0), 1);
var res_669638 = 0;
L2: do {
L3: while (true) {
if (!(res_669638 <= HEX3Atmp_669635)) break L3;
i_669619 = res_669638;
if (eqStrings(obj_669415.fields_666652[chckIndx(i_669619, 0, obj_669415.fields_666652.length)-0].Field0, key_669416)) {
obj_669415.fields_666652[chckIndx(i_669619, 0, obj_669415.fields_666652.length)-0].Field1 = val_669417;
break BeforeRet;
}

res_669638 = addInt(res_669638, 1);
}
} while(false);
} while(false);
if (obj_669415.fields_666652 != null) { obj_669415.fields_666652.push({Field0: key_669416, Field1: val_669417}); } else { obj_669415.fields_666652 = [{Field0: key_669416, Field1: val_669417}]; };
} while (false); 
}
function newjint_666703(n_666705) {
var result_666706 = null;
result_666706 = {kind_666643: 0, str_666644: null, num_666645: 0, fnum_666646: 0.0, bval_666647: false, fields_666652: null, elems_666654: null};
result_666706.kind_666643 = 2;
result_666706.num_666645 = n_666705;
return result_666706;
}
function newjfloat_666716(n_666718) {
var result_666719 = null;
result_666719 = {kind_666643: 0, str_666644: null, num_666645: 0, fnum_666646: 0.0, bval_666647: false, fields_666652: null, elems_666654: null};
result_666719.kind_666643 = 3;
result_666719.fnum_666646 = n_666718;
return result_666719;
}
function newjstring_666677(s_666679) {
var result_666680 = null;
result_666680 = {kind_666643: 0, str_666644: null, num_666645: 0, fnum_666646: 0.0, bval_666647: false, fields_666652: null, elems_666654: null};
result_666680.kind_666643 = 4;
result_666680.str_666644 = s_666679;
return result_666680;
}
function newjbool_666729(b_666731) {
var result_666732 = null;
result_666732 = {kind_666643: 0, str_666644: null, num_666645: 0, fnum_666646: 0.0, bval_666647: false, fields_666652: null, elems_666654: null};
result_666732.kind_666643 = 1;
result_666732.bval_666647 = b_666731;
return result_666732;
}
function newjnull_666742() {
var result_666744 = null;
result_666744 = {kind_666643: 0, str_666644: null, num_666645: 0, fnum_666646: 0.0, bval_666647: false, fields_666652: null, elems_666654: null};
return result_666744;
}
function convertobject_672801(x_672803) {
var result_672804 = null;
switch (getvartype_672106(x_672803)) {
case 6: result_672804 = newjarray_666781();
L1: do {
var i_672829 = 0;
var HEX3Atmp_672834 = 0;
HEX3Atmp_672834 = subInt(len_672101(x_672803), 1);
var res_672837 = 0;
L2: do {
L3: while (true) {
if (!(res_672837 <= HEX3Atmp_672834)) break L3;
i_672829 = res_672837;
add_669025(result_672804, convertobject_672801(HEX5BHEX5D_672601(x_672803, i_672829)));
res_672837 = addInt(res_672837, 1);
}
} while(false);
} while(false);

break;
case 5: result_672804 = newjobject_666753();
for (property in x_672803) {
        if (x_672803.hasOwnProperty(property)) {
      var nimproperty_672831 = null;
var nimvalue_672832 = {};
nimproperty_672831 = property; nimvalue_672832 = x_672803[property];HEX5BHEX5DHEX3D_669413(result_672804, cstrToNimstr(nimproperty_672831), convertobject_672801(nimvalue_672832));
}}
break;
case 2: result_672804 = newjint_666703(x_672803);

break;
case 3: result_672804 = newjfloat_666716(x_672803);

break;
case 4: result_672804 = newjstring_666677(cstrToNimstr(x_672803));

break;
case 1: result_672804 = newjbool_666729(x_672803);

break;
case 0: result_672804 = newjnull_666742();

break;
}
return result_672804;
}
function parsejson_672847(buffer_672849) {
var result_672850 = null;
BeforeRet: do {
result_672850 = convertobject_672801(JSON.parse(toJSStr(buffer_672849)));
break BeforeRet;
} while (false); 
return result_672850;
}
function newxmlhttprequest_674239() {
var result_674241 = null;
        if (window.XMLHttpRequest)
            result_674241 = new XMLHttpRequest();
        else
            result_674241 = new ActiveXObject("Microsoft.XMLHTTP");
        return result_674241;
}
function loadjsresourceasync_677204(resourcename_677206, resourcetype_677207, onprogress_677211, onerror_677215, oncomplete_677220) {
function HEX3Aanonymous_677221(ev_677224) {
var data_677226 = null;
data_677226 = ev_677224.target.response;oncomplete_677220(data_677226);
}
var reqlistener_677228 = HEX3Aanonymous_677221;
var oreq_677229 = newxmlhttprequest_674239();
oreq_677229.responseType = resourcetype_677207;
oreq_677229.addEventListener("load", reqlistener_677228);
oreq_677229.open("GET", toJSStr((cstrToNimstr("res/").slice(0,-1)).concat(resourcename_677206)));
oreq_677229.send();
}
function loadjsonresourceasync_677609(resourcename_677611, handler_677615) {
function HEX3Aanonymous_677801(data_677804) {
var jsonstring_677805 = data_677804;
handler_677615(parsejson_672847(cstrToNimstr(jsonstring_677805)));
}
var j_677651 = getordefault_677617(grescache_675611[0].jsons_675233, resourcename_677611);
if (j_677651 == null) {
if (warnwhenresourcenotcached_675612[0]) {
logi_33004([cstrToNimstr("WARNING: Resource not loaded: "), resourcename_677611]);
}

var reqlistener_677807 = HEX3Aanonymous_677801;
loadjsresourceasync_677204(resourcename_677611, "text", null, null, reqlistener_677807);
}
else {
handler_677615(j_677651);
}

}
function mulInt(a_12466, b_12467) {
    var result = a_12466 * b_12467;
    if (result > 2147483647 || result < -2147483648) raiseOverflow();
    return result;
  }
function mustrehash_639268(length_639270, counter_639271) {
var result_639272 = false;
if (!((counter_639271 < length_639270))) {
failedassertimpl_14716(cstrToNimstr("\x0A  counter < length "));
}

result_639272 = ((mulInt(length_639270, 2) < mulInt(counter_639271, 3)) || (subInt(length_639270, counter_639271) < 4));
return result_639272;
}
function rawgetknownhc_680623(t_680628, key_680630, hc_680632) {
var result_680633 = 0;
BeforeRet: do {
var h_680634 = (hc_680632 & (t_680628.data_675229 != null ? (t_680628.data_675229.length-1) : -1));
L1: do {
L2: while (true) {
if (!isfilled_639263(t_680628.data_675229[chckIndx(h_680634, 0, t_680628.data_675229.length)-0].Field0)) break L2;
if (((t_680628.data_675229[chckIndx(h_680634, 0, t_680628.data_675229.length)-0].Field0 == hc_680632) && eqStrings(t_680628.data_675229[chckIndx(h_680634, 0, t_680628.data_675229.length)-0].Field1, key_680630))) {
result_680633 = h_680634;
break BeforeRet;
}

h_680634 = nexttry_639401(h_680634, (t_680628.data_675229 != null ? (t_680628.data_675229.length-1) : -1));
}
} while(false);
result_680633 = subInt(-1, h_680634);
} while (false); 
return result_680633;
}
function rawinsert_680639(t_680646, data_680650, data_680650_Idx, key_680652, val_680654, hc_680656, h_680658) {
data_680650[data_680650_Idx][chckIndx(h_680658, 0, data_680650[data_680650_Idx].length)-0].Field1 = key_680652;
data_680650[data_680650_Idx][chckIndx(h_680658, 0, data_680650[data_680650_Idx].length)-0].Field2 = val_680654;
data_680650[data_680650_Idx][chckIndx(h_680658, 0, data_680650[data_680650_Idx].length)-0].Field0 = hc_680656;
}
function enlarge_680570(t_680577) {
var n_680581 = null;
n_680581 = new Array(chckRange(mulInt((t_680577.data_675229 != null ? t_680577.data_675229.length : 0), 2), 0, 2147483647)); for (var i=0;i<chckRange(mulInt((t_680577.data_675229 != null ? t_680577.data_675229.length : 0), 2), 0, 2147483647);++i) {n_680581[i]={Field0: 0, Field1: null, Field2: null};}var Tmp1 = t_680577.data_675229; t_680577.data_675229 = n_680581; n_680581 = Tmp1;L2: do {
var i_680621 = 0;
var HEX3Atmp_680662 = 0;
HEX3Atmp_680662 = (n_680581 != null ? (n_680581.length-1) : -1);
var res_680665 = 0;
L3: do {
L4: while (true) {
if (!(res_680665 <= HEX3Atmp_680662)) break L4;
i_680621 = res_680665;
if (isfilled_639263(n_680581[chckIndx(i_680621, 0, n_680581.length)-0].Field0)) {
var j_680637 = subInt(-1, rawgetknownhc_680623(t_680577, n_680581[chckIndx(i_680621, 0, n_680581.length)-0].Field1, n_680581[chckIndx(i_680621, 0, n_680581.length)-0].Field0));
rawinsert_680639(t_680577, t_680577, "data_675229", n_680581[chckIndx(i_680621, 0, n_680581.length)-0].Field1, n_680581[chckIndx(i_680621, 0, n_680581.length)-0].Field2, n_680581[chckIndx(i_680621, 0, n_680581.length)-0].Field0, j_680637);
}

res_680665 = addInt(res_680665, 1);
}
} while(false);
} while(false);
}
function HEX5BHEX5DHEX3D_680534(t_680541, key_680543, val_680545) {
var hc_680546 = [0];
var index_680560 = rawget_677632(t_680541, key_680543, hc_680546, 0);
if ((0 <= index_680560)) {
t_680541.data_675229[chckIndx(index_680560, 0, t_680541.data_675229.length)-0].Field2 = val_680545;
}
else {
if (mustrehash_639268((t_680541.data_675229 != null ? t_680541.data_675229.length : 0), t_680541.counter_675232)) {
enlarge_680570(t_680541);
index_680560 = rawgetknownhc_680623(t_680541, key_680543, hc_680546[0]);
}

index_680560 = subInt(-1, index_680560);
rawinsert_680639(t_680541, t_680541, "data_675229", key_680543, val_680545, hc_680546[0], index_680560);
t_680541.counter_675232 = addInt(t_680541.counter_675232, 1);
}

}
function HEX3Aanonymous_680524(name_680526, callback_680529) {
function HEX3Aanonymous_680530(j_680532) {
HEX5BHEX5DHEX3D_680534(grescache_675611[0].jsons_675233, name_680526, j_680532);
callback_680529();
}
loadjsonresourceasync_677609(name_680526, HEX3Aanonymous_680530);
}
registerresourcepreloader_680455([cstrToNimstr("json"), cstrToNimstr("zsm")], HEX3Aanonymous_680524);
function rawget_680821(t_680826, key_680828, hc_680830, hc_680830_Idx) {
var Tmp3;
var result_680831 = 0;
BeforeRet: do {
hc_680830[hc_680830_Idx] = hash_636827(key_680828);
if ((hc_680830[hc_680830_Idx] == 0)) {
hc_680830[hc_680830_Idx] = 314159265;
}

var h_680835 = (hc_680830[hc_680830_Idx] & (t_680826.data_675253 != null ? (t_680826.data_675253.length-1) : -1));
L1: do {
L2: while (true) {
if (!isfilled_639263(t_680826.data_675253[chckIndx(h_680835, 0, t_680826.data_675253.length)-0].Field0)) break L2;
if (!(t_680826.data_675253[chckIndx(h_680835, 0, t_680826.data_675253.length)-0].Field0 == hc_680830[hc_680830_Idx])) Tmp3 = false; else {Tmp3 = eqStrings(t_680826.data_675253[chckIndx(h_680835, 0, t_680826.data_675253.length)-0].Field1, key_680828); }if (Tmp3) {
result_680831 = h_680835;
break BeforeRet;
}

h_680835 = nexttry_639401(h_680835, (t_680826.data_675253 != null ? (t_680826.data_675253.length-1) : -1));
}
} while(false);
result_680831 = subInt(-1, h_680835);
} while (false); 
return result_680831;
}
function rawgetknownhc_680902(t_680907, key_680909, hc_680911) {
var result_680912 = 0;
BeforeRet: do {
var h_680913 = (hc_680911 & (t_680907.data_675253 != null ? (t_680907.data_675253.length-1) : -1));
L1: do {
L2: while (true) {
if (!isfilled_639263(t_680907.data_675253[chckIndx(h_680913, 0, t_680907.data_675253.length)-0].Field0)) break L2;
if (((t_680907.data_675253[chckIndx(h_680913, 0, t_680907.data_675253.length)-0].Field0 == hc_680911) && eqStrings(t_680907.data_675253[chckIndx(h_680913, 0, t_680907.data_675253.length)-0].Field1, key_680909))) {
result_680912 = h_680913;
break BeforeRet;
}

h_680913 = nexttry_639401(h_680913, (t_680907.data_675253 != null ? (t_680907.data_675253.length-1) : -1));
}
} while(false);
result_680912 = subInt(-1, h_680913);
} while (false); 
return result_680912;
}
function rawinsert_680918(t_680925, data_680929, data_680929_Idx, key_680931, val_680933, hc_680935, h_680937) {
data_680929[data_680929_Idx][chckIndx(h_680937, 0, data_680929[data_680929_Idx].length)-0].Field1 = key_680931;
data_680929[data_680929_Idx][chckIndx(h_680937, 0, data_680929[data_680929_Idx].length)-0].Field2 = val_680933;
data_680929[data_680929_Idx][chckIndx(h_680937, 0, data_680929[data_680929_Idx].length)-0].Field0 = hc_680935;
}
function enlarge_680849(t_680856) {
var n_680860 = null;
n_680860 = new Array(chckRange(mulInt((t_680856.data_675253 != null ? t_680856.data_675253.length : 0), 2), 0, 2147483647)); for (var i=0;i<chckRange(mulInt((t_680856.data_675253 != null ? t_680856.data_675253.length : 0), 2), 0, 2147483647);++i) {n_680860[i]={Field0: 0, Field1: null, Field2: null};}var Tmp1 = t_680856.data_675253; t_680856.data_675253 = n_680860; n_680860 = Tmp1;L2: do {
var i_680900 = 0;
var HEX3Atmp_680941 = 0;
HEX3Atmp_680941 = (n_680860 != null ? (n_680860.length-1) : -1);
var res_680944 = 0;
L3: do {
L4: while (true) {
if (!(res_680944 <= HEX3Atmp_680941)) break L4;
i_680900 = res_680944;
if (isfilled_639263(n_680860[chckIndx(i_680900, 0, n_680860.length)-0].Field0)) {
var j_680916 = subInt(-1, rawgetknownhc_680902(t_680856, n_680860[chckIndx(i_680900, 0, n_680860.length)-0].Field1, n_680860[chckIndx(i_680900, 0, n_680860.length)-0].Field0));
rawinsert_680918(t_680856, t_680856, "data_675253", n_680860[chckIndx(i_680900, 0, n_680860.length)-0].Field1, n_680860[chckIndx(i_680900, 0, n_680860.length)-0].Field2, n_680860[chckIndx(i_680900, 0, n_680860.length)-0].Field0, j_680916);
}

res_680944 = addInt(res_680944, 1);
}
} while(false);
} while(false);
}
function HEX5BHEX5DHEX3D_680807(t_680814, key_680816, val_680818) {
var hc_680819 = [0];
var index_680839 = rawget_680821(t_680814, key_680816, hc_680819, 0);
if ((0 <= index_680839)) {
t_680814.data_675253[chckIndx(index_680839, 0, t_680814.data_675253.length)-0].Field2 = val_680818;
}
else {
if (mustrehash_639268((t_680814.data_675253 != null ? t_680814.data_675253.length : 0), t_680814.counter_675256)) {
enlarge_680849(t_680814);
index_680839 = rawgetknownhc_680902(t_680814, key_680816, hc_680819[0]);
}

index_680839 = subInt(-1, index_680839);
rawinsert_680918(t_680814, t_680814, "data_675253", key_680816, val_680818, hc_680819[0], index_680839);
t_680814.counter_675256 = addInt(t_680814.counter_675256, 1);
}

}
function HEX3Aanonymous_680717(name_680719, callback_680722) {
function handler_680801(r_680804) {
var jsonstring_680805 = r_680804;
HEX5BHEX5DHEX3D_680807(grescache_675611[0].texts_675257, name_680719, cstrToNimstr(jsonstring_680805));
callback_680722();
}
loadjsresourceasync_677204(name_680719, "text", null, null, handler_680801);
}
registerresourcepreloader_680455([cstrToNimstr("obj"), cstrToNimstr("txt")], HEX3Aanonymous_680717);
function inittable_682254(initialsize_682259) {
var result_682280 = {data_682276: null, counter_682279: 0};
if (!(ispoweroftwo_18625(initialsize_682259))) {
failedassertimpl_14716(cstrToNimstr("isPowerOfTwo(initialSize) "));
}

result_682280.counter_682279 = 0;
result_682280.data_682276 = new Array(chckRange(initialsize_682259, 0, 2147483647)); for (var i=0;i<chckRange(initialsize_682259, 0, 2147483647);++i) {result_682280.data_682276[i]={Field0: 0, Field1: null, Field2: null};}return result_682280;
}
var imagecache_682411 = /**/[inittable_682254(64)];
function nextpoweroftwo_18629(x_18631) {
var result_18632 = 0;
result_18632 = (x_18631 - 1);
result_18632 = (result_18632 | (result_18632 >>> 16));
result_18632 = (result_18632 | (result_18632 >>> 8));
result_18632 = (result_18632 | (result_18632 >>> 4));
result_18632 = (result_18632 | (result_18632 >>> 2));
result_18632 = (result_18632 | (result_18632 >>> 1));
result_18632 += (1 + ((x_18631 <= 0) ? 1:0));
return result_18632;
}
function imagewithsize_683819(size_683821) {
var Tmp1;
var Tmp2;
var result_683822 = null;
result_683822 = {m_type: NTI682207, texture_682208: 0, msize_682209: {Field0: 0.0, Field1: 0.0}, sizeintexels_682210: {Field0: 0.0, Field1: 0.0}, framebuffer_682211: 0};
nimCopy(result_683822.msize_682209, size_683821, NTI20010);
if (ispoweroftwo_18625((size_683821.Field0|0))) {
Tmp1 = (size_683821.Field0|0);
}
else {
Tmp1 = nextpoweroftwo_18629((size_683821.Field0|0));
}

var texwidth_683831 = Tmp1;
if (ispoweroftwo_18625((size_683821.Field1|0))) {
Tmp2 = (size_683821.Field1|0);
}
else {
Tmp2 = nextpoweroftwo_18629((size_683821.Field1|0));
}

var texheight_683832 = Tmp2;
result_683822.sizeintexels_682210.Field0 = (size_683821.Field0 / texwidth_683831);
result_683822.sizeintexels_682210.Field1 = (size_683821.Field1 / texheight_683832);
return result_683822;
}
function newsize_20061(w_20063, h_20064) {
var result_20065 = {Field0: 0.0, Field1: 0.0};
result_20065.Field0 = w_20063;
result_20065.Field1 = h_20064;
return result_20065;
}
function rawget_682431(t_682436, key_682438, hc_682440, hc_682440_Idx) {
var Tmp3;
var result_682441 = 0;
BeforeRet: do {
hc_682440[hc_682440_Idx] = hash_636827(key_682438);
if ((hc_682440[hc_682440_Idx] == 0)) {
hc_682440[hc_682440_Idx] = 314159265;
}

var h_682445 = (hc_682440[hc_682440_Idx] & (t_682436.data_682276 != null ? (t_682436.data_682276.length-1) : -1));
L1: do {
L2: while (true) {
if (!isfilled_639263(t_682436.data_682276[chckIndx(h_682445, 0, t_682436.data_682276.length)-0].Field0)) break L2;
if (!(t_682436.data_682276[chckIndx(h_682445, 0, t_682436.data_682276.length)-0].Field0 == hc_682440[hc_682440_Idx])) Tmp3 = false; else {Tmp3 = eqStrings(t_682436.data_682276[chckIndx(h_682445, 0, t_682436.data_682276.length)-0].Field1, key_682438); }if (Tmp3) {
result_682441 = h_682445;
break BeforeRet;
}

h_682445 = nexttry_639401(h_682445, (t_682436.data_682276 != null ? (t_682436.data_682276.length-1) : -1));
}
} while(false);
result_682441 = subInt(-1, h_682445);
} while (false); 
return result_682441;
}
function rawgetknownhc_682512(t_682517, key_682519, hc_682521) {
var result_682522 = 0;
BeforeRet: do {
var h_682523 = (hc_682521 & (t_682517.data_682276 != null ? (t_682517.data_682276.length-1) : -1));
L1: do {
L2: while (true) {
if (!isfilled_639263(t_682517.data_682276[chckIndx(h_682523, 0, t_682517.data_682276.length)-0].Field0)) break L2;
if (((t_682517.data_682276[chckIndx(h_682523, 0, t_682517.data_682276.length)-0].Field0 == hc_682521) && eqStrings(t_682517.data_682276[chckIndx(h_682523, 0, t_682517.data_682276.length)-0].Field1, key_682519))) {
result_682522 = h_682523;
break BeforeRet;
}

h_682523 = nexttry_639401(h_682523, (t_682517.data_682276 != null ? (t_682517.data_682276.length-1) : -1));
}
} while(false);
result_682522 = subInt(-1, h_682523);
} while (false); 
return result_682522;
}
function rawinsert_682528(t_682535, data_682539, data_682539_Idx, key_682541, val_682543, hc_682545, h_682547) {
data_682539[data_682539_Idx][chckIndx(h_682547, 0, data_682539[data_682539_Idx].length)-0].Field1 = key_682541;
data_682539[data_682539_Idx][chckIndx(h_682547, 0, data_682539[data_682539_Idx].length)-0].Field2 = val_682543;
data_682539[data_682539_Idx][chckIndx(h_682547, 0, data_682539[data_682539_Idx].length)-0].Field0 = hc_682545;
}
function enlarge_682459(t_682466) {
var n_682470 = null;
n_682470 = new Array(chckRange(mulInt((t_682466.data_682276 != null ? t_682466.data_682276.length : 0), 2), 0, 2147483647)); for (var i=0;i<chckRange(mulInt((t_682466.data_682276 != null ? t_682466.data_682276.length : 0), 2), 0, 2147483647);++i) {n_682470[i]={Field0: 0, Field1: null, Field2: null};}var Tmp1 = t_682466.data_682276; t_682466.data_682276 = n_682470; n_682470 = Tmp1;L2: do {
var i_682510 = 0;
var HEX3Atmp_682551 = 0;
HEX3Atmp_682551 = (n_682470 != null ? (n_682470.length-1) : -1);
var res_682554 = 0;
L3: do {
L4: while (true) {
if (!(res_682554 <= HEX3Atmp_682551)) break L4;
i_682510 = res_682554;
if (isfilled_639263(n_682470[chckIndx(i_682510, 0, n_682470.length)-0].Field0)) {
var j_682526 = subInt(-1, rawgetknownhc_682512(t_682466, n_682470[chckIndx(i_682510, 0, n_682470.length)-0].Field1, n_682470[chckIndx(i_682510, 0, n_682470.length)-0].Field0));
rawinsert_682528(t_682466, t_682466, "data_682276", n_682470[chckIndx(i_682510, 0, n_682470.length)-0].Field1, n_682470[chckIndx(i_682510, 0, n_682470.length)-0].Field2, n_682470[chckIndx(i_682510, 0, n_682470.length)-0].Field0, j_682526);
}

res_682554 = addInt(res_682554, 1);
}
} while(false);
} while(false);
}
function HEX5BHEX5DHEX3D_682417(t_682424, key_682426, val_682428) {
var hc_682429 = [0];
var index_682449 = rawget_682431(t_682424, key_682426, hc_682429, 0);
if ((0 <= index_682449)) {
t_682424.data_682276[chckIndx(index_682449, 0, t_682424.data_682276.length)-0].Field2 = val_682428;
}
else {
if (mustrehash_639268((t_682424.data_682276 != null ? t_682424.data_682276.length : 0), t_682424.counter_682279)) {
enlarge_682459(t_682424);
index_682449 = rawgetknownhc_682512(t_682424, key_682426, hc_682429[0]);
}

index_682449 = subInt(-1, index_682449);
rawinsert_682528(t_682424, t_682424, "data_682276", key_682426, val_682428, hc_682429[0], index_682449);
t_682424.counter_682279 = addInt(t_682424.counter_682279, 1);
}

}
function registerimageincache_682412(name_682414, i_682415) {
HEX5BHEX5DHEX3D_682417(imagecache_682411[0], name_682414, i_682415);
}
function HEX3Aanonymous_684615(name_684617, callback_684620) {
function handler_684801(r_684804) {
function HEX3Aanonymous_684805(im_684808) {
var w_684809 = 0.0;
var h_684810 = 0.0;
w_684809 = im.width; h_684810 = im.height;var image_684811 = imagewithsize_683819(newsize_20061(w_684809, h_684810));
image_684811.__image = im;registerimageincache_682412(name_684617, image_684811);
callback_684620();
}
var onimload_684814 = HEX3Aanonymous_684805;
            var im = new Image();
            im.onload = function(){onimload_684814(im);};
            im.src = window.URL.createObjectURL(r_684804);
            }
loadjsresourceasync_677204(name_684617, "blob", null, null, handler_684801);
}
registerresourcepreloader_680455([cstrToNimstr("png"), cstrToNimstr("jpg"), cstrToNimstr("jpeg"), cstrToNimstr("gif"), cstrToNimstr("tif"), cstrToNimstr("tiff"), cstrToNimstr("tga")], HEX3Aanonymous_684615);
var gcurrentcontext_690214 = [null];
function newcomposition_693003() {
var result_693008 = {program_691905: 0, definition_691906: null, fragshader_691907: null};
result_693008.definition_691906 = cstrToNimstr("\x0Auniform vec4 uFillColor;\x0Auniform vec4 uStrokeColor;\x0Auniform float uStrokeWidth;\x0Auniform float uRadius;\x0A\x0Avoid compose() {\x0A    drawShape(sdRoundedRect(bounds, uRadius), uStrokeColor);\x0A    drawShape(sdRoundedRect(insetRect(bounds, uStrokeWidth), uRadius - uStrokeWidth), uFillColor);\x0A}\x0A");
return result_693008;
}
var roundedrectcomposition_693010 = /**/[newcomposition_693003()];
function newcompositionwithfragshader_692010(s_692012) {
var result_692013 = {program_691905: 0, definition_691906: null, fragshader_691907: null};
result_692013.fragshader_691907 = s_692012;
return result_692013;
}
var rectcomposition_693148 = /**/[newcompositionwithfragshader_692010(cstrToNimstr("#ifdef GL_ES\x0A#extension GL_OES_standard_derivatives : enable\x0Aprecision mediump float;\x0A#endif\x0Auniform vec4 bounds;uniform vec4 uFillColor;uniform vec4 uStrokeColor;uniform float uStrokeWidth;varying vec2 vPos;float fillAlpha(float dist){float result;float d=fwidth(dist);result=1.0-smoothstep(-d,d,dist);return result;}void drawShape(inout vec4 res,float dist,vec4 color){res=mix(res,color,fillAlpha(dist));}float sdRect(vec2 p,vec4 rect){float result;vec2 b=(rect.zw/2.0);vec2 dp=(p-(rect.xy+b));vec2 d=(abs(dp)-b);result=min(max(d.x,d.y),0.0)+length(max(d,0.0));return result;}vec4 insetRect(vec4 r,float by){vec4 result;result=vec4((r.xy+by),(r.zw-by*2.0));return result;}void main(){vec4 result=vec4(0.0);drawShape(result,sdRect(vPos,bounds),uStrokeColor);drawShape(result,sdRect(vPos,insetRect(bounds,uStrokeWidth)),uFillColor);gl_FragColor=result;}"))];
var ellipsecomposition_693285 = /**/[newcompositionwithfragshader_692010(cstrToNimstr("#ifdef GL_ES\x0A#extension GL_OES_standard_derivatives : enable\x0Aprecision mediump float;\x0A#endif\x0Auniform vec4 bounds;uniform vec4 uFillColor;uniform vec4 uStrokeColor;uniform float uStrokeWidth;varying vec2 vPos;float fillAlpha(float dist){float result;float d=fwidth(dist);result=1.0-smoothstep(-d,d,dist);return result;}void drawShape(inout vec4 res,float dist,vec4 color){res=mix(res,color,fillAlpha(dist));}float sdEllipseInRect(vec2 pos,vec4 rect){float result;vec2 ab=(rect.zw/2.0);vec2 center=(rect.xy+ab);vec2 p=(pos-center);result=dot((p*p),(1.0/(ab*ab)))-1.0;result*=min(ab.x,ab.y);return result;}vec4 insetRect(vec4 r,float by){vec4 result;result=vec4((r.xy+by),(r.zw-by*2.0));return result;}void main(){vec4 result=vec4(0.0);drawShape(result,sdEllipseInRect(vPos,bounds),uStrokeColor);drawShape(result,sdEllipseInRect(vPos,insetRect(bounds,uStrokeWidth)),uFillColor);gl_FragColor=result;}"))];
function newcomposition_693460() {
var result_693465 = {program_691905: 0, definition_691906: null, fragshader_691907: null};
result_693465.definition_691906 = cstrToNimstr("\x0Auniform sampler2D uImage_tex;\x0Auniform vec4 uImage_texCoords;\x0Auniform vec4 uFromRect;\x0Auniform float uAlpha;\x0A\x0Avoid compose() {\x0A    vec2 destuv = (vPos - bounds.xy) / bounds.zw;\x0A    vec2 duv = uImage_texCoords.zw - uImage_texCoords.xy;\x0A    vec2 srcxy = uImage_texCoords.xy + duv * uFromRect.xy;\x0A    vec2 srczw = uImage_texCoords.xy + duv * uFromRect.zw;\x0A    vec2 uv = srcxy + (srczw - srcxy) * destuv;\x0A    gl_FragColor = texture2D(uImage_tex, uv);\x0A    gl_FragColor.a *= uAlpha;\x0A}\x0A");
return result_693465;
}
var imagecomposition_693467 = /**/[newcomposition_693460()];
function newcomposition_693676() {
var result_693681 = {program_691905: 0, definition_691906: null, fragshader_691907: null};
result_693681.definition_691906 = cstrToNimstr("\x0Auniform float uStrokeWidth;\x0Auniform vec4  uStrokeColor;\x0Auniform vec2  A;\x0Auniform vec2  B;\x0A\x0Afloat drawLine(vec2 p1, vec2 p2) {\x0A  vec2 va = B - A;\x0A  vec2 vb = vPos - A;\x0A  vec2 vc = vPos - B;\x0A\x0A  vec3 tri = vec3(distance(A, B), distance(vPos, A), distance(vPos, B));\x0A  float p = (tri.x + tri.y + tri.z) / 2.0;\x0A  float h = 2.0 * sqrt(p * (p - tri.x) * (p - tri.y) * (p - tri.z)) / tri.x;\x0A\x0A  vec2 angles = acos(vec2(dot(normalize(-va), normalize(vc)), dot(normalize(va), normalize(vb))));\x0A  vec2 anglem = 1.0 - step(PI / 2.0, angles);\x0A  float pixelValue = 1.0 - smoothstep(0.0, uStrokeWidth, h);\x0A\x0A  float res = anglem.x * anglem.y * pixelValue;\x0A  return res;\x0A}\x0A\x0Avoid compose() {\x0A  gl_FragColor = vec4(uStrokeColor.xyz, uStrokeColor.a * drawLine(A, B));\x0A}\x0A");
return result_693681;
}
var linecomposition_693683 = /**/[newcomposition_693676()];
var clippingdepth_693828 = /**/[0];
function gettime_699445() {
var result_699813 = {getDay: null, getFullYear: null, getHours: null, getMilliseconds: null, getMinutes: null, getMonth: null, getSeconds: null, getTime: null, getTimezoneOffset: null, getDate: null, getUTCDate: null, getUTCFullYear: null, getUTCHours: null, getUTCMilliseconds: null, getUTCMinutes: null, getUTCMonth: null, getUTCSeconds: null, getUTCDay: null, getYear: null, parse: null, setDate: null, setFullYear: null, setHours: null, setMilliseconds: null, setMinutes: null, setMonth: null, setSeconds: null, setTime: null, setUTCDate: null, setUTCFullYear: null, setUTCHours: null, setUTCMilliseconds: null, setUTCMinutes: null, setUTCMonth: null, setUTCSeconds: null, setYear: null, toGMTString: null, toLocaleString: null};
BeforeRet: do {
nimCopy(result_699813, new Date(), NTI699226);
break BeforeRet;
} while (false); 
return result_699813;
}
var startmilsecs_699852 = /**/[gettime_699445()];
function HEX2F_14010(x_14012, y_14013) {
var result_14014 = 0.0;
result_14014 = (x_14012 / y_14013);
return result_14014;
}
function toseconds_699464(time_699466) {
var result_699866 = 0.0;
result_699866 = HEX2F_14010(time_699466.getTime(), 1000);
return result_699866;
}
function epochtime_699871() {
var result_699873 = 0.0;
result_699873 = toseconds_699464(new Date());
return result_699873;
}
var lasttime_702044 = /**/[epochtime_699871()];
var lastframe_702045 = /**/[0.0];
var newwindow_702254 = [null];
var newfullscreenwindow_702259 = [null];
var mainapp_707077 = [null];
function setupwebgl_709007() {
        window.requestAnimFrame = (function() {
            return window.requestAnimationFrame ||
                window.webkitRequestAnimationFrame ||
                window.mozRequestAnimationFrame ||
                window.oRequestAnimationFrame ||
                window.msRequestAnimationFrame ||
                function(/* function FrameRequestCallback */ callback, /* DOMElement Element */ element) {
                window.setTimeout(callback, 1000/60);
        };
    })();
    }
setupwebgl_709007();
function newjscanvaswindow_709117(r_709119) {
var result_709120 = null;
result_709120 = {m_type: NTI709003, renderingcontext_709004: null, canvas_709005: null, firstresponder_696035: null, animations_696037: null, needsdisplay_696038: false, window_696022: null, frame_696023: {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}}, bounds_696024: {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}}, subviews_696026: null, superview_696027: null, autoresizingmask_696029: {}, backgroundcolor_696030: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, gesturedetectors_696032: null};
init_696078(result_709120, r_709119);
return result_709120;
}
function HEX3Aanonymous_709140(r_709143) {
var result_709144 = null;
result_709144 = newjscanvaswindow_709117(r_709143);
return result_709144;
}
newwindow_702254[0] = HEX3Aanonymous_709140;
function newrect_20067(o_20069, s_20070) {
var result_20071 = {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}};
nimCopy(result_20071.Field0, o_20069, NTI20006);
nimCopy(result_20071.Field1, s_20070, NTI20010);
return result_20071;
}
function newpoint_20055(x_20057, y_20058) {
var result_20059 = {Field0: 0.0, Field1: 0.0};
result_20059.Field0 = x_20057;
result_20059.Field1 = y_20058;
return result_20059;
}
function newrect_20072(x_20074, y_20075, w_20076, h_20077) {
var result_20078 = {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}};
nimCopy(result_20078, newrect_20067(newpoint_20055(x_20074, y_20075), newsize_20061(w_20076, h_20077)), NTI20014);
return result_20078;
}
function width_20031(r_20033) {
var result_20034 = 0.0;
result_20034 = r_20033.Field1.Field0;
return result_20034;
}
function height_20035(r_20037) {
var result_20038 = 0.0;
result_20038 = r_20037.Field1.Field1;
return result_20038;
}
function init_696040(v_696042, frame_696043) {
nimCopy(v_696042.frame_696023, frame_696043, NTI20014);
nimCopy(v_696042.bounds_696024, newrect_20072(0.0, 0.0, width_20031(frame_696043), height_20035(frame_696043)), NTI20014);
v_696042.subviews_696026 = [];
v_696042.gesturedetectors_696032 = [];
nimCopy(v_696042.autoresizingmask_696029, SetConstr(1, 3), NTI696076);
}
function init_702001(w_702003, frame_702004) {
init_696040(w_702003, frame_702004);
w_702003.window_696022 = w_702003;
w_702003.animations_696037 = [];
w_702003.needsdisplay_696038 = 1;
}
function newgl_652403(canvas_652406) {
var result_652407 = null;
            var options = {stencil: true, alpha: false, premultipliedAlpha: false};
            try {
                result_652407 = canvas_652406.getContext("webgl", options);
            }
            catch(err) {}
            if (result_652407 === null) {
                try {
                    result_652407 = canvas_652406.getContext("experimental-webgl", options);
                }
                catch(err) {}
            }

            if (result_652407 !== null) {
                var devicePixelRatio = 1; //window.devicePixelRatio || 1;
                result_652407.viewportWidth = canvas_652406.width * devicePixelRatio;
                result_652407.viewportHeight = canvas_652406.height * devicePixelRatio;
                result_652407.getExtension('OES_standard_derivatives');
                result_652407.pixelStorei(result_652407.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);
            } else {
                alert("Your browser does not support WebGL. Please, use a modern browser.");
            }
            globalgl_652401[0] = result_652407;
return result_652407;
}
function shadersource_653003(gl_653005, s_653006, src_653007) {
gl_653005.shaderSource(s_653006, src_653007);}
function isshadercompiled_653201(gl_653203, shader_653204) {
var result_653205 = false;
result_653205 = gl_653203.getShaderParameter(shader_653204, gl_653203.COMPILE_STATUS);return result_653205;
}
function shaderinfolog_652604(gl_652606, s_652607) {
var result_652608 = null;
var m_652801 = null;
            m_652801 = gl_652606.getShaderInfoLog(s_652607);
            result_652608 = cstrToNimstr(m_652801);
return result_652608;
}
function loadshader_690007(gl_690009, shadersrc_690010, kind_690011) {
var result_690012 = 0;
BeforeRet: do {
result_690012 = gl_690009.createShader(kind_690011);
if ((result_690012 == 0)) {
break BeforeRet;
}

shadersource_653003(gl_690009, result_690012, toJSStr(shadersrc_690010));
gl_690009.compileShader(result_690012);
var compiled_690022 = isshadercompiled_653201(gl_690009, result_690012);
var info_690023 = shaderinfolog_652604(gl_690009, result_690012);
if (!(compiled_690022)) {
logi_33004([cstrToNimstr("Shader compile error: "), info_690023]);
logi_33004([cstrToNimstr("The shader: "), shadersrc_690010]);
gl_690009.deleteShader(result_690012);
}
else {
if ((0 < (info_690023 != null ? info_690023.length-1 : 0))) {
logi_33004([cstrToNimstr("Shader compile log: "), info_690023]);
}
}
} while (false); 
return result_690012;
}
function isprogramlinked_653401(gl_653403, prog_653404) {
var result_653405 = false;
result_653405 = gl_653403.getProgramParameter(prog_653404, gl_653403.LINK_STATUS);return result_653405;
}
function programinfolog_652803(gl_652805, s_652806) {
var result_652807 = null;
var m_653001 = null;
m_653001 = gl_652805.getProgramInfoLog(s_652806);result_652807 = cstrToNimstr(m_653001);
return result_652807;
}
function newshaderprogram_690030(gl_690032, vs_690033, fs_690034, attributes_690039) {
var result_690040 = 0;
BeforeRet: do {
result_690040 = gl_690032.createProgram();
if ((result_690040 == 0)) {
logi_33004([cstrToNimstr("Could not create program: "), cstrToNimstr((chckRange(gl_690032.getError(), -2147483648, 2147483647))+"")]);
break BeforeRet;
}

var vshader_690052 = loadshader_690007(gl_690032, vs_690033, gl_690032.VERTEX_SHADER);
if ((vshader_690052 == 0)) {
gl_690032.deleteProgram(result_690040);
result_690040 = 0;
break BeforeRet;
}

gl_690032.attachShader(result_690040, vshader_690052);
var fshader_690062 = loadshader_690007(gl_690032, fs_690034, gl_690032.FRAGMENT_SHADER);
if ((fshader_690062 == 0)) {
gl_690032.deleteProgram(result_690040);
result_690040 = 0;
break BeforeRet;
}

gl_690032.attachShader(result_690040, fshader_690062);
L1: do {
var a_690097 = {Field0: 0, Field1: null};
var i_690107 = 0;
L2: do {
L3: while (true) {
if (!(i_690107 < (attributes_690039 != null ? attributes_690039.length : 0))) break L3;
a_690097 = attributes_690039[chckIndx(i_690107, 0, attributes_690039.length)-0];
gl_690032.bindAttribLocation(result_690040, a_690097.Field0, toJSStr(a_690097.Field1));
i_690107 = addInt(i_690107, 1);
}
} while(false);
} while(false);
gl_690032.linkProgram(result_690040);
gl_690032.deleteShader(vshader_690052);
gl_690032.deleteShader(fshader_690062);
var linked_690098 = isprogramlinked_653401(gl_690032, result_690040);
var info_690099 = programinfolog_652803(gl_690032, result_690040);
if (!(linked_690098)) {
logi_33004([cstrToNimstr("Could not link: "), info_690099]);
result_690040 = 0;
}
else {
if ((0 < (info_690099 != null ? info_690099.length-1 : 0))) {
logi_33004([cstrToNimstr("Program linked: "), info_690099]);
}
}
} while (false); 
return result_690040;
}
function newshaderprogram_690108(gl_690110, vs_690111, fs_690112) {
var result_690113 = 0;
result_690113 = newshaderprogram_690030(gl_690110, vs_690111, fs_690112, [{Field0: 0, Field1: cstrToNimstr("position")}]);
return result_690113;
}
function newgraphicscontext_690419(canvas_690422) {
var result_690423 = null;
result_690423 = {m_type: NTI690203, gl_690204: null, ptransform_690205: null, fillcolor_690206: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, strokecolor_690207: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, strokewidth_690208: 0.0, fontshaderprogram_690209: 0, testpolyshaderprogram_690210: 0, debugclipcolor_690211: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, alpha_690212: 0.0};
result_690423.gl_690204 = newgl_652403(canvas_690422);
result_690423.fontshaderprogram_690209 = newshaderprogram_690108(result_690423.gl_690204, cstrToNimstr("attribute vec4 position;\x0A\x0Auniform mat4 modelViewProjectionMatrix;\x0A\x0Avarying vec2 vTexCoord;\x0A\x0Avoid main() {\x0A    vTexCoord = position.zw;\x0A    gl_Position = modelViewProjectionMatrix * vec4(position.xy, 0, 1);\x0A}\x0A"), cstrToNimstr("#ifdef GL_ES\x0A#extension GL_OES_standard_derivatives : enable\x0Aprecision mediump float;\x0A#endif\x0A\x0Auniform sampler2D texUnit;\x0Auniform vec4 fillColor;\x0Auniform float uGamma;\x0Auniform float uBase;\x0A\x0Avarying vec2 vTexCoord;\x0A\x0Avoid main() {\x0A\x09float dist = texture2D(texUnit, vTexCoord).a;\x0A\x09float alpha = smoothstep(uBase - uGamma, uBase + uGamma, dist);\x0A\x09gl_FragColor = vec4(fillColor.rgb, alpha * fillColor.a);\x0A}\x0A"));
result_690423.gl_690204.clearColor(9.3000000000000005e-01, 9.3000000000000005e-01, 9.3000000000000005e-01, 0.0);
result_690423.alpha_690212 = 1.0000000000000000e+00;
return result_690423;
}
function newevent_704036(kind_704038, position_704039, keycode_704041, buttonstate_704042, pointerid_704043, timestamp_704044) {
var result_704045 = {timestamp_704024: 0, kind_704025: 0, pointerid_704026: 0, position_704027: {Field0: 0.0, Field1: 0.0}, localposition_704028: {Field0: 0.0, Field1: 0.0}, offset_704029: {Field0: 0.0, Field1: 0.0}, keycode_704030: 0, buttonstate_704031: 0, rune_704032: 0, repeat_704033: false, window_704034: null, text_704035: null};
result_704045.kind_704025 = kind_704038;
nimCopy(result_704045.position_704027, position_704039, NTI20006);
nimCopy(result_704045.localposition_704028, position_704039, NTI20006);
result_704045.keycode_704030 = keycode_704041;
result_704045.buttonstate_704031 = buttonstate_704042;
result_704045.pointerid_704026 = pointerid_704043;
result_704045.timestamp_704024 = timestamp_704044;
return result_704045;
}
function newmousebuttonevent_704060(position_704062, button_704063, state_704064, tstamp_704065) {
var result_704066 = {timestamp_704024: 0, kind_704025: 0, pointerid_704026: 0, position_704027: {Field0: 0.0, Field1: 0.0}, localposition_704028: {Field0: 0.0, Field1: 0.0}, offset_704029: {Field0: 0.0, Field1: 0.0}, keycode_704030: 0, buttonstate_704031: 0, rune_704032: 0, repeat_704033: false, window_704034: null, text_704035: null};
nimCopy(result_704066, newevent_704036(1, position_704062, button_704063, state_704064, 0, tstamp_704065), NTI704023);
return result_704066;
}
function newmousedownevent_704081(position_704083, button_704084) {
var result_704085 = {timestamp_704024: 0, kind_704025: 0, pointerid_704026: 0, position_704027: {Field0: 0.0, Field1: 0.0}, localposition_704028: {Field0: 0.0, Field1: 0.0}, offset_704029: {Field0: 0.0, Field1: 0.0}, keycode_704030: 0, buttonstate_704031: 0, rune_704032: 0, repeat_704033: false, window_704034: null, text_704035: null};
nimCopy(result_704085, newmousebuttonevent_704060(position_704083, button_704084, 2, 0), NTI704023);
return result_704085;
}
function eventlocationfromjsevent_709018(e_709021, c_709022) {
var result_709023 = {Field0: 0.0, Field1: 0.0};
var offx_709024 = 0.0;
var offy_709025 = 0.0;
    var r = c_709022.getBoundingClientRect();
    offx_709024 = r.left;
    offy_709025 = r.top;
    result_709023.Field0 = (e_709021.clientX - offx_709024);
result_709023.Field1 = (e_709021.clientY - offy_709025);
return result_709023;
}
function buttoncodefromjsevent_709009(e_709012) {
var Tmp1;
var result_709013 = 0;
switch (e_709012.button) {
case 1: Tmp1 = 1;

break;
case 2: Tmp1 = 2;

break;
case 3: Tmp1 = 3;

break;
default: 
Tmp1 = 0;
break;
}
result_709013 = Tmp1;
return result_709013;
}
function HEX2EHEX2E_31611(a_31615, b_31617) {
var result_31619 = {a_14056: 0, b_14058: 0};
result_31619.a_14056 = a_31615;
result_31619.b_14058 = b_31617;
return result_31619;
}
function handleevent_707104(a_707106, e_707108) {
var result_707109 = false;
var control_707110 = /**/[0];
var cleanupeventfilters_707111 = 0;
L1: do {
var i_707145 = 0;
var HEX3Atmp_707422 = {a_14056: 0, b_14058: 0};
HEX3Atmp_707422 = HEX2EHEX2E_31611(0, subInt((a_707106.eventfilters_707018 != null ? a_707106.eventfilters_707018.length : 0), 1));
L2: do {
var x_707426 = 0;
var HEX3Atmp_707428 = 0;
var HEX3Atmp_707430 = 0;
HEX3Atmp_707428 = HEX3Atmp_707422.a_14056;
HEX3Atmp_707430 = HEX3Atmp_707422.b_14058;
var res_707432 = HEX3Atmp_707428;
L3: do {
L4: while (true) {
if (!(res_707432 <= HEX3Atmp_707430)) break L4;
x_707426 = res_707432;
i_707145 = x_707426;
result_707109 = a_707106.eventfilters_707018[chckIndx(i_707145, 0, a_707106.eventfilters_707018.length)-0](e_707108, control_707110, 0);
if ((control_707110[0] == 1)) {
a_707106.eventfilters_707018[chckIndx(i_707145, 0, a_707106.eventfilters_707018.length)-0] = null;
cleanupeventfilters_707111 = 1;
control_707110[0] = 0;
}

if (result_707109) {
break L1;
}

res_707432 = addInt(res_707432, 1);
}
} while(false);
} while(false);
} while(false);
if (cleanupeventfilters_707111) {
var pos_707158 = 0;
L5: do {
var i_707160 = 0;
var HEX3Atmp_707437 = 0;
HEX3Atmp_707437 = subInt((a_707106.eventfilters_707018 != null ? a_707106.eventfilters_707018.length : 0), 1);
var res_707440 = 0;
L6: do {
L7: while (true) {
if (!(res_707440 <= HEX3Atmp_707437)) break L7;
i_707160 = res_707440;
var it_707186 = a_707106.eventfilters_707018[chckIndx(i_707160, 0, a_707106.eventfilters_707018.length)-0];
if (!(it_707186 == null)) {
if (!((pos_707158 == i_707160))) {
a_707106.eventfilters_707018[chckIndx(pos_707158, 0, a_707106.eventfilters_707018.length)-0] = a_707106.eventfilters_707018[chckIndx(i_707160, 0, a_707106.eventfilters_707018.length)-0];
}

pos_707158 = addInt(pos_707158, 1);
}

res_707440 = addInt(res_707440, 1);
}
} while(false);
} while(false);
a_707106.eventfilters_707018.length = chckRange(pos_707158, 0, 2147483647);
}

if (!(result_707109)) {
if (!(e_707108.window_704034 == null)) {
result_707109 = handleevent_706062(e_707108.window_704034, e_707108);
}
else {
if ((e_707108.kind_704025 == 8)) {
L8: do {
var w_707402 = null;
var HEX3Atmp_707445 = null;
HEX3Atmp_707445 = a_707106.windows_707016;
var i_707448 = 0;
var L_707450 = (HEX3Atmp_707445 != null ? HEX3Atmp_707445.length : 0);
L9: do {
L10: while (true) {
if (!(i_707448 < L_707450)) break L10;
w_707402 = HEX3Atmp_707445[chckIndx(i_707448, 0, HEX3Atmp_707445.length)-0];
enableanimation_702067(w_707402, 0);
i_707448 = addInt(i_707448, 1);
if (!(((HEX3Atmp_707445 != null ? HEX3Atmp_707445.length : 0) == L_707450))) {
failedassertimpl_14716(cstrToNimstr("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
}
else {
if ((e_707108.kind_704025 == 9)) {
L11: do {
var w_707420 = null;
var HEX3Atmp_707452 = null;
HEX3Atmp_707452 = a_707106.windows_707016;
var i_707455 = 0;
var L_707457 = (HEX3Atmp_707452 != null ? HEX3Atmp_707452.length : 0);
L12: do {
L13: while (true) {
if (!(i_707455 < L_707457)) break L13;
w_707420 = HEX3Atmp_707452[chckIndx(i_707455, 0, HEX3Atmp_707452.length)-0];
enableanimation_702067(w_707420, 1);
i_707455 = addInt(i_707455, 1);
if (!(((HEX3Atmp_707452 != null ? HEX3Atmp_707452.length : 0) == L_707457))) {
failedassertimpl_14716(cstrToNimstr("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
}
}}
}

return result_707109;
}
function newapplication_707034() {
var result_707036 = null;
result_707036 = {m_type: NTI707014, windows_707016: null, eventfilters_707018: null};
result_707036.windows_707016 = [];
result_707036.eventfilters_707018 = [];
return result_707036;
}
function mainapplication_707079() {
var result_707081 = null;
if (mainapp_707077[0] == null) {
mainapp_707077[0] = newapplication_707034();
}

result_707081 = mainapp_707077[0];
return result_707081;
}
function newmouseupevent_704086(position_704088, button_704089) {
var result_704090 = {timestamp_704024: 0, kind_704025: 0, pointerid_704026: 0, position_704027: {Field0: 0.0, Field1: 0.0}, localposition_704028: {Field0: 0.0, Field1: 0.0}, offset_704029: {Field0: 0.0, Field1: 0.0}, keycode_704030: 0, buttonstate_704031: 0, rune_704032: 0, repeat_704033: false, window_704034: null, text_704035: null};
nimCopy(result_704090, newmousebuttonevent_704060(position_704088, button_704089, 1, 0), NTI704023);
return result_704090;
}
function newmousemoveevent_704055(position_704057) {
var result_704058 = {timestamp_704024: 0, kind_704025: 0, pointerid_704026: 0, position_704027: {Field0: 0.0, Field1: 0.0}, localposition_704028: {Field0: 0.0, Field1: 0.0}, offset_704029: {Field0: 0.0, Field1: 0.0}, keycode_704030: 0, buttonstate_704031: 0, rune_704032: 0, repeat_704033: false, window_704034: null, text_704035: null};
nimCopy(result_704058, newevent_704036(1, position_704057, 0, 0, 0, 0), NTI704023);
return result_704058;
}
function setupeventhandlersforcanvas_709030(w_709032, c_709033) {
function HEX3Aanonymous_709034(e_709037) {
var evt_709038 = /**/[newmousedownevent_704081(eventlocationfromjsevent_709018(e_709037, c_709033), buttoncodefromjsevent_709009(e_709037))];
evt_709038[0].window_704034 = w_709032;
handleevent_707104(mainapplication_707079(), evt_709038[0]);
}
function HEX3Aanonymous_709041(e_709044) {
var evt_709045 = /**/[newmouseupevent_704086(eventlocationfromjsevent_709018(e_709044, c_709033), buttoncodefromjsevent_709009(e_709044))];
evt_709045[0].window_704034 = w_709032;
handleevent_707104(mainapplication_707079(), evt_709045[0]);
}
function HEX3Aanonymous_709048(e_709051) {
var evt_709052 = /**/[newmousemoveevent_704055(eventlocationfromjsevent_709018(e_709051, c_709033))];
evt_709052[0].window_704034 = w_709032;
handleevent_707104(mainapplication_707079(), evt_709052[0]);
}
function HEX3Aanonymous_709055(e_709058) {
var result_709059 = false;
var evt_709060 = /**/[newevent_704036(3, eventlocationfromjsevent_709018(e_709058, c_709033), 0, 0, 0, 0)];
var x_709061 = 0.0;
var y_709062 = 0.0;
        x_709061 = e_709058.deltaX;
        y_709062 = e_709058.deltaY;
        evt_709060[0].offset_704029.Field0 = x_709061;
evt_709060[0].offset_704029.Field1 = y_709062;
evt_709060[0].window_704034 = w_709032;
result_709059 = !(handleevent_707104(mainapplication_707079(), evt_709060[0]));
return result_709059;
}
function HEX3Aanonymous_709067(e_709070) {
var result_709071 = false;
var sizechanged_709072 = 0;
var newwidth_709073 = 0.0;
var newheight_709074 = 0.0;
        var r = c_709033.getBoundingClientRect();
        if (r.width !== c_709033.width)
        {
            newwidth_709073 = r.width;
            c_709033.width = r.width;
            sizechanged_709072 = true;
        }
        if (r.height !== c_709033.height)
        {
            newheight_709074 = r.height
            c_709033.height = r.height;
            sizechanged_709072 = true;
        }
        if (sizechanged_709072) {
var evt_709075 = /**/[newevent_704036(5, {Field0: 0.0, Field1: 0.0}, 0, 0, 0, 0)];
evt_709075[0].window_704034 = w_709032;
evt_709075[0].position_704027.Field0 = newwidth_709073;
evt_709075[0].position_704027.Field1 = newheight_709074;
handleevent_707104(mainapplication_707079(), evt_709075[0]);
}

return result_709071;
}
var onmousedown_709040 = HEX3Aanonymous_709034;
var onmouseup_709047 = HEX3Aanonymous_709041;
var onmousemove_709054 = HEX3Aanonymous_709048;
var onscroll_709066 = HEX3Aanonymous_709055;
var onresize_709079 = HEX3Aanonymous_709067;
    c_709033.onmousedown = onmousedown_709040;
    c_709033.onmouseup = onmouseup_709047;
    c_709033.onmousemove = onmousemove_709054;
    c_709033.onwheel = onscroll_709066;
    window.onresize = onresize_709079;
    }
function addwindow_707090(a_707092, w_707093) {
if (a_707092.windows_707016 != null) { a_707092.windows_707016.push(w_707093); } else { a_707092.windows_707016 = [w_707093]; };
}
function processremaininghandlersinloop_40702(handlers_40705, it_40707, it_40707_Idx, stopped_40708) {
var Tmp3;
L1: do {
L2: while (true) {
if (!(it_40707[it_40707_Idx] < (handlers_40705 != null ? handlers_40705.length : 0))) break L2;
if (!(stopped_40708)) Tmp3 = true; else {Tmp3 = handlers_40705[chckIndx(it_40707[it_40707_Idx], 0, handlers_40705.length)-0].callifcancelled_40021; }if (Tmp3) {
handlers_40705[chckIndx(it_40707[it_40707_Idx], 0, handlers_40705.length)-0].handler_40019();
}

it_40707[it_40707_Idx] = addInt(it_40707[it_40707_Idx], 1);
}
} while(false);
it_40707[it_40707_Idx] = 0;
}
function HEX2AHEX3D_40762(x_40767, x_40767_Idx, y_40769) {
x_40767[x_40767_Idx] = (x_40767[x_40767_Idx] * y_40769);
}
function processhandlers_40678(handlers_40681, it_40683, it_40683_Idx, progress_40684) {
L1: do {
L2: while (true) {
if (!(it_40683[it_40683_Idx] < (handlers_40681 != null ? handlers_40681.length : 0))) break L2;
if ((handlers_40681[chckIndx(it_40683[it_40683_Idx], 0, handlers_40681.length)-0].progress_40020 <= progress_40684)) {
handlers_40681[chckIndx(it_40683[it_40683_Idx], 0, handlers_40681.length)-0].handler_40019();
it_40683[it_40683_Idx] = addInt(it_40683[it_40683_Idx], 1);
}
else {
break L1;
}

}
} while(false);
}
function tick_40726(a_40728, curtime_40729) {
var Tmp1;
var Tmp2;
var Tmp3;
var Tmp4;
var Tmp5;
var duration_40730 = (curtime_40729 - a_40728.starttime_40025);
var currentloop_40731 = ((duration_40730 / a_40728.loopduration_40026)|0);
var loopprogress_40732 = (mod_19617(duration_40730, a_40728.loopduration_40026) / a_40728.loopduration_40026);
if ((a_40728.curloop_40033 < currentloop_40731)) {
if (!(a_40728.loopprogresshandlers_40036 == null)) {
processremaininghandlersinloop_40702(a_40728.loopprogresshandlers_40036, a_40728, "lphit_40039", 0);
}

}

if ((0 < a_40728.numberofloops_40028)) {
Tmp1 = (duration_40730 / (a_40728.numberofloops_40028 * a_40728.loopduration_40026));
}
else {
Tmp1 = 0.0;
}

var totalprogress_40742 = Tmp1;
if ((0 <= a_40728.cancelloop_40032)) {
if (!(a_40728.continueuntilendoflooponcancel_40034)) {
a_40728.finished_40031 = 1;
}
else {
if ((a_40728.cancelloop_40032 < currentloop_40731)) {
a_40728.finished_40031 = 1;
loopprogress_40732 = 1.0000000000000000e+00;
}
}
}

if (!(0 <= a_40728.numberofloops_40028)) Tmp2 = false; else {Tmp2 = (a_40728.numberofloops_40028 <= currentloop_40731); }if (Tmp2) {
a_40728.finished_40031 = 1;
loopprogress_40732 = 1.0000000000000000e+00;
totalprogress_40742 = 1.0000000000000000e+00;
}

var oldloop_40743 = a_40728.curloop_40033;
a_40728.curloop_40033 = currentloop_40731;
if (!(a_40728.onanimate_40030 == null)) {
var curvedprogress_40751 = /**/[loopprogress_40732];
if ((a_40728.looppattern_40027 == 0)) {
HEX2AHEX3D_40762(curvedprogress_40751, 0, 2.0000000000000000e+00);
if ((1.0000000000000000e+00 <= curvedprogress_40751[0])) {
curvedprogress_40751[0] = (2.0000000000000000e+00 - curvedprogress_40751[0]);
}

}
else {
if ((a_40728.looppattern_40027 == 2)) {
curvedprogress_40751[0] = (1.0000000000000000e+00 - curvedprogress_40751[0]);
}
}
if (!(a_40728.timingfunction_40029 == null)) {
curvedprogress_40751[0] = a_40728.timingfunction_40029(curvedprogress_40751[0]);
}

a_40728.onanimate_40030(curvedprogress_40751[0]);
}

if (!(a_40728.finished_40031)) {
if (!(a_40728.loopprogresshandlers_40036 == null)) {
processhandlers_40678(a_40728.loopprogresshandlers_40036, a_40728, "lphit_40039", loopprogress_40732);
}

}

if (!(a_40728.totalprogresshandlers_40038 == null)) {
processhandlers_40678(a_40728.totalprogresshandlers_40038, a_40728, "tphit_40040", totalprogress_40742);
}

if (a_40728.finished_40031) {
if (!(currentloop_40731 == oldloop_40743)) Tmp4 = false; else {Tmp4 = !(a_40728.loopprogresshandlers_40036 == null); }if (!Tmp4) Tmp3 = false; else {Tmp3 = (a_40728.lphit_40039 < (a_40728.loopprogresshandlers_40036 != null ? a_40728.loopprogresshandlers_40036.length : 0)); }if (Tmp3) {
processremaininghandlersinloop_40702(a_40728.loopprogresshandlers_40036, a_40728, "lphit_40039", 1);
}

if (!!(a_40728.totalprogresshandlers_40038 == null)) Tmp5 = false; else {Tmp5 = (a_40728.tphit_40040 < (a_40728.totalprogresshandlers_40038 != null ? a_40728.totalprogresshandlers_40038.length : 0)); }if (Tmp5) {
processremaininghandlersinloop_40702(a_40728.totalprogresshandlers_40038, a_40728, "tphit_40040", 1);
}

}

}
function del_702150(x_702156, x_702156_Idx, i_702158) {
var xl_702167 = subInt((x_702156[x_702156_Idx] != null ? x_702156[x_702156_Idx].length : 0), 1);
x_702156[x_702156_Idx][chckIndx(i_702158, 0, x_702156[x_702156_Idx].length)-0] = x_702156[x_702156_Idx][chckIndx(xl_702167, 0, x_702156[x_702156_Idx].length)-0];
x_702156[x_702156_Idx].length = chckRange(xl_702167, 0, 2147483647);
}
function runanimations_702082(w_702084) {
var Tmp1;
var Tmp8;
var t_702085 = epochtime_699871();
var i_702086 = 0;
if (w_702084.needsdisplay_696038) Tmp1 = true; else {Tmp1 = (0 < (w_702084.animations_696037 != null ? w_702084.animations_696037.length : 0)); }w_702084.needsdisplay_696038 = Tmp1;
var count_702103 = (w_702084.animations_696037 != null ? w_702084.animations_696037.length : 0);
var finishedanimations_702104 = 0;
L2: do {
var i_702130 = 0;
var HEX3Atmp_702206 = {a_14056: 0, b_14058: 0};
HEX3Atmp_702206 = HEX2EHEX2E_31611(0, subInt(count_702103, 1));
L3: do {
var x_702210 = 0;
var HEX3Atmp_702212 = 0;
var HEX3Atmp_702214 = 0;
HEX3Atmp_702212 = HEX3Atmp_702206.a_14056;
HEX3Atmp_702214 = HEX3Atmp_702206.b_14058;
var res_702216 = HEX3Atmp_702212;
L4: do {
L5: while (true) {
if (!(res_702216 <= HEX3Atmp_702214)) break L5;
x_702210 = res_702216;
i_702130 = x_702210;
tick_40726(w_702084.animations_696037[chckIndx(i_702130, 0, w_702084.animations_696037.length)-0], t_702085);
if (w_702084.animations_696037[chckIndx(i_702130, 0, w_702084.animations_696037.length)-0].finished_40031) {
finishedanimations_702104 = addInt(finishedanimations_702104, 1);
}

res_702216 = addInt(res_702216, 1);
}
} while(false);
} while(false);
} while(false);
if ((0 < finishedanimations_702104)) {
var i_702140 = 0;
L6: do {
L7: while (true) {
if (!(0 < finishedanimations_702104)) Tmp8 = false; else {Tmp8 = (i_702140 < (w_702084.animations_696037 != null ? w_702084.animations_696037.length : 0)); }if (!Tmp8) break L7;
if (w_702084.animations_696037[chckIndx(i_702140, 0, w_702084.animations_696037.length)-0].finished_40031) {
del_702150(w_702084, "animations_696037", chckRange(i_702140, 0, 2147483647));
finishedanimations_702104 = subInt(finishedanimations_702104, 1);
}
else {
i_702140 = addInt(i_702140, 1);
}

}
} while(false);
if (((w_702084.animations_696037 != null ? w_702084.animations_696037.length : 0) == 0)) {
enableanimation_702067(w_702084, 0);
}

}

}
function runanimations_707477(a_707479) {
L1: do {
var w_707488 = null;
var HEX3Atmp_707490 = null;
HEX3Atmp_707490 = a_707479.windows_707016;
var i_707493 = 0;
var L_707495 = (HEX3Atmp_707490 != null ? HEX3Atmp_707490.length : 0);
L2: do {
L3: while (true) {
if (!(i_707493 < L_707495)) break L3;
w_707488 = HEX3Atmp_707490[chckIndx(i_707493, 0, HEX3Atmp_707490.length)-0];
runanimations_702082(w_707488);
i_707493 = addInt(i_707493, 1);
if (!(((HEX3Atmp_707490 != null ? HEX3Atmp_707490.length : 0) == L_707495))) {
failedassertimpl_14716(cstrToNimstr("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
}
function drawwindows_707458(a_707460) {
L1: do {
var w_707469 = null;
var HEX3Atmp_707471 = null;
HEX3Atmp_707471 = a_707460.windows_707016;
var i_707474 = 0;
var L_707476 = (HEX3Atmp_707471 != null ? HEX3Atmp_707471.length : 0);
L2: do {
L3: while (true) {
if (!(i_707474 < L_707476)) break L3;
w_707469 = HEX3Atmp_707471[chckIndx(i_707474, 0, HEX3Atmp_707471.length)-0];
if (w_707469.needsdisplay_696038) {
drawwindow_702060(w_707469);
}

i_707474 = addInt(i_707474, 1);
if (!(((HEX3Atmp_707471 != null ? HEX3Atmp_707471.length : 0) == L_707476))) {
failedassertimpl_14716(cstrToNimstr("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
}
function animframe_709087() {
runanimations_707477(mainapplication_707079());
drawwindows_707458(mainapplication_707079());
window.requestAnimFrame(animframe_709087);
}
function initwithcanvas_709089(w_709091, canvas_709092) {
var width_709093 = 0.0;
var height_709094 = 0.0;
    width_709093 = canvas_709092.width;
    height_709094 = canvas_709092.height;
    var pixelRatio = 'devicePixelRatio' in window ? window.devicePixelRatio : 1;
    if (pixelRatio > 1 && !canvas_709092.scaled) {
        canvas_709092.style.width = canvas_709092.width + 'px';
        canvas_709092.width = canvas_709092.width * pixelRatio;
        canvas_709092.style.height = canvas_709092.height + 'px';
        canvas_709092.height = canvas_709092.height * pixelRatio;
        canvas_709092.scaled = true;
    }
    w_709091.canvas_709005 = canvas_709092;
init_702001(w_709091, newrect_20072(0.0, 0.0, width_709093, height_709094));
w_709091.renderingcontext_709004 = newgraphicscontext_690419(canvas_709092);
setupeventhandlersforcanvas_709030(w_709091, canvas_709092);
enableanimation_702067(w_709091, 1);
addwindow_707090(mainapplication_707079(), w_709091);
window.requestAnimFrame(animframe_709087);
}
function initbyfillingbrowserwindow_709101(w_709103) {
var canvas_709104 = document.createElement("canvas");
canvas_709104.style.width = "100%";
canvas_709104.style.height = "100%";
document.body.appendChild(canvas_709104);
    var r = canvas_709104.getBoundingClientRect();
    canvas_709104.width = r.width;
    canvas_709104.height = r.height;
    initwithcanvas_709089(w_709103, canvas_709104);
}
function newjswindowbyfillingbrowserwindow_709129() {
var result_709131 = null;
result_709131 = {m_type: NTI709003, renderingcontext_709004: null, canvas_709005: null, firstresponder_696035: null, animations_696037: null, needsdisplay_696038: false, window_696022: null, frame_696023: {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}}, bounds_696024: {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}}, subviews_696026: null, superview_696027: null, autoresizingmask_696029: {}, backgroundcolor_696030: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, gesturedetectors_696032: null};
initbyfillingbrowserwindow_709101(result_709131);
return result_709131;
}
function HEX3Aanonymous_709145() {
var result_709147 = null;
result_709147 = newjswindowbyfillingbrowserwindow_709129();
return result_709147;
}
newfullscreenwindow_702259[0] = HEX3Aanonymous_709145;
function inittable_717016(initialsize_717021) {
var result_717042 = {data_717038: null, counter_717041: 0};
if (!(ispoweroftwo_18625(initialsize_717021))) {
failedassertimpl_14716(cstrToNimstr("isPowerOfTwo(initialSize) "));
}

result_717042.counter_717041 = 0;
result_717042.data_717038 = new Array(chckRange(initialsize_717021, 0, 2147483647)); for (var i=0;i<chckRange(initialsize_717021, 0, 2147483647);++i) {result_717042.data_717038[i]={Field0: 0, Field1: null, Field2: null};}return result_717042;
}
var componentregistry_717211 = /**/[inittable_717016(64)];
function rawgetknownhc_728286(t_728291, key_728293, hc_728295) {
var result_728296 = 0;
BeforeRet: do {
var h_728297 = (hc_728295 & (t_728291.data_717038 != null ? (t_728291.data_717038.length-1) : -1));
L1: do {
L2: while (true) {
if (!isfilled_639263(t_728291.data_717038[chckIndx(h_728297, 0, t_728291.data_717038.length)-0].Field0)) break L2;
if (((t_728291.data_717038[chckIndx(h_728297, 0, t_728291.data_717038.length)-0].Field0 == hc_728295) && eqStrings(t_728291.data_717038[chckIndx(h_728297, 0, t_728291.data_717038.length)-0].Field1, key_728293))) {
result_728296 = h_728297;
break BeforeRet;
}

h_728297 = nexttry_639401(h_728297, (t_728291.data_717038 != null ? (t_728291.data_717038.length-1) : -1));
}
} while(false);
result_728296 = subInt(-1, h_728297);
} while (false); 
return result_728296;
}
function rawinsert_728302(t_728309, data_728313, data_728313_Idx, key_728315, val_728317, hc_728319, h_728321) {
data_728313[data_728313_Idx][chckIndx(h_728321, 0, data_728313[data_728313_Idx].length)-0].Field1 = key_728315;
data_728313[data_728313_Idx][chckIndx(h_728321, 0, data_728313[data_728313_Idx].length)-0].Field2 = val_728317;
data_728313[data_728313_Idx][chckIndx(h_728321, 0, data_728313[data_728313_Idx].length)-0].Field0 = hc_728319;
}
function enlarge_728233(t_728240) {
var n_728244 = null;
n_728244 = new Array(chckRange(mulInt((t_728240.data_717038 != null ? t_728240.data_717038.length : 0), 2), 0, 2147483647)); for (var i=0;i<chckRange(mulInt((t_728240.data_717038 != null ? t_728240.data_717038.length : 0), 2), 0, 2147483647);++i) {n_728244[i]={Field0: 0, Field1: null, Field2: null};}var Tmp1 = t_728240.data_717038; t_728240.data_717038 = n_728244; n_728244 = Tmp1;L2: do {
var i_728284 = 0;
var HEX3Atmp_728325 = 0;
HEX3Atmp_728325 = (n_728244 != null ? (n_728244.length-1) : -1);
var res_728328 = 0;
L3: do {
L4: while (true) {
if (!(res_728328 <= HEX3Atmp_728325)) break L4;
i_728284 = res_728328;
if (isfilled_639263(n_728244[chckIndx(i_728284, 0, n_728244.length)-0].Field0)) {
var j_728300 = subInt(-1, rawgetknownhc_728286(t_728240, n_728244[chckIndx(i_728284, 0, n_728244.length)-0].Field1, n_728244[chckIndx(i_728284, 0, n_728244.length)-0].Field0));
rawinsert_728302(t_728240, t_728240, "data_717038", n_728244[chckIndx(i_728284, 0, n_728244.length)-0].Field1, n_728244[chckIndx(i_728284, 0, n_728244.length)-0].Field2, n_728244[chckIndx(i_728284, 0, n_728244.length)-0].Field0, j_728300);
}

res_728328 = addInt(res_728328, 1);
}
} while(false);
} while(false);
}
function rawgetdeep_728335(t_728340, key_728342, hc_728344, hc_728344_Idx) {
var result_728345 = 0;
hc_728344[hc_728344_Idx] = hash_636827(key_728342);
if ((hc_728344[hc_728344_Idx] == 0)) {
hc_728344[hc_728344_Idx] = 314159265;
}

var h_728349 = (hc_728344[hc_728344_Idx] & (t_728340.data_717038 != null ? (t_728340.data_717038.length-1) : -1));
L1: do {
L2: while (true) {
if (!isfilled_639263(t_728340.data_717038[chckIndx(h_728349, 0, t_728340.data_717038.length)-0].Field0)) break L2;
h_728349 = nexttry_639401(h_728349, (t_728340.data_717038 != null ? (t_728340.data_717038.length-1) : -1));
}
} while(false);
result_728345 = h_728349;
return result_728345;
}
function add_728212(t_728219, key_728221, val_728223) {
if (mustrehash_639268((t_728219.data_717038 != null ? t_728219.data_717038.length : 0), t_728219.counter_717041)) {
enlarge_728233(t_728219);
}

var hc_728333 = [0];
var j_728353 = rawgetdeep_728335(t_728219, key_728221, hc_728333, 0);
rawinsert_728302(t_728219, t_728219, "data_717038", key_728221, val_728223, hc_728333[0], j_728353);
t_728219.counter_717041 = addInt(t_728219.counter_717041, 1);
}
function new_728143() {
var result_728148 = null;
BeforeRet: do {
var r_728201 = null;
r_728201 = {m_type: NTI713133, projectionmode_713134: 0, znear_713135: 0.0, zfar_713136: 0.0, mmanualgetprojectionmatrix_713142: null, node_713088: null};
result_728148 = r_728201;
break BeforeRet;
} while (false); 
return result_728148;
}
function registercomponent_728126() {
function HEX3Aanonymous_728138() {
var result_728140 = null;
result_728140 = new_728143();
return result_728140;
}
add_728212(componentregistry_717211[0], cstrToNimstr("Camera"), HEX3Aanonymous_728138);
}
registercomponent_728126();
function new_731678() {
var result_731683 = null;
BeforeRet: do {
var r_731801 = null;
r_731801 = {m_type: NTI713144, mview_713145: null, node_713088: null};
result_731683 = r_731801;
break BeforeRet;
} while (false); 
return result_731683;
}
function registercomponent_731661() {
function HEX3Aanonymous_731673() {
var result_731675 = null;
result_731675 = new_731678();
return result_731675;
}
add_728212(componentregistry_717211[0], cstrToNimstr("UIComponent"), HEX3Aanonymous_731673);
}
registercomponent_731661();
function newcomposition_732067() {
var result_732072 = {program_691905: 0, definition_691906: null, fragshader_691907: null};
result_732072.definition_691906 = cstrToNimstr("\x0Auniform sampler2D uForeground_tex;\x0Auniform vec4 uForeground_texCoords;\x0Auniform vec2 viewportSize;\x0A\x0Auniform float inWhite;\x0Auniform float inBlack;\x0Auniform float inGamma;\x0Auniform float outWhite;\x0Auniform float outBlack;\x0A\x0Avec4 colorPow(vec4 i, float p) {\x0A    return vec4(pow(i.r, p), pow(i.g, p), pow(i.b, p), i.a);\x0A}\x0A\x0Avoid compose() {\x0A    vec2 uv = gl_FragCoord.xy / viewportSize * uForeground_texCoords.zw;\x0A    vec4 inPixel = texture2D(uForeground_tex, uv);\x0A    gl_FragColor = (colorPow(((inPixel) - inBlack) / (inWhite - inBlack),\x0A                    inGamma) * (outWhite - outBlack) + outBlack);\x0A    gl_FragColor.a = inPixel.a;\x0A}\x0A");
return result_732072;
}
var levelscomposition_732074 = /**/[newcomposition_732067()];
function new_732533() {
var result_732538 = null;
BeforeRet: do {
var r_732601 = null;
r_732601 = {m_type: NTI732058, inwhite_732059: 0.0, inblack_732060: 0.0, ingamma_732061: 0.0, outwhite_732062: 0.0, outblack_732063: 0.0, node_713088: null};
result_732538 = r_732601;
break BeforeRet;
} while (false); 
return result_732538;
}
function registercomponent_732516() {
function HEX3Aanonymous_732528() {
var result_732530 = null;
result_732530 = new_732533();
return result_732530;
}
add_728212(componentregistry_717211[0], cstrToNimstr("ChannelLevels"), HEX3Aanonymous_732528);
}
registercomponent_732516();
function new_736354() {
var result_736359 = null;
BeforeRet: do {
var r_736401 = null;
r_736401 = {m_type: NTI713147, mlightambient_713148: 0.0, mlightdiffuse_713149: 0.0, mlightspecular_713150: 0.0, mlightconstant_713151: 0.0, mlightlinear_713152: 0.0, mlightquadratic_713153: 0.0, mlightattenuation_713154: 0.0, lightposinited_713155: false, lightambientinited_713156: false, lightdiffuseinited_713157: false, lightspecularinited_713158: false, lightconstantinited_713159: false, lightlinearinited_713160: false, lightquadraticinited_713161: false, lightattenuationinited_713162: false, node_713088: null};
result_736359 = r_736401;
break BeforeRet;
} while (false); 
return result_736359;
}
function registercomponent_736337() {
function HEX3Aanonymous_736349() {
var result_736351 = null;
result_736351 = new_736354();
return result_736351;
}
add_728212(componentregistry_717211[0], cstrToNimstr("LightSource"), HEX3Aanonymous_736349);
}
registercomponent_736337();
function new_742219() {
var result_742224 = null;
BeforeRet: do {
var r_742401 = null;
r_742401 = {m_type: NTI741203, resourcename_741204: null, indexbuffer_741205: 0, vertexbuffer_741206: 0, numberofindices_741207: 0, loadfunc_741210: null, vertinfo_741211: {numofcoordpervert_737005: 0, numofcoordpernormal_737006: 0, numofcoordpertexcoord_737007: 0, numofcoordperbinormal_737008: 0, numofcoordpertangent_737009: 0, stride_737010: 0}, material_741212: null, node_713088: null};
result_742224 = r_742401;
break BeforeRet;
} while (false); 
return result_742224;
}
function registercomponent_742202() {
function HEX3Aanonymous_742214() {
var result_742216 = null;
result_742216 = new_742219();
return result_742216;
}
add_728212(componentregistry_717211[0], cstrToNimstr("MeshComponent"), HEX3Aanonymous_742214);
}
registercomponent_742202();
function newcomposition_743009() {
var result_743014 = {program_691905: 0, definition_691906: null, fragshader_691907: null};
result_743014.definition_691906 = cstrToNimstr("\x0Auniform sampler2D uBackground_tex;\x0Auniform vec4 uBackground_texCoords;\x0Auniform sampler2D uForeground_tex;\x0Auniform vec4 uForeground_texCoords;\x0Auniform vec2 viewportSize;\x0A\x0Avoid compose() {\x0A    vec2 uv = gl_FragCoord.xy / viewportSize * uBackground_texCoords.zw;\x0A    vec4 burnColor = texture2D(uBackground_tex, uv);\x0A    vec4 maskColor = texture2D(uForeground_tex, uv);\x0A    burnColor *= 1.0 + maskColor.a * 2.0;\x0A    gl_FragColor = burnColor;\x0A}\x0A");
return result_743014;
}
var overlaycomposition_743016 = /**/[newcomposition_743009()];
function new_743237() {
var result_743242 = null;
BeforeRet: do {
var r_743401 = null;
r_743401 = {m_type: NTI743005, node_713088: null};
result_743242 = r_743401;
break BeforeRet;
} while (false); 
return result_743242;
}
function registercomponent_743220() {
function HEX3Aanonymous_743232() {
var result_743234 = null;
result_743234 = new_743237();
return result_743234;
}
add_728212(componentregistry_717211[0], cstrToNimstr("Overlay"), HEX3Aanonymous_743232);
}
registercomponent_743220();
function new_745669() {
var result_745674 = null;
BeforeRet: do {
var r_745801 = null;
r_745801 = {m_type: NTI744020, lifetime_744021: 0.0, birthrate_744022: 0.0, particleprototype_744023: null, numberofparticles_744024: 0, gravity_744025: [0.0, 0.0, 0.0], particles_744027: null, lastdrawtime_744028: 0.0, lastbirthtime_744029: 0.0, animation_744030: null, node_713088: null};
result_745674 = r_745801;
break BeforeRet;
} while (false); 
return result_745674;
}
function registercomponent_745652() {
function HEX3Aanonymous_745664() {
var result_745666 = null;
result_745666 = new_745669();
return result_745666;
}
add_728212(componentregistry_717211[0], cstrToNimstr("ParticleEmitter"), HEX3Aanonymous_745664);
}
registercomponent_745652();
function new_745843() {
var result_745848 = null;
BeforeRet: do {
var r_746001 = null;
r_746001 = {m_type: NTI744016, initiallifetime_744017: 0.0, remaininglifetime_744018: 0.0, node_713088: null};
result_745848 = r_746001;
break BeforeRet;
} while (false); 
return result_745848;
}
function registercomponent_745826() {
function HEX3Aanonymous_745838() {
var result_745840 = null;
result_745840 = new_745843();
return result_745840;
}
add_728212(componentregistry_717211[0], cstrToNimstr("Particle"), HEX3Aanonymous_745838);
}
registercomponent_745826();
function new_747822() {
var result_747827 = null;
BeforeRet: do {
var r_748001 = null;
r_748001 = {m_type: NTI747005, size_747006: {Field0: 0.0, Field1: 0.0}, color_747007: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, node_713088: null};
result_747827 = r_748001;
break BeforeRet;
} while (false); 
return result_747827;
}
function registercomponent_747805() {
function HEX3Aanonymous_747817() {
var result_747819 = null;
result_747819 = new_747822();
return result_747819;
}
add_728212(componentregistry_717211[0], cstrToNimstr("Solid"), HEX3Aanonymous_747817);
}
registercomponent_747805();
function new_749666() {
var result_749671 = null;
BeforeRet: do {
var r_749801 = null;
r_749801 = {m_type: NTI749005, offset_749006: {Field0: 0.0, Field1: 0.0}, images_749008: null, currentframe_749009: 0, motionblurradius_749010: 0.0, prevrootoffset_749011: [0.0, 0.0, 0.0], node_713088: null};
result_749671 = r_749801;
break BeforeRet;
} while (false); 
return result_749671;
}
function registercomponent_749649() {
function HEX3Aanonymous_749661() {
var result_749663 = null;
result_749663 = new_749666();
return result_749663;
}
add_728212(componentregistry_717211[0], cstrToNimstr("Sprite"), HEX3Aanonymous_749661);
}
registercomponent_749649();
function new_750581() {
var result_750586 = null;
BeforeRet: do {
var r_750601 = null;
r_750601 = {m_type: NTI750010, text_750011: null, color_750012: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, font_750013: null, trackingamount_750014: 0.0, justification_750015: 0, shadowx_750016: 0.0, shadowy_750017: 0.0, shadowcolor_750018: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, node_713088: null};
result_750586 = r_750601;
break BeforeRet;
} while (false); 
return result_750586;
}
function registercomponent_750564() {
function HEX3Aanonymous_750576() {
var result_750578 = null;
result_750578 = new_750581();
return result_750578;
}
add_728212(componentregistry_717211[0], cstrToNimstr("Text"), HEX3Aanonymous_750576);
}
registercomponent_750564();
function newcomposition_754113() {
var result_754118 = {program_691905: 0, definition_691906: null, fragshader_691907: null};
result_754118.definition_691906 = cstrToNimstr("\x0Auniform vec4 uStrokeColor;\x0Auniform vec4 uFillColorStart;\x0Auniform vec4 uFillColorEnd;\x0Afloat radius = 5.0;\x0A\x0Avoid compose() {\x0A    vec4 fc = gradient(smoothstep(bounds.y, bounds.y + bounds.w, vPos.y),\x0A        uFillColorStart,\x0A        uFillColorEnd);\x0A    drawShape(sdRoundedRect(bounds, radius), uStrokeColor);\x0A    drawShape(sdRoundedRect(insetRect(bounds, 1.0), radius - 1.0), fc);\x0A}\x0A");
return result_754118;
}
var regularbuttoncomposition_754120 = /**/[newcomposition_754113()];
function newcomposition_757270() {
var result_757275 = {program_691905: 0, definition_691906: null, fragshader_691907: null};
result_757275.definition_691906 = cstrToNimstr("\x0Auniform float uAngle;\x0Avoid compose() {\x0A    vec2 center = vec2(bounds.x + bounds.z / 2.0, bounds.y + bounds.w / 2.0 - 1.0);\x0A    float triangle = sdRegularPolygon(center, 4.0, 3, uAngle);\x0A    drawShape(triangle, vec4(0.0, 0, 0, 1));\x0A}\x0A");
return result_757275;
}
var disclosuretrianglecomposition_757277 = /**/[newcomposition_757270()];
var cursorpos_765008 = /**/[0];
var cursorvisible_765009 = /**/[1];
var cursorupdatetimer_765010 = [null];
var cursoroffset_765012 = [0.0];
function inittable_767008(initialsize_767013) {
var result_767034 = {data_767030: null, counter_767033: 0};
if (!(ispoweroftwo_18625(initialsize_767013))) {
failedassertimpl_14716(cstrToNimstr("isPowerOfTwo(initialSize) "));
}

result_767034.counter_767033 = 0;
result_767034.data_767030 = new Array(chckRange(initialsize_767013, 0, 2147483647)); for (var i=0;i<chckRange(initialsize_767013, 0, 2147483647);++i) {result_767034.data_767030[i]={Field0: 0, Field1: 0, Field2: null};}return result_767034;
}
var propeditors_767211 = /**/[inittable_767008(64)];
function hash_636801(x_636803) {
var result_636804 = 0;
result_636804 = x_636803;
return result_636804;
}
function rawget_767289(t_767294, key_767296, hc_767298, hc_767298_Idx) {
var Tmp3;
var result_767299 = 0;
BeforeRet: do {
hc_767298[hc_767298_Idx] = hash_636801(key_767296);
if ((hc_767298[hc_767298_Idx] == 0)) {
hc_767298[hc_767298_Idx] = 314159265;
}

var h_767301 = (hc_767298[hc_767298_Idx] & (t_767294.data_767030 != null ? (t_767294.data_767030.length-1) : -1));
L1: do {
L2: while (true) {
if (!isfilled_639263(t_767294.data_767030[chckIndx(h_767301, 0, t_767294.data_767030.length)-0].Field0)) break L2;
if (!(t_767294.data_767030[chckIndx(h_767301, 0, t_767294.data_767030.length)-0].Field0 == hc_767298[hc_767298_Idx])) Tmp3 = false; else {Tmp3 = (t_767294.data_767030[chckIndx(h_767301, 0, t_767294.data_767030.length)-0].Field1 == key_767296); }if (Tmp3) {
result_767299 = h_767301;
break BeforeRet;
}

h_767301 = nexttry_639401(h_767301, (t_767294.data_767030 != null ? (t_767294.data_767030.length-1) : -1));
}
} while(false);
result_767299 = subInt(-1, h_767301);
} while (false); 
return result_767299;
}
function rawgetknownhc_770296(t_770301, key_770303, hc_770305) {
var result_770306 = 0;
BeforeRet: do {
var h_770307 = (hc_770305 & (t_770301.data_767030 != null ? (t_770301.data_767030.length-1) : -1));
L1: do {
L2: while (true) {
if (!isfilled_639263(t_770301.data_767030[chckIndx(h_770307, 0, t_770301.data_767030.length)-0].Field0)) break L2;
if (((t_770301.data_767030[chckIndx(h_770307, 0, t_770301.data_767030.length)-0].Field0 == hc_770305) && (t_770301.data_767030[chckIndx(h_770307, 0, t_770301.data_767030.length)-0].Field1 == key_770303))) {
result_770306 = h_770307;
break BeforeRet;
}

h_770307 = nexttry_639401(h_770307, (t_770301.data_767030 != null ? (t_770301.data_767030.length-1) : -1));
}
} while(false);
result_770306 = subInt(-1, h_770307);
} while (false); 
return result_770306;
}
function rawinsert_770312(t_770319, data_770323, data_770323_Idx, key_770325, val_770327, hc_770329, h_770331) {
data_770323[data_770323_Idx][chckIndx(h_770331, 0, data_770323[data_770323_Idx].length)-0].Field1 = key_770325;
data_770323[data_770323_Idx][chckIndx(h_770331, 0, data_770323[data_770323_Idx].length)-0].Field2 = val_770327;
data_770323[data_770323_Idx][chckIndx(h_770331, 0, data_770323[data_770323_Idx].length)-0].Field0 = hc_770329;
}
function enlarge_770243(t_770250) {
var n_770254 = null;
n_770254 = new Array(chckRange(mulInt((t_770250.data_767030 != null ? t_770250.data_767030.length : 0), 2), 0, 2147483647)); for (var i=0;i<chckRange(mulInt((t_770250.data_767030 != null ? t_770250.data_767030.length : 0), 2), 0, 2147483647);++i) {n_770254[i]={Field0: 0, Field1: 0, Field2: null};}var Tmp1 = t_770250.data_767030; t_770250.data_767030 = n_770254; n_770254 = Tmp1;L2: do {
var i_770294 = 0;
var HEX3Atmp_770335 = 0;
HEX3Atmp_770335 = (n_770254 != null ? (n_770254.length-1) : -1);
var res_770338 = 0;
L3: do {
L4: while (true) {
if (!(res_770338 <= HEX3Atmp_770335)) break L4;
i_770294 = res_770338;
if (isfilled_639263(n_770254[chckIndx(i_770294, 0, n_770254.length)-0].Field0)) {
var j_770310 = subInt(-1, rawgetknownhc_770296(t_770250, n_770254[chckIndx(i_770294, 0, n_770254.length)-0].Field1, n_770254[chckIndx(i_770294, 0, n_770254.length)-0].Field0));
rawinsert_770312(t_770250, t_770250, "data_767030", n_770254[chckIndx(i_770294, 0, n_770254.length)-0].Field1, n_770254[chckIndx(i_770294, 0, n_770254.length)-0].Field2, n_770254[chckIndx(i_770294, 0, n_770254.length)-0].Field0, j_770310);
}

res_770338 = addInt(res_770338, 1);
}
} while(false);
} while(false);
}
function HEX5BHEX5DHEX3D_770207(t_770214, key_770216, val_770218) {
var hc_770219 = [0];
var index_770233 = rawget_767289(t_770214, key_770216, hc_770219, 0);
if ((0 <= index_770233)) {
t_770214.data_767030[chckIndx(index_770233, 0, t_770214.data_767030.length)-0].Field2 = val_770218;
}
else {
if (mustrehash_639268((t_770214.data_767030 != null ? t_770214.data_767030.length : 0), t_770214.counter_767033)) {
enlarge_770243(t_770214);
index_770233 = rawgetknownhc_770296(t_770214, key_770216, hc_770219[0]);
}

index_770233 = subInt(-1, index_770233);
rawinsert_770312(t_770214, t_770214, "data_767030", key_770216, val_770218, hc_770219[0], index_770233);
t_770214.counter_767033 = addInt(t_770214.counter_767033, 1);
}

}
function get_769893(v_769897) {
var result_769900 = {Field0: null, Field1: null};
if (!((2139396368 == v_769897.typeid_714822))) {
var e_770003 = null;
e_770003 = {m_type: NTI3424, parent: null, name: null, message: null, trace: null};
e_770003.message = cstrToNimstr("Wrong variant type. Compile with -d:variantDebugTypes switch to get more type information.");
raiseException(e_770003, "Exception");
}

        result_769900 = v_769897.val;
        return result_769900;
}
function registerpropertyeditor_769840(createview_769857) {
function HEX3Aanonymous_769883(n_769885, v_769886) {
var result_769887 = null;
var sng_770202 = get_769893(v_769886);
result_769887 = createview_769857(sng_770202.Field0, sng_770202.Field1);
return result_769887;
}
HEX5BHEX5DHEX3D_770207(propeditors_767211[0], 2139396368, HEX3Aanonymous_769883);
}
function newtextfield_765015(r_765017) {
var result_765018 = null;
result_765018 = {m_type: NTI765003, text_765004: null, editable_765005: false, selectable_765006: false, actionhandler_753013: null, window_696022: null, frame_696023: {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}}, bounds_696024: {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}}, subviews_696026: null, superview_696027: null, autoresizingmask_696029: {}, backgroundcolor_696030: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, gesturedetectors_696032: null};
init_696078(result_765018, r_765017);
return result_765018;
}
function onaction_753035(c_753037, handler_753041) {
c_753037.actionhandler_753013 = handler_753041;
}
function onaction_753042(c_753044, handler_753047) {
function HEX3Aanonymous_753048(e_753050) {
handler_753047();
}
onaction_753035(c_753044, HEX3Aanonymous_753048);
}
function newtextpropertyview_769246(setter_769251, getter_769254) {
function HEX3Aanonymous_769258() {
setter_769251(textfield_769257.text_765004);
}
var result_769255 = null;
var textfield_769257 = newtextfield_765015(newrect_20072(0.0, 0.0, 2.0000000000000000e+02, 1.7000000000000000e+01));
textfield_769257.text_765004 = getter_769254();
onaction_753042(textfield_769257, HEX3Aanonymous_769258);
result_769255 = textfield_769257;
return result_769255;
}
registerpropertyeditor_769840(newtextpropertyview_769246);
function get_722959(v_722963) {
var result_722966 = {Field0: null, Field1: null};
if (!((1718066911 == v_722963.typeid_714822))) {
var e_723003 = null;
e_723003 = {m_type: NTI3424, parent: null, name: null, message: null, trace: null};
e_723003.message = cstrToNimstr("Wrong variant type. Compile with -d:variantDebugTypes switch to get more type information.");
raiseException(e_723003, "Exception");
}

        result_722966 = v_722963.val;
        return result_722966;
}
function registerpropertyeditor_770424(createview_770441) {
function HEX3Aanonymous_770467(n_770469, v_770470) {
var result_770471 = null;
var sng_770485 = get_722959(v_770470);
result_770471 = createview_770441(sng_770485.Field0, sng_770485.Field1);
return result_770471;
}
HEX5BHEX5DHEX3D_770207(propeditors_767211[0], 1718066911, HEX3Aanonymous_770467);
}
function newnumerictextfield_768009(r_768011) {
var result_768012 = null;
result_768012 = {m_type: NTI768007, text_765004: null, editable_765005: false, selectable_765006: false, actionhandler_753013: null, window_696022: null, frame_696023: {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}}, bounds_696024: {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}}, subviews_696026: null, superview_696027: null, autoresizingmask_696029: {}, backgroundcolor_696030: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, gesturedetectors_696032: null};
init_696078(result_768012, r_768011);
return result_768012;
}
function nsuformatBiggestFloat(f_31409, format_31410, precision_31412, decimalsep_31413) {
var result_31414 = null;
var res_31601 = null;
switch (format_31410) {
case 0: res_31601 = f_31409.toString();
break;
case 1: res_31601 = f_31409.toFixed(precision_31412);
break;
case 2: res_31601 = f_31409.toExponential(precision_31412);
break;
}
result_31414 = cstrToNimstr(res_31601);
L1: do {
var i_31646 = 0;
var HEX3Atmp_31660 = {a_14056: 0, b_14058: 0};
HEX3Atmp_31660 = HEX2EHEX2E_31611(0, (result_31414 != null ? result_31414.length-1 : 0) - 1);
L2: do {
var x_31664 = 0;
var HEX3Atmp_31666 = 0;
var HEX3Atmp_31668 = 0;
HEX3Atmp_31666 = HEX3Atmp_31660.a_14056;
HEX3Atmp_31668 = HEX3Atmp_31660.b_14058;
var res_31670 = HEX3Atmp_31666;
L3: do {
L4: while (true) {
if (!(res_31670 <= HEX3Atmp_31668)) break L4;
x_31664 = res_31670;
i_31646 = x_31664;
if ((SetConstr(46, 44)[result_31414[i_31646]] != undefined)) {
result_31414[i_31646] = decimalsep_31413;
}

res_31670 += 1;
}
} while(false);
} while(false);
} while(false);
return result_31414;
}
function nsuformatFloat(f_31676, format_31677, precision_31679, decimalsep_31680) {
var result_31681 = null;
result_31681 = nsuformatBiggestFloat(f_31676, format_31677, precision_31679, decimalsep_31680);
return result_31681;
}
function tentothepowerof_13382(b_13384) {
var result_13385 = 0.0;
var b_13386 = b_13384;
var a_13387 = 1.0000000000000000e+01;
result_13385 = 1.0000000000000000e+00;
L1: do {
L2: while (true) {
if (!1) break L2;
if (((b_13386 & 1) == 1)) {
result_13385 = (result_13385 * a_13387);
}

b_13386 = (b_13386 >>> 1);
if ((b_13386 == 0)) {
break L1;
}

a_13387 = (a_13387 * a_13387);
}
} while(false);
return result_13385;
}
function nimParseBiggestFloat(s_13394, number_13396, number_13396_Idx, start_13397) {
var result_13398 = 0;
BeforeRet: do {
var esign_13399 = 1.0000000000000000e+00;
var sign_13400 = 1.0000000000000000e+00;
var i_13401 = start_13397;
var exponent_13402 = 0;
var flags_13403 = 0;
number_13396[number_13396_Idx] = 0.0;
if ((s_13394[i_13401] == 43)) {
i_13401 += 1;
}
else {
if ((s_13394[i_13401] == 45)) {
sign_13400 = -1.0000000000000000e+00;
i_13401 += 1;
}
}
if (((s_13394[i_13401] == 78) || (s_13394[i_13401] == 110))) {
if (((s_13394[(i_13401 + 1)] == 65) || (s_13394[(i_13401 + 1)] == 97))) {
if (((s_13394[(i_13401 + 2)] == 78) || (s_13394[(i_13401 + 2)] == 110))) {
if (!((SetConstr([97, 122], [65, 90], [48, 57], 95)[s_13394[(i_13401 + 3)]] != undefined))) {
number_13396[number_13396_Idx] = NaN;
result_13398 = ((i_13401 + 3) - start_13397);
break BeforeRet;
}

}

}

result_13398 = 0;
break BeforeRet;
}

if (((s_13394[i_13401] == 73) || (s_13394[i_13401] == 105))) {
if (((s_13394[(i_13401 + 1)] == 78) || (s_13394[(i_13401 + 1)] == 110))) {
if (((s_13394[(i_13401 + 2)] == 70) || (s_13394[(i_13401 + 2)] == 102))) {
if (!((SetConstr([97, 122], [65, 90], [48, 57], 95)[s_13394[(i_13401 + 3)]] != undefined))) {
number_13396[number_13396_Idx] = (Infinity * sign_13400);
result_13398 = ((i_13401 + 3) - start_13397);
break BeforeRet;
}

}

}

result_13398 = 0;
break BeforeRet;
}

L1: do {
L2: while (true) {
if (!(SetConstr([48, 57])[s_13394[i_13401]] != undefined)) break L2;
flags_13403 = (flags_13403 | 1);
number_13396[number_13396_Idx] = ((number_13396[number_13396_Idx] * 1.0000000000000000e+01) + (s_13394[i_13401] - 48));
i_13401 += 1;
L3: do {
L4: while (true) {
if (!(s_13394[i_13401] == 95)) break L4;
i_13401 += 1;
}
} while(false);
}
} while(false);
if ((s_13394[i_13401] == 46)) {
var hd_13492 = 1.0000000000000000e+00;
i_13401 += 1;
L5: do {
L6: while (true) {
if (!(SetConstr([48, 57])[s_13394[i_13401]] != undefined)) break L6;
flags_13403 = (flags_13403 | 2);
number_13396[number_13396_Idx] = ((number_13396[number_13396_Idx] * 1.0000000000000000e+01) + (s_13394[i_13401] - 48));
hd_13492 = (hd_13492 * 1.0000000000000000e+01);
i_13401 += 1;
L7: do {
L8: while (true) {
if (!(s_13394[i_13401] == 95)) break L8;
i_13401 += 1;
}
} while(false);
}
} while(false);
number_13396[number_13396_Idx] = (number_13396[number_13396_Idx] / hd_13492);
}

if ((flags_13403 == 0)) {
result_13398 = 0;
break BeforeRet;
}

if ((SetConstr(101, 69)[s_13394[i_13401]] != undefined)) {
i_13401 += 1;
if ((s_13394[i_13401] == 43)) {
i_13401 += 1;
}
else {
if ((s_13394[i_13401] == 45)) {
esign_13399 = -1.0000000000000000e+00;
i_13401 += 1;
}
}
if (!((SetConstr([48, 57])[s_13394[i_13401]] != undefined))) {
result_13398 = 0;
break BeforeRet;
}

L9: do {
L10: while (true) {
if (!(SetConstr([48, 57])[s_13394[i_13401]] != undefined)) break L10;
exponent_13402 = (((exponent_13402 * 10) + s_13394[i_13401]) - 48);
i_13401 += 1;
L11: do {
L12: while (true) {
if (!(s_13394[i_13401] == 95)) break L12;
i_13401 += 1;
}
} while(false);
}
} while(false);
}

var hd_13644 = tentothepowerof_13382(exponent_13402);
if ((0.0 < esign_13399)) {
number_13396[number_13396_Idx] = (number_13396[number_13396_Idx] * hd_13644);
}
else {
number_13396[number_13396_Idx] = (number_13396[number_13396_Idx] / hd_13644);
}

number_13396[number_13396_Idx] = (number_13396[number_13396_Idx] * sign_13400);
result_13398 = (i_13401 - start_13397);
} while (false); 
return result_13398;
}
function npuParseFloat(s_24863, number_24865, number_24865_Idx, start_24866) {
var result_24867 = 0;
var bf_24868 = [0.0];
result_24867 = nimParseBiggestFloat(s_24863, bf_24868, 0, start_24866);
if (!((result_24867 == 0))) {
number_24865[number_24865_Idx] = bf_24868[0];
}

return result_24867;
}
function nsuParseFloat(s_28688) {
var Tmp1;
var result_28689 = [0.0];
var L_28691 = npuParseFloat(s_28688, result_28689, 0, 0);
if (!((L_28691 == (s_28688 != null ? s_28688.length-1 : 0)))) Tmp1 = true; else {Tmp1 = (L_28691 == 0); }if (Tmp1) {
var e_28695 = null;
e_28695 = {m_type: NTI3446, parent: null, name: null, message: null, trace: null};
e_28695.message = (cstrToNimstr("invalid float: ").slice(0,-1)).concat(s_28688);
raiseException(e_28695, "ValueError");
}

return result_28689[0];
}
function newscalarpropertyview_770390(setter_770397, getter_770400) {
function HEX3Aanonymous_770405() {
var v_770407 = 0.0;
v_770407 = nsuParseFloat(tf_770403.text_765004);
setter_770397(v_770407);
}
var result_770401 = null;
var tf_770403 = newnumerictextfield_768009(newrect_20072(0.0, 0.0, 3.0000000000000000e+02, 2.0000000000000000e+01));
tf_770403.text_765004 = nsuformatFloat(getter_770400(), 1, 2, 46);
onaction_753042(tf_770403, HEX3Aanonymous_770405);
result_770401 = tf_770403;
return result_770401;
}
registerpropertyeditor_770424(newscalarpropertyview_770390);
function get_770592(v_770596) {
var result_770599 = {Field0: null, Field1: null};
if (!((890521595 == v_770596.typeid_714822))) {
var e_770803 = null;
e_770803 = {m_type: NTI3424, parent: null, name: null, message: null, trace: null};
e_770803.message = cstrToNimstr("Wrong variant type. Compile with -d:variantDebugTypes switch to get more type information.");
raiseException(e_770803, "Exception");
}

        result_770599 = v_770596.val;
        return result_770599;
}
function registerpropertyeditor_770539(createview_770556) {
function HEX3Aanonymous_770582(n_770584, v_770585) {
var result_770586 = null;
var sng_771002 = get_770592(v_770585);
result_770586 = createview_770556(sng_771002.Field0, sng_771002.Field1);
return result_770586;
}
HEX5BHEX5DHEX3D_770207(propeditors_767211[0], 890521595, HEX3Aanonymous_770582);
}
function newscalarpropertyview_770505(setter_770512, getter_770515) {
function HEX3Aanonymous_770520() {
var v_770522 = 0.0;
v_770522 = nsuParseFloat(tf_770518.text_765004);
setter_770512(v_770522);
}
var result_770516 = null;
var tf_770518 = newnumerictextfield_768009(newrect_20072(0.0, 0.0, 3.0000000000000000e+02, 2.0000000000000000e+01));
tf_770518.text_765004 = nsuformatFloat(getter_770515(), 1, 2, 46);
onaction_753042(tf_770518, HEX3Aanonymous_770520);
result_770516 = tf_770518;
return result_770516;
}
registerpropertyeditor_770539(newscalarpropertyview_770505);
function get_725817(v_725821) {
var result_725824 = {Field0: null, Field1: null};
if (!((1776087487 == v_725821.typeid_714822))) {
var e_726003 = null;
e_726003 = {m_type: NTI3424, parent: null, name: null, message: null, trace: null};
e_726003.message = cstrToNimstr("Wrong variant type. Compile with -d:variantDebugTypes switch to get more type information.");
raiseException(e_726003, "Exception");
}

        result_725824 = v_725821.val;
        return result_725824;
}
function registerpropertyeditor_771056(createview_771073) {
function HEX3Aanonymous_771099(n_771101, v_771102) {
var result_771103 = null;
var sng_771117 = get_725817(v_771102);
result_771103 = createview_771073(sng_771117.Field0, sng_771117.Field1);
return result_771103;
}
HEX5BHEX5DHEX3D_770207(propeditors_767211[0], 1776087487, HEX3Aanonymous_771099);
}
function rawparseint_24725(s_24727, b_24729, b_24729_Idx, start_24730) {
var result_24731 = 0;
var sign_24732 = -1;
var i_24733 = start_24730;
if ((s_24727[chckIndx(i_24733, 0, s_24727.length)-0] == 43)) {
i_24733 = addInt(i_24733, 1);
}
else {
if ((s_24727[chckIndx(i_24733, 0, s_24727.length)-0] == 45)) {
i_24733 = addInt(i_24733, 1);
sign_24732 = 1;
}
}
if ((SetConstr([48, 57])[s_24727[chckIndx(i_24733, 0, s_24727.length)-0]] != undefined)) {
b_24729[b_24729_Idx] = 0;
L1: do {
L2: while (true) {
if (!(SetConstr([48, 57])[s_24727[chckIndx(i_24733, 0, s_24727.length)-0]] != undefined)) break L2;
b_24729[b_24729_Idx] = subInt(mulInt(b_24729[b_24729_Idx], 10), subInt(s_24727[chckIndx(i_24733, 0, s_24727.length)-0], 48));
i_24733 = addInt(i_24733, 1);
L3: do {
L4: while (true) {
if (!(s_24727[chckIndx(i_24733, 0, s_24727.length)-0] == 95)) break L4;
i_24733 = addInt(i_24733, 1);
}
} while(false);
}
} while(false);
b_24729[b_24729_Idx] = mulInt(b_24729[b_24729_Idx], sign_24732);
result_24731 = subInt(i_24733, start_24730);
}

return result_24731;
}
function npuParseBiggestInt(s_24814, number_24816, number_24816_Idx, start_24817) {
var result_24818 = 0;
var res_24819 = [0];
result_24818 = rawparseint_24725(s_24814, res_24819, 0, start_24817);
number_24816[number_24816_Idx] = res_24819[0];
return result_24818;
}
function npuParseInt(s_24824, number_24826, number_24826_Idx, start_24827) {
var Tmp1;
var Tmp2;
var result_24828 = 0;
var res_24829 = [0];
result_24828 = npuParseBiggestInt(s_24824, res_24829, 0, start_24827);
if (!1) Tmp1 = false; else {if ((res_24829[0] < -2147483648)) Tmp2 = true; else {Tmp2 = (2147483647 < res_24829[0]); }Tmp1 = Tmp2; }if (Tmp1) {
var e_24839 = null;
e_24839 = {m_type: NTI3440, parent: null, name: null, message: null, trace: null};
e_24839.message = cstrToNimstr("overflow");
raiseException(e_24839, "OverflowError");
}
else {
if (!((result_24828 == 0))) {
number_24826[number_24826_Idx] = chckRange(res_24829[0], -2147483648, 2147483647);
}
}
return result_24828;
}
function nsuParseInt(s_28648) {
var Tmp1;
var result_28649 = [0];
var L_28651 = npuParseInt(s_28648, result_28649, 0, 0);
if (!((L_28651 == (s_28648 != null ? s_28648.length-1 : 0)))) Tmp1 = true; else {Tmp1 = (L_28651 == 0); }if (Tmp1) {
var e_28655 = null;
e_28655 = {m_type: NTI3446, parent: null, name: null, message: null, trace: null};
e_28655.message = (cstrToNimstr("invalid integer: ").slice(0,-1)).concat(s_28648);
raiseException(e_28655, "ValueError");
}

return result_28649[0];
}
function newscalarpropertyview_771022(setter_771029, getter_771032) {
function HEX3Aanonymous_771037() {
var v_771039 = 0;
v_771039 = nsuParseInt(tf_771035.text_765004);
setter_771029(v_771039);
}
var result_771033 = null;
var tf_771035 = newnumerictextfield_768009(newrect_20072(0.0, 0.0, 3.0000000000000000e+02, 2.0000000000000000e+01));
tf_771035.text_765004 = cstrToNimstr((getter_771032())+"");
onaction_753042(tf_771035, HEX3Aanonymous_771037);
result_771033 = tf_771035;
return result_771033;
}
registerpropertyeditor_771056(newscalarpropertyview_771022);
function get_723378(v_723382) {
var result_723385 = {Field0: null, Field1: null};
if (!((1405731802 == v_723382.typeid_714822))) {
var e_723603 = null;
e_723603 = {m_type: NTI3424, parent: null, name: null, message: null, trace: null};
e_723603.message = cstrToNimstr("Wrong variant type. Compile with -d:variantDebugTypes switch to get more type information.");
raiseException(e_723603, "Exception");
}

        result_723385 = v_723382.val;
        return result_723385;
}
function registerpropertyeditor_771163(createview_771180) {
function HEX3Aanonymous_771222(n_771224, v_771225) {
var result_771226 = null;
var sng_771240 = get_723378(v_771225);
result_771226 = createview_771180(sng_771240.Field0, sng_771240.Field1);
return result_771226;
}
HEX5BHEX5DHEX3D_770207(propeditors_767211[0], 1405731802, HEX3Aanonymous_771222);
}
function new_767310(frame_767317) {
var result_767318 = null;
result_767318 = {m_type: NTI696021, window_696022: null, frame_696023: {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}}, bounds_696024: {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}}, subviews_696026: null, superview_696027: null, autoresizingmask_696029: {}, backgroundcolor_696030: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, gesturedetectors_696032: null};
init_696078(result_767318, frame_767317);
return result_767318;
}
function HEX2BHEX3D_20111(x_20116, x_20116_Idx, y_20118) {
x_20116[x_20116_Idx] = (x_20116[x_20116_Idx] + y_20118);
}
function newvecpropertyview_769430(setter_769437, getter_769440) {
function complexsetter_769459() {
var val_769463 = [0.0, 0.0];
L1: do {
var i_769497 = 0;
var HEX3Atmp_769501 = {a_14056: 0, b_14058: 0};
HEX3Atmp_769501 = HEX2EHEX2E_31611(0, subInt((pv_769458.subviews_696026 != null ? pv_769458.subviews_696026.length : 0), 1));
L2: do {
var x_769505 = 0;
var HEX3Atmp_769507 = 0;
var HEX3Atmp_769509 = 0;
HEX3Atmp_769507 = HEX3Atmp_769501.a_14056;
HEX3Atmp_769509 = HEX3Atmp_769501.b_14058;
var res_769511 = HEX3Atmp_769507;
L3: do {
L4: while (true) {
if (!(res_769511 <= HEX3Atmp_769509)) break L4;
x_769505 = res_769511;
i_769497 = x_769505;
val_769463[chckIndx(i_769497, 0, val_769463.length)-0] = nsuParseFloat(pv_769458.subviews_696026[chckIndx(i_769497, 0, pv_769458.subviews_696026.length)-0].text_765004);
res_769511 = addInt(res_769511, 1);
}
} while(false);
} while(false);
} while(false);
setter_769437(val_769463);
}
var result_769441 = null;
result_769441 = new_767310(newrect_20072(0.0, 0.0, 1.3000000000000000e+02, 1.7000000000000000e+01));
var x_769456 = /**/[0.0];
var width_769457 = ((width_20031(bounds_697654(result_769441)) - x_769456[0]) / 2.0000000000000000e+00);
var pv_769458 = result_769441;
var val_769515 = getter_769440();
L1: do {
var i_769541 = 0;
var HEX3Atmp_769558 = {a_14056: 0, b_14058: 0};
HEX3Atmp_769558 = HEX2EHEX2E_31611(0, 1);
L2: do {
var x_769562 = 0;
var HEX3Atmp_769564 = 0;
var HEX3Atmp_769566 = 0;
HEX3Atmp_769564 = HEX3Atmp_769558.a_14056;
HEX3Atmp_769566 = HEX3Atmp_769558.b_14058;
var res_769568 = HEX3Atmp_769564;
L3: do {
L4: while (true) {
if (!(res_769568 <= HEX3Atmp_769566)) break L4;
x_769562 = res_769568;
i_769541 = x_769562;
var textfield_769542 = newnumerictextfield_768009(newrect_20072(x_769456[0], 0.0, width_769457, height_20035(bounds_697654(result_769441))));
HEX2BHEX3D_20111(x_769456, 0, width_769457);
if ((i_769541 == 1)) {
nimCopy(textfield_769542.autoresizingmask_696029, SetConstr(1, 3), NTI769553);
}
else {
nimCopy(textfield_769542.autoresizingmask_696029, SetConstr(4, 3), NTI769554);
}

textfield_769542.text_765004 = nsuformatFloat(val_769515[chckIndx(i_769541, 0, val_769515.length)-0], 1, 2, 46);
onaction_753042(textfield_769542, complexsetter_769459);
addsubview_697246(result_769441, textfield_769542);
res_769568 = addInt(res_769568, 1);
}
} while(false);
} while(false);
} while(false);
return result_769441;
}
registerpropertyeditor_771163(newvecpropertyview_769430);
function get_724266(v_724270) {
var result_724273 = {Field0: null, Field1: null};
if (!((430767085 == v_724270.typeid_714822))) {
var e_724403 = null;
e_724403 = {m_type: NTI3424, parent: null, name: null, message: null, trace: null};
e_724403.message = cstrToNimstr("Wrong variant type. Compile with -d:variantDebugTypes switch to get more type information.");
raiseException(e_724403, "Exception");
}

        result_724273 = v_724270.val;
        return result_724273;
}
function registerpropertyeditor_771416(createview_771433) {
function HEX3Aanonymous_771475(n_771477, v_771478) {
var result_771479 = null;
var sng_771493 = get_724266(v_771478);
result_771479 = createview_771433(sng_771493.Field0, sng_771493.Field1);
return result_771479;
}
HEX5BHEX5DHEX3D_770207(propeditors_767211[0], 430767085, HEX3Aanonymous_771475);
}
function newvecpropertyview_771260(setter_771267, getter_771270) {
function complexsetter_771289() {
var val_771293 = [0.0, 0.0, 0.0];
L1: do {
var i_771327 = 0;
var HEX3Atmp_771331 = {a_14056: 0, b_14058: 0};
HEX3Atmp_771331 = HEX2EHEX2E_31611(0, subInt((pv_771288.subviews_696026 != null ? pv_771288.subviews_696026.length : 0), 1));
L2: do {
var x_771335 = 0;
var HEX3Atmp_771337 = 0;
var HEX3Atmp_771339 = 0;
HEX3Atmp_771337 = HEX3Atmp_771331.a_14056;
HEX3Atmp_771339 = HEX3Atmp_771331.b_14058;
var res_771341 = HEX3Atmp_771337;
L3: do {
L4: while (true) {
if (!(res_771341 <= HEX3Atmp_771339)) break L4;
x_771335 = res_771341;
i_771327 = x_771335;
val_771293[chckIndx(i_771327, 0, val_771293.length)-0] = nsuParseFloat(pv_771288.subviews_696026[chckIndx(i_771327, 0, pv_771288.subviews_696026.length)-0].text_765004);
res_771341 = addInt(res_771341, 1);
}
} while(false);
} while(false);
} while(false);
setter_771267(val_771293);
}
var result_771271 = null;
result_771271 = new_767310(newrect_20072(0.0, 0.0, 1.3000000000000000e+02, 1.7000000000000000e+01));
var x_771286 = /**/[0.0];
var width_771287 = ((width_20031(bounds_697654(result_771271)) - x_771286[0]) / 3.0000000000000000e+00);
var pv_771288 = result_771271;
var val_771345 = getter_771270();
L1: do {
var i_771371 = 0;
var HEX3Atmp_771388 = {a_14056: 0, b_14058: 0};
HEX3Atmp_771388 = HEX2EHEX2E_31611(0, 2);
L2: do {
var x_771392 = 0;
var HEX3Atmp_771394 = 0;
var HEX3Atmp_771396 = 0;
HEX3Atmp_771394 = HEX3Atmp_771388.a_14056;
HEX3Atmp_771396 = HEX3Atmp_771388.b_14058;
var res_771398 = HEX3Atmp_771394;
L3: do {
L4: while (true) {
if (!(res_771398 <= HEX3Atmp_771396)) break L4;
x_771392 = res_771398;
i_771371 = x_771392;
var textfield_771372 = newnumerictextfield_768009(newrect_20072(x_771286[0], 0.0, width_771287, height_20035(bounds_697654(result_771271))));
HEX2BHEX3D_20111(x_771286, 0, width_771287);
if ((i_771371 == 2)) {
nimCopy(textfield_771372.autoresizingmask_696029, SetConstr(1, 3), NTI771383);
}
else {
nimCopy(textfield_771372.autoresizingmask_696029, SetConstr(4, 3), NTI771384);
}

textfield_771372.text_765004 = nsuformatFloat(val_771345[chckIndx(i_771371, 0, val_771345.length)-0], 1, 2, 46);
onaction_753042(textfield_771372, complexsetter_771289);
addsubview_697246(result_771271, textfield_771372);
res_771398 = addInt(res_771398, 1);
}
} while(false);
} while(false);
} while(false);
return result_771271;
}
registerpropertyeditor_771416(newvecpropertyview_771260);
function get_724967(v_724971) {
var result_724974 = {Field0: null, Field1: null};
if (!((649854659 == v_724971.typeid_714822))) {
var e_725203 = null;
e_725203 = {m_type: NTI3424, parent: null, name: null, message: null, trace: null};
e_725203.message = cstrToNimstr("Wrong variant type. Compile with -d:variantDebugTypes switch to get more type information.");
raiseException(e_725203, "Exception");
}

        result_724974 = v_724971.val;
        return result_724974;
}
function registerpropertyeditor_771669(createview_771686) {
function HEX3Aanonymous_771728(n_771730, v_771731) {
var result_771732 = null;
var sng_771746 = get_724967(v_771731);
result_771732 = createview_771686(sng_771746.Field0, sng_771746.Field1);
return result_771732;
}
HEX5BHEX5DHEX3D_770207(propeditors_767211[0], 649854659, HEX3Aanonymous_771728);
}
function newvecpropertyview_771513(setter_771520, getter_771523) {
function complexsetter_771542() {
var val_771546 = [0.0, 0.0, 0.0, 0.0];
L1: do {
var i_771580 = 0;
var HEX3Atmp_771584 = {a_14056: 0, b_14058: 0};
HEX3Atmp_771584 = HEX2EHEX2E_31611(0, subInt((pv_771541.subviews_696026 != null ? pv_771541.subviews_696026.length : 0), 1));
L2: do {
var x_771588 = 0;
var HEX3Atmp_771590 = 0;
var HEX3Atmp_771592 = 0;
HEX3Atmp_771590 = HEX3Atmp_771584.a_14056;
HEX3Atmp_771592 = HEX3Atmp_771584.b_14058;
var res_771594 = HEX3Atmp_771590;
L3: do {
L4: while (true) {
if (!(res_771594 <= HEX3Atmp_771592)) break L4;
x_771588 = res_771594;
i_771580 = x_771588;
val_771546[chckIndx(i_771580, 0, val_771546.length)-0] = nsuParseFloat(pv_771541.subviews_696026[chckIndx(i_771580, 0, pv_771541.subviews_696026.length)-0].text_765004);
res_771594 = addInt(res_771594, 1);
}
} while(false);
} while(false);
} while(false);
setter_771520(val_771546);
}
var result_771524 = null;
result_771524 = new_767310(newrect_20072(0.0, 0.0, 1.3000000000000000e+02, 1.7000000000000000e+01));
var x_771539 = /**/[0.0];
var width_771540 = ((width_20031(bounds_697654(result_771524)) - x_771539[0]) / 4.0000000000000000e+00);
var pv_771541 = result_771524;
var val_771598 = getter_771523();
L1: do {
var i_771624 = 0;
var HEX3Atmp_771641 = {a_14056: 0, b_14058: 0};
HEX3Atmp_771641 = HEX2EHEX2E_31611(0, 3);
L2: do {
var x_771645 = 0;
var HEX3Atmp_771647 = 0;
var HEX3Atmp_771649 = 0;
HEX3Atmp_771647 = HEX3Atmp_771641.a_14056;
HEX3Atmp_771649 = HEX3Atmp_771641.b_14058;
var res_771651 = HEX3Atmp_771647;
L3: do {
L4: while (true) {
if (!(res_771651 <= HEX3Atmp_771649)) break L4;
x_771645 = res_771651;
i_771624 = x_771645;
var textfield_771625 = newnumerictextfield_768009(newrect_20072(x_771539[0], 0.0, width_771540, height_20035(bounds_697654(result_771524))));
HEX2BHEX3D_20111(x_771539, 0, width_771540);
if ((i_771624 == 3)) {
nimCopy(textfield_771625.autoresizingmask_696029, SetConstr(1, 3), NTI771636);
}
else {
nimCopy(textfield_771625.autoresizingmask_696029, SetConstr(4, 3), NTI771637);
}

textfield_771625.text_765004 = nsuformatFloat(val_771598[chckIndx(i_771624, 0, val_771598.length)-0], 1, 2, 46);
onaction_753042(textfield_771625, complexsetter_771542);
addsubview_697246(result_771524, textfield_771625);
res_771651 = addInt(res_771651, 1);
}
} while(false);
} while(false);
} while(false);
return result_771524;
}
registerpropertyeditor_771669(newvecpropertyview_771513);
function get_771870(v_771874) {
var result_771877 = {Field0: null, Field1: null};
if (!((1714999136 == v_771874.typeid_714822))) {
var e_772003 = null;
e_772003 = {m_type: NTI3424, parent: null, name: null, message: null, trace: null};
e_772003.message = cstrToNimstr("Wrong variant type. Compile with -d:variantDebugTypes switch to get more type information.");
raiseException(e_772003, "Exception");
}

        result_771877 = v_771874.val;
        return result_771877;
}
function registerpropertyeditor_771779(createview_771796) {
function HEX3Aanonymous_771860(n_771862, v_771863) {
var result_771864 = null;
var sng_772202 = get_771870(v_771863);
result_771864 = createview_771796(sng_772202.Field0, sng_772202.Field1);
return result_771864;
}
HEX5BHEX5DHEX3D_770207(propeditors_767211[0], 1714999136, HEX3Aanonymous_771860);
}
function newvector4_21144(x_21146, y_21147, z_21148, w_21149) {
var result_21150 = [0.0, 0.0, 0.0, 0.0];
nimCopy(result_21150, [x_21146, y_21147, z_21148, w_21149], NTI21151);
return result_21150;
}
function newcolor_20147(r_20149, g_20150, b_20151, a_20152) {
var result_20153 = {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0};
result_20153.Field0 = r_20149;
result_20153.Field1 = g_20150;
result_20153.Field2 = b_20151;
result_20153.Field3 = a_20152;
return result_20153;
}
function newcolorpropertyview_769307(setter_769312, getter_769315) {
function complexsetter_769345() {
var c_769347 = newcolor_20147(nsuParseFloat(pv_769344.subviews_696026[1].text_765004), nsuParseFloat(pv_769344.subviews_696026[2].text_765004), nsuParseFloat(pv_769344.subviews_696026[3].text_765004), nsuParseFloat(pv_769344.subviews_696026[4].text_765004));
setter_769312(c_769347);
nimCopy(colorview_769341.backgroundcolor_696030, c_769347, NTI20018);
}
var result_769316 = null;
result_769316 = new_767310(newrect_20072(0.0, 0.0, 1.3000000000000000e+02, 1.7000000000000000e+01));
var colorview_769341 = new_767310(newrect_20072(0.0, 0.0, 1.7000000000000000e+01, 1.7000000000000000e+01));
nimCopy(colorview_769341.backgroundcolor_696030, getter_769315(), NTI20018);
addsubview_697246(result_769316, colorview_769341);
var x_769342 = /**/[1.8000000000000000e+01];
var width_769343 = ((width_20031(bounds_697654(result_769316)) - x_769342[0]) / 4.0000000000000000e+00);
var pv_769344 = result_769316;
L1: do {
var i_769376 = 0;
var HEX3Atmp_769394 = {a_14056: 0, b_14058: 0};
HEX3Atmp_769394 = HEX2EHEX2E_31611(0, 3);
L2: do {
var x_769398 = 0;
var HEX3Atmp_769400 = 0;
var HEX3Atmp_769402 = 0;
HEX3Atmp_769400 = HEX3Atmp_769394.a_14056;
HEX3Atmp_769402 = HEX3Atmp_769394.b_14058;
var res_769404 = HEX3Atmp_769400;
L3: do {
L4: while (true) {
if (!(res_769404 <= HEX3Atmp_769402)) break L4;
x_769398 = res_769404;
i_769376 = x_769398;
var textfield_769377 = newnumerictextfield_768009(newrect_20072(x_769342[0], 0.0, width_769343, height_20035(bounds_697654(result_769316))));
HEX2BHEX3D_20111(x_769342, 0, width_769343);
if ((i_769376 == 3)) {
nimCopy(textfield_769377.autoresizingmask_696029, SetConstr(1, 3), NTI769388);
}
else {
nimCopy(textfield_769377.autoresizingmask_696029, SetConstr(4, 3), NTI769389);
}

textfield_769377.text_765004 = nsuformatFloat(newvector4_21144(getter_769315().Field0, getter_769315().Field1, getter_769315().Field2, getter_769315().Field3)[chckIndx(i_769376, 0, newvector4_21144(getter_769315().Field0, getter_769315().Field1, getter_769315().Field2, getter_769315().Field3).length)-0], 1, 2, 46);
onaction_753042(textfield_769377, complexsetter_769345);
addsubview_697246(result_769316, textfield_769377);
res_769404 = addInt(res_769404, 1);
}
} while(false);
} while(false);
} while(false);
return result_769316;
}
registerpropertyeditor_771779(newcolorpropertyview_769307);
function get_772306(v_772310) {
var result_772313 = {Field0: null, Field1: null};
if (!((1624508574 == v_772310.typeid_714822))) {
var e_772403 = null;
e_772403 = {m_type: NTI3424, parent: null, name: null, message: null, trace: null};
e_772403.message = cstrToNimstr("Wrong variant type. Compile with -d:variantDebugTypes switch to get more type information.");
raiseException(e_772403, "Exception");
}

        result_772313 = v_772310.val;
        return result_772313;
}
function registerpropertyeditor_772235(createview_772252) {
function HEX3Aanonymous_772296(n_772298, v_772299) {
var result_772300 = null;
var sng_772602 = get_772306(v_772299);
result_772300 = createview_772252(sng_772602.Field0, sng_772602.Field1);
return result_772300;
}
HEX5BHEX5DHEX3D_770207(propeditors_767211[0], 1624508574, HEX3Aanonymous_772296);
}
function newvector2_21129(x_21131, y_21132) {
var result_21133 = [0.0, 0.0];
nimCopy(result_21133, [x_21131, y_21132], NTI21134);
return result_21133;
}
function newsizepropertyview_769408(setter_769413, getter_769416) {
function HEX3Aanonymous_769418(v_769420) {
setter_769413(newsize_20061(v_769420[0], v_769420[1]));
}
function HEX3Aanonymous_769425() {
var result_769427 = [0.0, 0.0];
var s_769428 = getter_769416();
nimCopy(result_769427, newvector2_21129(s_769428.Field0, s_769428.Field1), NTI21049);
return result_769427;
}
var result_769417 = null;
result_769417 = newvecpropertyview_769430(HEX3Aanonymous_769418, HEX3Aanonymous_769425);
return result_769417;
}
registerpropertyeditor_772235(newsizepropertyview_769408);
function get_772721(v_772725) {
var result_772728 = {Field0: null, Field1: null};
if (!((1624508574 == v_772725.typeid_714822))) {
var e_772803 = null;
e_772803 = {m_type: NTI3424, parent: null, name: null, message: null, trace: null};
e_772803.message = cstrToNimstr("Wrong variant type. Compile with -d:variantDebugTypes switch to get more type information.");
raiseException(e_772803, "Exception");
}

        result_772728 = v_772725.val;
        return result_772728;
}
function registerpropertyeditor_772635(createview_772652) {
function HEX3Aanonymous_772711(n_772713, v_772714) {
var result_772715 = null;
var sng_773002 = get_772721(v_772714);
result_772715 = createview_772652(sng_773002.Field0, sng_773002.Field1);
return result_772715;
}
HEX5BHEX5DHEX3D_770207(propeditors_767211[0], 1624508574, HEX3Aanonymous_772711);
}
function newpointpropertyview_769572(setter_769577, getter_769580) {
function HEX3Aanonymous_769582(v_769584) {
setter_769577(newpoint_20055(v_769584[0], v_769584[1]));
}
function HEX3Aanonymous_769589() {
var result_769591 = [0.0, 0.0];
var s_769592 = getter_769580();
nimCopy(result_769591, newvector2_21129(s_769592.Field0, s_769592.Field1), NTI21049);
return result_769591;
}
var result_769581 = null;
result_769581 = newvecpropertyview_769430(HEX3Aanonymous_769582, HEX3Aanonymous_769589);
return result_769581;
}
registerpropertyeditor_772635(newpointpropertyview_769572);
function get_773094(v_773098) {
var result_773101 = {Field0: null, Field1: null};
if (!((2133577283 == v_773098.typeid_714822))) {
var e_773203 = null;
e_773203 = {m_type: NTI3424, parent: null, name: null, message: null, trace: null};
e_773203.message = cstrToNimstr("Wrong variant type. Compile with -d:variantDebugTypes switch to get more type information.");
raiseException(e_773203, "Exception");
}

        result_773101 = v_773098.val;
        return result_773101;
}
function registerpropertyeditor_773035(createview_773052) {
function HEX3Aanonymous_773084(n_773086, v_773087) {
var result_773088 = null;
var sng_773402 = get_773094(v_773087);
result_773088 = createview_773052(sng_773402.Field0, sng_773402.Field1);
return result_773088;
}
HEX5BHEX5DHEX3D_770207(propeditors_767211[0], 2133577283, HEX3Aanonymous_773084);
}
function new_769619(frame_769626) {
var result_769627 = null;
result_769627 = {m_type: NTI754014, title_754015: null, state_754016: 0, value_754017: 0, enabled_754018: false, hasbezel_754019: false, style_754020: 0, behavior_754021: 0, image_754022: null, actionhandler_753013: null, window_696022: null, frame_696023: {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}}, bounds_696024: {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}}, subviews_696026: null, superview_696027: null, autoresizingmask_696029: {}, backgroundcolor_696030: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, gesturedetectors_696032: null};
init_696078(result_769627, frame_769626);
return result_769627;
}
function newimagepropertyview_769606(setter_769611, getter_769614) {
function HEX3Aanonymous_769637() {
alert("Files can be opened only in native editor version");
}
var result_769615 = null;
var b_769636 = new_769619(newrect_20072(0.0, 0.0, 2.0000000000000000e+02, 1.7000000000000000e+01));
b_769636.title_754015 = cstrToNimstr("Open image...");
onaction_753042(b_769636, HEX3Aanonymous_769637);
result_769615 = b_769636;
return result_769615;
}
registerpropertyeditor_773035(newimagepropertyview_769606);
function get_773496(v_773500) {
var result_773503 = {Field0: null, Field1: null};
if (!((2122544485 == v_773500.typeid_714822))) {
var e_773603 = null;
e_773603 = {m_type: NTI3424, parent: null, name: null, message: null, trace: null};
e_773603.message = cstrToNimstr("Wrong variant type. Compile with -d:variantDebugTypes switch to get more type information.");
raiseException(e_773603, "Exception");
}

        result_773503 = v_773500.val;
        return result_773503;
}
function registerpropertyeditor_773437(createview_773456) {
function HEX3Aanonymous_773486(n_773488, v_773489) {
var result_773490 = null;
var sng_773802 = get_773496(v_773489);
result_773490 = createview_773456(n_773488, sng_773802.Field0, sng_773802.Field1);
return result_773490;
}
HEX5BHEX5DHEX3D_770207(propeditors_767211[0], 2122544485, HEX3Aanonymous_773486);
}
function findnode_720019(n_720021, p_720025) {
var result_720026 = null;
if (p_720025(n_720021)) {
result_720026 = n_720021;
}
else {
L1: do {
var c_720035 = null;
var HEX3Atmp_720045 = null;
HEX3Atmp_720045 = n_720021.children_713054;
var i_720048 = 0;
var L_720050 = (HEX3Atmp_720045 != null ? HEX3Atmp_720045.length : 0);
L2: do {
L3: while (true) {
if (!(i_720048 < L_720050)) break L3;
c_720035 = HEX3Atmp_720045[chckIndx(i_720048, 0, HEX3Atmp_720045.length)-0];
result_720026 = findnode_720019(c_720035, p_720025);
if (!(result_720026 == null)) {
break L1;
}

i_720048 = addInt(i_720048, 1);
if (!(((HEX3Atmp_720045 != null ? HEX3Atmp_720045.length : 0) == L_720050))) {
failedassertimpl_14716(cstrToNimstr("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
}

return result_720026;
}
function findnode_720051(n_720053, name_720054) {
function HEX3Aanonymous_720056(n_720058) {
var result_720059 = false;
result_720059 = eqStrings(n_720058.name_713056, name_720054);
return result_720059;
}
var result_720055 = null;
result_720055 = findnode_720019(n_720053, HEX3Aanonymous_720056);
return result_720055;
}
function sceneview_717001(n_717003) {
var result_717004 = null;
result_717004 = n_717003.msceneview_713084;
return result_717004;
}
function newnodepropertyview_769802(editednode_769804, setter_769808, getter_769811) {
var Tmp1;
function HEX3Aanonymous_769824() {
setter_769808(findnode_720051(sceneview_717001(editednode_769804).mrootnode_713092, textfield_769814.text_765004));
}
var result_769812 = null;
var textfield_769814 = newtextfield_765015(newrect_20072(0.0, 0.0, 2.0000000000000000e+02, 1.7000000000000000e+01));
var n_769815 = getter_769811();
if (n_769815 == null) Tmp1 = true; else {Tmp1 = n_769815.name_713056 == null; }if (Tmp1) {
textfield_769814.text_765004 = cstrToNimstr("nil");
}
else {
textfield_769814.text_765004 = n_769815.name_713056;
}

onaction_753042(textfield_769814, HEX3Aanonymous_769824);
result_769812 = textfield_769814;
return result_769812;
}
registerpropertyeditor_773437(newnodepropertyview_769802);
var registeredtests_796012 = [null];
function new_797606(frame_797613) {
var result_797614 = null;
result_797614 = {m_type: NTI797004, mcamera_713091: null, mrootnode_713092: null, numberofnodeswithbackcomposition_713093: 0, numberofnodeswithbackcompositionincurrentframe_713094: 0, mactiveframebuffer_713095: null, mbackupframebuffer_713096: null, mscreenframebuffer_713097: 0, tempframebuffers_713099: null, lightsources_713126: null, uicomponents_713128: null, window_696022: null, frame_696023: {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}}, bounds_696024: {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}}, subviews_696026: null, superview_696027: null, autoresizingmask_696029: {}, backgroundcolor_696030: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, gesturedetectors_696032: null};
init_696078(result_797614, frame_797613);
return result_797614;
}
function nodewillberemovedfromsceneview_719105(n_719107) {
if (!(n_719107.components_713052 == null)) {
L1: do {
var c_719124 = null;
var HEX3Atmp_719143 = null;
HEX3Atmp_719143 = n_719107.components_713052;
L2: do {
var h_719147 = 0;
var HEX3Atmp_719149 = 0;
HEX3Atmp_719149 = (HEX3Atmp_719143.data_713048 != null ? (HEX3Atmp_719143.data_713048.length-1) : -1);
var res_719151 = 0;
L3: do {
L4: while (true) {
if (!(res_719151 <= HEX3Atmp_719149)) break L4;
h_719147 = res_719151;
if (isfilled_639263(HEX3Atmp_719143.data_713048[chckIndx(h_719147, 0, HEX3Atmp_719143.data_713048.length)-0].Field0)) {
c_719124 = HEX3Atmp_719143.data_713048[chckIndx(h_719147, 0, HEX3Atmp_719143.data_713048.length)-0].Field2;
componentnodewillberemovedfromsceneview_717581(c_719124);
}

res_719151 = addInt(res_719151, 1);
}
} while(false);
} while(false);
} while(false);
}

if (!(n_719107.children_713054 == null)) {
L5: do {
var c_719141 = null;
var HEX3Atmp_719155 = null;
HEX3Atmp_719155 = n_719107.children_713054;
var i_719158 = 0;
var L_719160 = (HEX3Atmp_719155 != null ? HEX3Atmp_719155.length : 0);
L6: do {
L7: while (true) {
if (!(i_719158 < L_719160)) break L7;
c_719141 = HEX3Atmp_719155[chckIndx(i_719158, 0, HEX3Atmp_719155.length)-0];
nodewillberemovedfromsceneview_719105(c_719141);
i_719158 = addInt(i_719158, 1);
if (!(((HEX3Atmp_719155 != null ? HEX3Atmp_719155.length : 0) == L_719160))) {
failedassertimpl_14716(cstrToNimstr("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
}

n_719107.msceneview_713084 = null;
}
function nodewasaddedtosceneview_719161(n_719163, v_719164) {
n_719163.msceneview_713084 = v_719164;
if (!(n_719163.components_713052 == null)) {
L1: do {
var c_719181 = null;
var HEX3Atmp_719200 = null;
HEX3Atmp_719200 = n_719163.components_713052;
L2: do {
var h_719204 = 0;
var HEX3Atmp_719206 = 0;
HEX3Atmp_719206 = (HEX3Atmp_719200.data_713048 != null ? (HEX3Atmp_719200.data_713048.length-1) : -1);
var res_719208 = 0;
L3: do {
L4: while (true) {
if (!(res_719208 <= HEX3Atmp_719206)) break L4;
h_719204 = res_719208;
if (isfilled_639263(HEX3Atmp_719200.data_713048[chckIndx(h_719204, 0, HEX3Atmp_719200.data_713048.length)-0].Field0)) {
c_719181 = HEX3Atmp_719200.data_713048[chckIndx(h_719204, 0, HEX3Atmp_719200.data_713048.length)-0].Field2;
componentnodewasaddedtosceneview_717575(c_719181);
}

res_719208 = addInt(res_719208, 1);
}
} while(false);
} while(false);
} while(false);
}

if (!(n_719163.children_713054 == null)) {
L5: do {
var c_719198 = null;
var HEX3Atmp_719212 = null;
HEX3Atmp_719212 = n_719163.children_713054;
var i_719215 = 0;
var L_719217 = (HEX3Atmp_719212 != null ? HEX3Atmp_719212.length : 0);
L6: do {
L7: while (true) {
if (!(i_719215 < L_719217)) break L7;
c_719198 = HEX3Atmp_719212[chckIndx(i_719215, 0, HEX3Atmp_719212.length)-0];
nodewasaddedtosceneview_719161(c_719198, v_719164);
i_719215 = addInt(i_719215, 1);
if (!(((HEX3Atmp_719212 != null ? HEX3Atmp_719212.length : 0) == L_719217))) {
failedassertimpl_14716(cstrToNimstr("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
}

}
function rootnodeHEX3D_730008(v_730010, n_730011) {
if (!(v_730010.mrootnode_713092 == null)) {
nodewillberemovedfromsceneview_719105(v_730010.mrootnode_713092);
}

v_730010.mrootnode_713092 = n_730011;
nodewasaddedtosceneview_719161(n_730011, v_730010);
}
function newvector3_21136(x_21138, y_21139, z_21140) {
var result_21141 = [0.0, 0.0, 0.0];
nimCopy(result_21141, [x_21138, y_21139, z_21140], NTI21142);
return result_21141;
}
function newquaternion_711135() {
var result_711137 = [0.0, 0.0, 0.0, 0.0];
result_711137[3] = 1.0000000000000000e+00;
return result_711137;
}
function newnode_718001(name_718003) {
var result_718004 = null;
result_718004 = {translation_713023: [0.0, 0.0, 0.0], rotation_713024: [0.0, 0.0, 0.0, 0.0], scale_713025: [0.0, 0.0, 0.0], components_713052: null, children_713054: null, parent_713055: null, name_713056: null, animations_713083: null, msceneview_713084: null, alpha_713085: 0.0};
nimCopy(result_718004.scale_713025, newvector3_21136(1.0000000000000000e+00, 1.0000000000000000e+00, 1.0000000000000000e+00), NTI21068);
nimCopy(result_718004.rotation_713024, newquaternion_711135(), NTI21087);
result_718004.children_713054 = [];
result_718004.name_713056 = name_718003;
result_718004.alpha_713085 = 1.0000000000000000e+00;
return result_718004;
}
function delete_719269(x_719275, x_719275_Idx, i_719277) {
x_719275[x_719275_Idx].splice(i_719277, 1);}
function removechild_719218(n_719220, child_719221) {
L1: do {
var i_719255 = 0;
var c_719256 = null;
var HEX3Atmp_719811 = null;
HEX3Atmp_719811 = n_719220.children_713054;
var i_719814 = 0;
L2: do {
L3: while (true) {
if (!(i_719814 < (HEX3Atmp_719811 != null ? HEX3Atmp_719811.length : 0))) break L3;
i_719255 = i_719814;
c_719256 = HEX3Atmp_719811[chckIndx(i_719814, 0, HEX3Atmp_719811.length)-0];
if ((c_719256 == child_719221)) {
delete_719269(n_719220, "children_713054", chckRange(i_719255, 0, 2147483647));
break L1;
}

i_719814 = addInt(i_719814, 1);
}
} while(false);
} while(false);
}
function removefromparent_719852(n_719854) {
if (!(n_719854.parent_713055 == null)) {
if (!(n_719854.msceneview_713084 == null)) {
nodewillberemovedfromsceneview_719105(n_719854);
}

removechild_719218(n_719854.parent_713055, n_719854);
n_719854.parent_713055 = null;
}

}
function seqtoptr_719898(x_719903) {
return x_719903}
function HEX3DHEX3D_719887(x_719892, y_719895) {
var result_719896 = false;
BeforeRet: do {
if ((seqtoptr_719898(x_719892) == seqtoptr_719898(y_719895))) {
result_719896 = 1;
}
else {
if (((seqtoptr_719898(x_719892) == 0) || (seqtoptr_719898(y_719895) == 0))) {
result_719896 = 0;
}
else {
if (((x_719892 != null ? x_719892.length : 0) == (y_719895 != null ? y_719895.length : 0))) {
L1: do {
var i_719962 = 0;
var HEX3Atmp_719975 = 0;
HEX3Atmp_719975 = subInt((x_719892 != null ? x_719892.length : 0), 1);
var res_719978 = 0;
L2: do {
L3: while (true) {
if (!(res_719978 <= HEX3Atmp_719975)) break L3;
i_719962 = res_719978;
if (!((x_719892[chckIndx(i_719962, 0, x_719892.length)-0] == y_719895[chckIndx(i_719962, 0, y_719895.length)-0]))) {
result_719896 = 0;
break BeforeRet;
}

res_719978 = addInt(res_719978, 1);
}
} while(false);
} while(false);
result_719896 = 1;
}
}}
} while (false); 
return result_719896;
}
function safeadd_719876(x_719882, x_719882_Idx, y_719884) {
if (HEX3DHEX3D_719887(x_719882[x_719882_Idx], null)) {
x_719882[x_719882_Idx] = [y_719884];
}
else {
if (x_719882[x_719882_Idx] != null) { x_719882[x_719882_Idx].push(y_719884); } else { x_719882[x_719882_Idx] = [y_719884]; };
}

}
function addchild_719871(n_719873, c_719874) {
removefromparent_719852(c_719874);
safeadd_719876(n_719873, "children_713054", c_719874);
c_719874.parent_713055 = n_719873;
if (!(n_719873.msceneview_713084 == null)) {
nodewasaddedtosceneview_719161(c_719874, n_719873.msceneview_713084);
}

}
function newchild_720014(n_720016, childname_720017) {
var result_720018 = null;
result_720018 = newnode_718001(childname_720017);
addchild_719871(n_720016, result_720018);
return result_720018;
}
function inittable_718075(initialsize_718080) {
var result_718082 = {data_713048: null, counter_713051: 0};
if (!(ispoweroftwo_18625(initialsize_718080))) {
failedassertimpl_14716(cstrToNimstr("isPowerOfTwo(initialSize) "));
}

result_718082.counter_713051 = 0;
result_718082.data_713048 = new Array(chckRange(initialsize_718080, 0, 2147483647)); for (var i=0;i<chckRange(initialsize_718080, 0, 2147483647);++i) {result_718082.data_713048[i]={Field0: 0, Field1: null, Field2: null};}return result_718082;
}
function newtable_718058(initialsize_718063) {
var result_718065 = null;
result_718065 = {data_713048: null, counter_713051: 0};
nimCopy(result_718065, inittable_718075(initialsize_718063), NTI713034);
return result_718065;
}
function rawget_717503(t_717508, key_717510, hc_717512, hc_717512_Idx) {
var Tmp3;
var result_717513 = 0;
BeforeRet: do {
hc_717512[hc_717512_Idx] = hash_636827(key_717510);
if ((hc_717512[hc_717512_Idx] == 0)) {
hc_717512[hc_717512_Idx] = 314159265;
}

var h_717517 = (hc_717512[hc_717512_Idx] & (t_717508.data_717038 != null ? (t_717508.data_717038.length-1) : -1));
L1: do {
L2: while (true) {
if (!isfilled_639263(t_717508.data_717038[chckIndx(h_717517, 0, t_717508.data_717038.length)-0].Field0)) break L2;
if (!(t_717508.data_717038[chckIndx(h_717517, 0, t_717508.data_717038.length)-0].Field0 == hc_717512[hc_717512_Idx])) Tmp3 = false; else {Tmp3 = eqStrings(t_717508.data_717038[chckIndx(h_717517, 0, t_717508.data_717038.length)-0].Field1, key_717510); }if (Tmp3) {
result_717513 = h_717517;
break BeforeRet;
}

h_717517 = nexttry_639401(h_717517, (t_717508.data_717038 != null ? (t_717508.data_717038.length-1) : -1));
}
} while(false);
result_717513 = subInt(-1, h_717517);
} while (false); 
return result_717513;
}
function getordefault_717488(t_717494, key_717496) {
var result_717497 = null;
var hc_717499 = [0];
var index_717501 = rawget_717503(t_717494, key_717496, hc_717499, 0);
if ((0 <= index_717501)) {
result_717497 = t_717494.data_717038[chckIndx(index_717501, 0, t_717494.data_717038.length)-0].Field2;
}

return result_717497;
}
function createcomponent_717483(name_717485) {
var result_717486 = null;
var p_717522 = getordefault_717488(componentregistry_717211[0], name_717485);
if (!(p_717522 == null)) {
result_717486 = p_717522();
init_717011(result_717486);
}

if (result_717486 == null) {
var e_717541 = null;
e_717541 = {m_type: NTI3424, parent: null, name: null, message: null, trace: null};
e_717541.message = (cstrToNimstr("Component ").slice(0,-1)).concat(name_717485.slice(0,-1),cstrToNimstr(" is not registered"));
raiseException(e_717541, "Exception");
}

return result_717486;
}
function createcomponentfornode_718029(n_718031, name_718032) {
var result_718033 = null;
result_718033 = createcomponent_717483(name_718032);
result_718033.node_713088 = n_718031;
if (!(n_718031.msceneview_713084 == null)) {
componentnodewasaddedtosceneview_717575(result_718033);
}

return result_718033;
}
function rawget_718299(t_718304, key_718306, hc_718308, hc_718308_Idx) {
var Tmp3;
var result_718309 = 0;
BeforeRet: do {
hc_718308[hc_718308_Idx] = hash_636827(key_718306);
if ((hc_718308[hc_718308_Idx] == 0)) {
hc_718308[hc_718308_Idx] = 314159265;
}

var h_718313 = (hc_718308[hc_718308_Idx] & (t_718304.data_713048 != null ? (t_718304.data_713048.length-1) : -1));
L1: do {
L2: while (true) {
if (!isfilled_639263(t_718304.data_713048[chckIndx(h_718313, 0, t_718304.data_713048.length)-0].Field0)) break L2;
if (!(t_718304.data_713048[chckIndx(h_718313, 0, t_718304.data_713048.length)-0].Field0 == hc_718308[hc_718308_Idx])) Tmp3 = false; else {Tmp3 = eqStrings(t_718304.data_713048[chckIndx(h_718313, 0, t_718304.data_713048.length)-0].Field1, key_718306); }if (Tmp3) {
result_718309 = h_718313;
break BeforeRet;
}

h_718313 = nexttry_639401(h_718313, (t_718304.data_713048 != null ? (t_718304.data_713048.length-1) : -1));
}
} while(false);
result_718309 = subInt(-1, h_718313);
} while (false); 
return result_718309;
}
function rawgetknownhc_718380(t_718385, key_718387, hc_718389) {
var result_718390 = 0;
BeforeRet: do {
var h_718391 = (hc_718389 & (t_718385.data_713048 != null ? (t_718385.data_713048.length-1) : -1));
L1: do {
L2: while (true) {
if (!isfilled_639263(t_718385.data_713048[chckIndx(h_718391, 0, t_718385.data_713048.length)-0].Field0)) break L2;
if (((t_718385.data_713048[chckIndx(h_718391, 0, t_718385.data_713048.length)-0].Field0 == hc_718389) && eqStrings(t_718385.data_713048[chckIndx(h_718391, 0, t_718385.data_713048.length)-0].Field1, key_718387))) {
result_718390 = h_718391;
break BeforeRet;
}

h_718391 = nexttry_639401(h_718391, (t_718385.data_713048 != null ? (t_718385.data_713048.length-1) : -1));
}
} while(false);
result_718390 = subInt(-1, h_718391);
} while (false); 
return result_718390;
}
function rawinsert_718396(t_718403, data_718407, data_718407_Idx, key_718409, val_718411, hc_718413, h_718415) {
data_718407[data_718407_Idx][chckIndx(h_718415, 0, data_718407[data_718407_Idx].length)-0].Field1 = key_718409;
data_718407[data_718407_Idx][chckIndx(h_718415, 0, data_718407[data_718407_Idx].length)-0].Field2 = val_718411;
data_718407[data_718407_Idx][chckIndx(h_718415, 0, data_718407[data_718407_Idx].length)-0].Field0 = hc_718413;
}
function enlarge_718327(t_718334) {
var n_718338 = null;
n_718338 = new Array(chckRange(mulInt((t_718334.data_713048 != null ? t_718334.data_713048.length : 0), 2), 0, 2147483647)); for (var i=0;i<chckRange(mulInt((t_718334.data_713048 != null ? t_718334.data_713048.length : 0), 2), 0, 2147483647);++i) {n_718338[i]={Field0: 0, Field1: null, Field2: null};}var Tmp1 = t_718334.data_713048; t_718334.data_713048 = n_718338; n_718338 = Tmp1;L2: do {
var i_718378 = 0;
var HEX3Atmp_718419 = 0;
HEX3Atmp_718419 = (n_718338 != null ? (n_718338.length-1) : -1);
var res_718422 = 0;
L3: do {
L4: while (true) {
if (!(res_718422 <= HEX3Atmp_718419)) break L4;
i_718378 = res_718422;
if (isfilled_639263(n_718338[chckIndx(i_718378, 0, n_718338.length)-0].Field0)) {
var j_718394 = subInt(-1, rawgetknownhc_718380(t_718334, n_718338[chckIndx(i_718378, 0, n_718338.length)-0].Field1, n_718338[chckIndx(i_718378, 0, n_718338.length)-0].Field0));
rawinsert_718396(t_718334, t_718334, "data_713048", n_718338[chckIndx(i_718378, 0, n_718338.length)-0].Field1, n_718338[chckIndx(i_718378, 0, n_718338.length)-0].Field2, n_718338[chckIndx(i_718378, 0, n_718338.length)-0].Field0, j_718394);
}

res_718422 = addInt(res_718422, 1);
}
} while(false);
} while(false);
}
function HEX5BHEX5DHEX3D_718285(t_718292, key_718294, val_718296) {
var hc_718297 = [0];
var index_718317 = rawget_718299(t_718292, key_718294, hc_718297, 0);
if ((0 <= index_718317)) {
t_718292.data_713048[chckIndx(index_718317, 0, t_718292.data_713048.length)-0].Field2 = val_718296;
}
else {
if (mustrehash_639268((t_718292.data_713048 != null ? t_718292.data_713048.length : 0), t_718292.counter_713051)) {
enlarge_718327(t_718292);
index_718317 = rawgetknownhc_718380(t_718292, key_718294, hc_718297[0]);
}

index_718317 = subInt(-1, index_718317);
rawinsert_718396(t_718292, t_718292, "data_713048", key_718294, val_718296, hc_718297[0], index_718317);
t_718292.counter_713051 = addInt(t_718292.counter_713051, 1);
}

}
function HEX5BHEX5DHEX3D_718485(t_718491, key_718493, val_718495) {
HEX5BHEX5DHEX3D_718285(t_718491, key_718493, val_718495);
}
function getordefault_718522(t_718528, key_718530) {
var result_718531 = null;
var hc_718533 = [0];
var index_718535 = rawget_718299(t_718528, key_718530, hc_718533, 0);
if ((0 <= index_718535)) {
result_718531 = t_718528.data_713048[chckIndx(index_718535, 0, t_718528.data_713048.length)-0].Field2;
}

return result_718531;
}
function getordefault_718511(t_718517, key_718519) {
var result_718520 = null;
result_718520 = getordefault_718522(t_718517, key_718519);
return result_718520;
}
function component_718042(n_718044, name_718045) {
var result_718046 = null;
if (n_718044.components_713052 == null) {
n_718044.components_713052 = newtable_718058(64);
result_718046 = createcomponentfornode_718029(n_718044, name_718045);
HEX5BHEX5DHEX3D_718485(n_718044.components_713052, name_718045, result_718046);
}
else {
result_718046 = getordefault_718511(n_718044.components_713052, name_718045);
if (result_718046 == null) {
result_718046 = createcomponentfornode_718029(n_718044, name_718045);
HEX5BHEX5DHEX3D_718485(n_718044.components_713052, name_718045, result_718046);
}

}

return result_718046;
}
function component_797628(n_797632) {
var result_797635 = null;
result_797635 = component_718042(n_797632, cstrToNimstr("Camera"));
return result_797635;
}
function component_795230(n_795234) {
var result_795237 = null;
result_795237 = component_718042(n_795234, cstrToNimstr("MeshComponent"));
return result_795237;
}
function component_797667(n_797671) {
var result_797674 = null;
result_797674 = component_718042(n_797671, cstrToNimstr("LightSource"));
return result_797674;
}
function lightambientHEX3D_736003(ls_736005, val_736006) {
ls_736005.mlightambient_713148 = val_736006;
ls_736005.lightambientinited_713156 = 1;
}
function lightdiffuseHEX3D_736007(ls_736009, val_736010) {
ls_736009.mlightdiffuse_713149 = val_736010;
ls_736009.lightdiffuseinited_713157 = 1;
}
function lightspecularHEX3D_736011(ls_736013, val_736014) {
ls_736013.mlightspecular_713150 = val_736014;
ls_736013.lightspecularinited_713158 = 1;
}
function lightconstantHEX3D_736015(ls_736017, val_736018) {
ls_736017.mlightconstant_713151 = val_736018;
ls_736017.lightconstantinited_713159 = 1;
}
function lightlinearHEX3D_736019(ls_736021, val_736022) {
ls_736021.mlightlinear_713152 = val_736022;
ls_736021.lightlinearinited_713160 = 1;
}
function lightquadraticHEX3D_736023(ls_736025, val_736026) {
ls_736025.mlightquadratic_713153 = val_736026;
ls_736025.lightquadraticinited_713161 = 1;
}
function setdefaultlightsource_736052(ls_736054) {
lightambientHEX3D_736003(ls_736054, 2.0000000000000001e-01);
lightdiffuseHEX3D_736007(ls_736054, 2.9999999999999999e-01);
lightspecularHEX3D_736011(ls_736054, 5.0000000000000000e-01);
lightconstantHEX3D_736015(ls_736054, 1.0000000000000000e+00);
lightlinearHEX3D_736019(ls_736054, 1.4000000000000000e-05);
lightquadraticHEX3D_736023(ls_736054, 7.0000000000000005e-08);
ls_736054.lightattenuationinited_713162 = 0;
}
function new_676225() {
var result_676230 = null;
BeforeRet: do {
var r_676401 = null;
r_676401 = {m_type: NTI676203, view_676205: null, pos_676206: 0, closeimpl_660222: null, atendimpl_660226: null, setpositionimpl_660231: null, getpositionimpl_660235: null, readdataimpl_660241: null, peekdataimpl_660247: null, writedataimpl_660253: null, flushimpl_660257: null};
result_676230 = r_676401;
break BeforeRet;
} while (false); 
return result_676230;
}
function abreaddata_676208(st_676210, buffer_676211, buffer_676211_Idx, buflen_676212) {
var result_676213 = 0;
var s_676214 = st_676210;
var oldpos_676215 = s_676214.pos_676206;
var view_676216 = s_676214.view_676205;
var newpos_676217 = oldpos_676215;
    if (view_676216.byteLength == oldpos_676215) {
        return 0;
    }
    if (buffer_676211.length == 1) {
        if (buffer_676211[0] === 0) {
            if (buflen_676212 == 1) {
                // Int8 or char is expected
                buffer_676211[buffer_676211_Idx] = view_676216.getInt8(oldpos_676215);
                newpos_676217 += 1;
                result_676213 = 1;
                ok = true;
            }
            else if (buflen_676212 == 2) {
                // Int16 is expected
                buffer_676211[buffer_676211_Idx] = view_676216.getInt16(oldpos_676215);
                newpos_676217 += 2;
                result_676213 = 2;
                ok = true;
            }
            else if (buflen_676212 == 4) {
                // Int32 of Float32 expected
                buffer_676211[buffer_676211_Idx] = view_676216.getInt32(oldpos_676215);
                newpos_676217 += 4;
                result_676213 = 4;
                ok = true;
            }
        }
        else if (buffer_676211[0] === 0.0) {
            if (buflen_676212 == 4) {
                console.log("Reading float32")
                buffer_676211[buffer_676211_Idx] = view_676216.getFloat32(oldpos_676215);
                newpos_676217 += 4;
                result_676213 = 4;
                ok = true;
            }
            else if (buflen_676212 == 8) {
                console.log("Reading float64")
                buffer_676211[buffer_676211_Idx] = view_676216.getFloat64(oldpos_676215);
                newpos_676217 += 8;
                result_676213 = 8;
                ok = true;
            }
        }
    }
  else if (buffer_676211.length - 1 == buflen_676212 + buffer_676211_Idx) {
        // String is expected
        var toRead = buflen_676212;
        if (oldpos_676215 + buflen_676212 >= view_676216.byteLength) buflen_676212 = view_676216.byteLength - oldpos_676215;
        for (var i = 0; i < buflen_676212; ++i) {
            buffer_676211[i + buffer_676211_Idx] = view_676216.getInt8(oldpos_676215 + i);
        }
        newpos_676217 += buflen_676212;
        result_676213 = buflen_676212;
        ok = true;
    }

    if (!ok) {
        console.log("buf type: ", typeof(buffer_676211))
        console.log("buf: ", buffer_676211);
        console.log("idx: ", buffer_676211_Idx);
        console.log("len: ", buflen_676212);
    }
    s_676214.pos_676206 = newpos_676217;
return result_676213;
}
function newstreamwithdataview_676218(v_676221) {
var result_676222 = null;
var r_676410 = new_676225();
r_676410.view_676205 = v_676221;
r_676410.readdataimpl_660241 = abreaddata_676208;
result_676222 = r_676410;
return result_676222;
}
function loadresourceasync_677401(resourcename_677403, handler_677407) {
function HEX3Aanonymous_677601(data_677604) {
var dataview_677606 = null;
dataview_677606 = new DataView(data_677604);handler_677407(newstreamwithdataview_676218(dataview_677606));
}
var reqlistener_677608 = HEX3Aanonymous_677601;
loadjsresourceasync_677204(resourcename_677403, "arraybuffer", null, null, reqlistener_677608);
}
function newseq_681236(len_681240) {
var result_681242 = null;
result_681242 = new Array(len_681240); for (var i=0;i<len_681240;++i) {result_681242[i]=null;}return result_681242;
}
function newseq_692050(len_692054) {
var result_692056 = null;
result_692056 = new Array(len_692054); for (var i=0;i<len_692054;++i) {result_692056[i]=0.0;}return result_692056;
}
function newseq_779334(len_779338) {
var result_779340 = null;
result_779340 = new Array(len_779338); for (var i=0;i<len_779338;++i) {result_779340[i]=null;}return result_779340;
}
function newseq_779372(len_779376) {
var result_779378 = null;
result_779378 = new Array(len_779376); for (var i=0;i<len_779376;++i) {result_779378[i]={name_779011: null, emission_779014: [0.0, 0.0, 0.0, 0.0], ambient_779017: [0.0, 0.0, 0.0, 0.0], diffuse_779020: [0.0, 0.0, 0.0, 0.0], specular_779023: [0.0, 0.0, 0.0, 0.0], shininess_779024: 0.0, reflective_779027: [0.0, 0.0, 0.0, 0.0], reflectivity_779028: 0.0, transparent_779031: [0.0, 0.0, 0.0, 0.0], transparency_779032: 0.0, diffusetexturename_779033: null, speculartexturename_779034: null, reflectivetexturename_779035: null, transparentstexturename_779036: null};}return result_779378;
}
function newseq_779410(len_779414) {
var result_779416 = null;
result_779416 = new Array(len_779414); for (var i=0;i<len_779414;++i) {result_779416[i]={name_779039: null, location_779040: null};}return result_779416;
}
function newcolladascene_779226() {
var result_779228 = null;
result_779228 = {name_779212: null, childnodesnames_779214: null, childnodesmatrices_779216: null, childnodesalpha_779218: null, childnodesgeometry_779220: null, childnodesmaterial_779222: null, childnodesimages_779224: null};
result_779228.childnodesnames_779214 = newseq_681236(0);
result_779228.childnodesmatrices_779216 = newseq_681236(0);
result_779228.childnodesalpha_779218 = newseq_692050(0);
result_779228.childnodesgeometry_779220 = newseq_779334(0);
result_779228.childnodesmaterial_779222 = newseq_779372(0);
result_779228.childnodesimages_779224 = newseq_779410(0);
return result_779228;
}
function divInt(a_12471, b_12472) {
    if (b_12472 == 0) raiseDivByZero();
    if (b_12472 == -1 && a_12471 == 2147483647) raiseOverflow();
    return Math.floor(a_12471 / b_12472);
  }
function readdata_660311(s_660313, buffer_660314, buffer_660314_Idx, buflen_660315) {
var result_660316 = 0;
result_660316 = s_660313.readdataimpl_660241(s_660313, buffer_660314, buffer_660314_Idx, buflen_660315);
return result_660316;
}
function fillbuffer_662201(L_662204) {
var Tmp9;
var charsread_662205 = 0;
var tocopy_662206 = 0;
var s_662207 = 0;
var oldbuflen_662208 = 0;
if (!((L_662204.sentinel_662011 < L_662204.buflen_662008))) {
failedassertimpl_14716(cstrToNimstr("L.sentinel < L.bufLen "));
}

tocopy_662206 = subInt(subInt(L_662204.buflen_662008, L_662204.sentinel_662011), 1);
if (!((0 <= tocopy_662206))) {
failedassertimpl_14716(cstrToNimstr("\x0A  0 <= toCopy "));
}

if ((0 < tocopy_662206)) {
L1: do {
var i_662826 = 0;
var HEX3Atmp_663407 = {a_14056: 0, b_14058: 0};
HEX3Atmp_663407 = HEX2EHEX2E_31611(0, subInt(tocopy_662206, 1));
L2: do {
var x_663411 = 0;
var HEX3Atmp_663413 = 0;
var HEX3Atmp_663415 = 0;
HEX3Atmp_663413 = HEX3Atmp_663407.a_14056;
HEX3Atmp_663415 = HEX3Atmp_663407.b_14058;
var res_663417 = HEX3Atmp_663413;
L3: do {
L4: while (true) {
if (!(res_663417 <= HEX3Atmp_663415)) break L4;
x_663411 = res_663417;
i_662826 = x_663411;
L_662204.buf_662007[chckIndx(i_662826, 0, L_662204.buf_662007.length)-0] = L_662204.buf_662007[chckIndx(addInt(addInt(L_662204.sentinel_662011, 1), i_662826), 0, L_662204.buf_662007.length)-0];
res_663417 = addInt(res_663417, 1);
}
} while(false);
} while(false);
} while(false);
}

charsread_662205 = divInt(readdata_660311(L_662204.input_662009, L_662204.buf_662007, chckIndx(tocopy_662206, 0, L_662204.buf_662007.length)-0, mulInt(addInt(L_662204.sentinel_662011, 1), 1)), 1);
s_662207 = addInt(tocopy_662206, charsread_662205);
if ((charsread_662205 < addInt(L_662204.sentinel_662011, 1))) {
L_662204.buf_662007[chckIndx(s_662207, 0, L_662204.buf_662007.length)-0] = 0;
L_662204.sentinel_662011 = s_662207;
}
else {
s_662207 = subInt(s_662207, 1);
L5: do {
L6: while (true) {
if (!1) break L6;
if (!((s_662207 < L_662204.buflen_662008))) {
failedassertimpl_14716(cstrToNimstr("s < L.bufLen "));
}

L7: do {
L8: while (true) {
if (!(0 <= s_662207)) Tmp9 = false; else {Tmp9 = !((L_662204.refillchars_662014[L_662204.buf_662007[chckIndx(s_662207, 0, L_662204.buf_662007.length)-0]] != undefined)); }if (!Tmp9) break L8;
s_662207 = subInt(s_662207, 1);
}
} while(false);
if ((0 <= s_662207)) {
L_662204.sentinel_662011 = s_662207;
break L5;
}
else {
oldbuflen_662208 = L_662204.buflen_662008;
L_662204.buflen_662008 = mulInt(L_662204.buflen_662008, 2);
L_662204.buf_662007.length = chckRange(L_662204.buflen_662008, 0, 2147483647)+1; L_662204.buf_662007[L_662204.buf_662007.length-1] = 0;
if (!((subInt(L_662204.buflen_662008, oldbuflen_662208) == oldbuflen_662208))) {
failedassertimpl_14716(cstrToNimstr("L.bufLen - oldBufLen == oldBufLen "));
}

charsread_662205 = divInt(readdata_660311(L_662204.input_662009, L_662204.buf_662007, chckIndx(oldbuflen_662208, 0, L_662204.buf_662007.length)-0, mulInt(oldbuflen_662208, 1)), 1);
if ((charsread_662205 < oldbuflen_662208)) {
L_662204.buf_662007[chckIndx(addInt(oldbuflen_662208, charsread_662205), 0, L_662204.buf_662007.length)-0] = 0;
L_662204.sentinel_662011 = addInt(oldbuflen_662208, charsread_662205);
break L5;
}

s_662207 = subInt(L_662204.buflen_662008, 1);
}

}
} while(false);
}

}
function skiputf8bom_664201(L_664204) {
var Tmp1;
var Tmp2;
if (!(L_664204.buf_662007[0] == 239)) Tmp2 = false; else {Tmp2 = (L_664204.buf_662007[1] == 187); }if (!Tmp2) Tmp1 = false; else {Tmp1 = (L_664204.buf_662007[2] == 191); }if (Tmp1) {
L_664204.bufpos_662006 = addInt(L_664204.bufpos_662006, 3);
L_664204.linestart_662012 = addInt(L_664204.linestart_662012, 3);
}

}
function open_664223(L_664226, input_664227, buflen_664229, refillchars_664231) {
if (!((0 < buflen_664229))) {
failedassertimpl_14716(cstrToNimstr("\x0A  0 < bufLen "));
}

if (!(!((input_664227 == null)))) {
failedassertimpl_14716(cstrToNimstr("\x0A  not (input == nil) "));
}

L_664226.input_662009 = input_664227;
L_664226.bufpos_662006 = 0;
L_664226.buflen_662008 = buflen_664229;
nimCopy(L_664226.refillchars_662014, refillchars_664231, NTI664230);
L_664226.buf_662007 = mnewString(chckRange(buflen_664229, 0, 2147483647));
L_664226.sentinel_662011 = subInt(buflen_664229, 1);
L_664226.linestart_662012 = 0;
L_664226.linenumber_662010 = 1;
fillbuffer_662201(L_664226);
skiputf8bom_664201(L_664226);
}
function open_777066(my_777069, input_777070, filename_777071, options_777075) {
open_664223(my_777069, input_777070, 8192, SetConstr(13, 10, 47));
my_777069.filename_777053 = filename_777071;
my_777069.state_777052 = 0;
my_777069.kind_777050 = 0;
my_777069.a_777047 = cstrToNimstr("");
my_777069.b_777048 = cstrToNimstr("");
my_777069.c_777049 = null;
nimCopy(my_777069.options_777055, options_777075, NTI777072);
}
function fillbaselexer_663423(L_663426, pos_663427) {
var result_663428 = 0;
if (!((pos_663427 <= L_663426.sentinel_662011))) {
failedassertimpl_14716(cstrToNimstr("pos <= L.sentinel "));
}

if ((pos_663427 < L_663426.sentinel_662011)) {
result_663428 = addInt(pos_663427, 1);
}
else {
fillbuffer_662201(L_663426);
L_663426.bufpos_662006 = 0;
result_663428 = 0;
}

return result_663428;
}
function handlerefillchar_664010(L_664013, pos_664014) {
var result_664015 = 0;
if (!((L_664013.refillchars_662014[L_664013.buf_662007[chckIndx(pos_664014, 0, L_664013.buf_662007.length)-0]] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains(L.refillChars, L.buf[pos]) "));
}

result_664015 = fillbaselexer_663423(L_664013, pos_664014);
return result_664015;
}
function addChar(x_13380, c_13381) {
    x_13380[x_13380.length-1] = c_13381; x_13380.push(0);
  }
function markerror_777217(my_777220, kind_777221) {
my_777220.err_777051 = kind_777221;
my_777220.state_777052 = 4;
}
function parsename_777361(my_777364, dest_777366, dest_777366_Idx) {
var pos_777367 = my_777364.bufpos_662006;
var buf_777368 = my_777364.buf_662007;
if ((SetConstr([65, 90], [97, 122], 95, 58, [128, 255])[buf_777368[chckIndx(pos_777367, 0, buf_777368.length)-0]] != undefined)) {
L1: do {
L2: while (true) {
if (!1) break L2;
if (dest_777366[dest_777366_Idx] != null) { addChar(dest_777366[dest_777366_Idx], buf_777368[chckIndx(pos_777367, 0, buf_777368.length)-0]); } else { dest_777366[dest_777366_Idx] = [buf_777368[chckIndx(pos_777367, 0, buf_777368.length)-0], 0]; };
pos_777367 = addInt(pos_777367, 1);
if (!((SetConstr([65, 90], [97, 122], [48, 57], 46, 45, 95, 58, [128, 255])[buf_777368[chckIndx(pos_777367, 0, buf_777368.length)-0]] != undefined))) {
break L1;
}

}
} while(false);
my_777364.bufpos_662006 = pos_777367;
}
else {
markerror_777217(my_777364, 2);
}

}
function handlecr_663601(L_663604, pos_663605) {
var result_663606 = 0;
if (!((L_663604.buf_662007[chckIndx(pos_663605, 0, L_663604.buf_662007.length)-0] == 13))) {
failedassertimpl_14716(cstrToNimstr("L.buf[pos] == \'\\x0D\' "));
}

L_663604.linenumber_662010 = addInt(L_663604.linenumber_662010, 1);
result_663606 = fillbaselexer_663423(L_663604, pos_663605);
if ((L_663604.buf_662007[chckIndx(result_663606, 0, L_663604.buf_662007.length)-0] == 10)) {
result_663606 = fillbaselexer_663423(L_663604, result_663606);
}

L_663604.linestart_662012 = result_663606;
return result_663606;
}
function handlelf_663810(L_663813, pos_663814) {
var result_663815 = 0;
if (!((L_663813.buf_662007[chckIndx(pos_663814, 0, L_663813.buf_662007.length)-0] == 10))) {
failedassertimpl_14716(cstrToNimstr("L.buf[pos] == \'\\x0A\' "));
}

L_663813.linenumber_662010 = addInt(L_663813.linenumber_662010, 1);
result_663815 = fillbaselexer_663423(L_663813, pos_663814);
L_663813.linestart_662012 = result_663815;
return result_663815;
}
function parsewhitespace_777340(my_777343, skip_777344) {
var pos_777345 = my_777343.bufpos_662006;
var buf_777346 = my_777343.buf_662007;
L1: do {
L2: while (true) {
if (!1) break L2;
switch (buf_777346[chckIndx(pos_777345, 0, buf_777346.length)-0]) {
case 32: case 9: if (!(skip_777344)) {
if (my_777343.a_777047 != null) { addChar(my_777343.a_777047, buf_777346[chckIndx(pos_777345, 0, buf_777346.length)-0]); } else { my_777343.a_777047 = [buf_777346[chckIndx(pos_777345, 0, buf_777346.length)-0], 0]; };
}

pos_777345 = addInt(pos_777345, 1);

break;
case 13: pos_777345 = handlecr_663601(my_777343, pos_777345);
buf_777346 = my_777343.buf_662007;
if (!(skip_777344)) {
if (my_777343.a_777047 != null) { addChar(my_777343.a_777047, 10); } else { my_777343.a_777047 = [10, 0]; };
}


break;
case 10: pos_777345 = handlelf_663810(my_777343, pos_777345);
buf_777346 = my_777343.buf_662007;
if (!(skip_777344)) {
if (my_777343.a_777047 != null) { addChar(my_777343.a_777047, 10); } else { my_777343.a_777047 = [10, 0]; };
}


break;
default: 
break L1;
break;
}
}
} while(false);
my_777343.bufpos_662006 = pos_777345;
}
function parseendtag_777743(my_777746) {
my_777746.bufpos_662006 = handlerefillchar_664010(my_777746, addInt(my_777746.bufpos_662006, 1));
parsename_777361(my_777746, my_777746, "a_777047");
parsewhitespace_777340(my_777746, 1);
if ((my_777746.buf_662007[chckIndx(my_777746.bufpos_662006, 0, my_777746.buf_662007.length)-0] == 62)) {
my_777746.bufpos_662006 = addInt(my_777746.bufpos_662006, 1);
}
else {
markerror_777217(my_777746, 5);
}

my_777746.kind_777050 = 7;
}
function parsecdata_777222(my_777225) {
var pos_777226 = addInt(my_777225.bufpos_662006, 9);
var buf_777227 = my_777225.buf_662007;
L1: do {
L2: while (true) {
if (!1) break L2;
switch (buf_777227[chckIndx(pos_777226, 0, buf_777227.length)-0]) {
case 93: if (((buf_777227[chckIndx(addInt(pos_777226, 1), 0, buf_777227.length)-0] == 93) && (buf_777227[chckIndx(addInt(pos_777226, 2), 0, buf_777227.length)-0] == 62))) {
pos_777226 = addInt(pos_777226, 3);
break L1;
}

if (my_777225.a_777047 != null) { addChar(my_777225.a_777047, 93); } else { my_777225.a_777047 = [93, 0]; };
pos_777226 = addInt(pos_777226, 1);

break;
case 0: markerror_777217(my_777225, 1);
break L1;

break;
case 13: pos_777226 = handlecr_663601(my_777225, pos_777226);
buf_777227 = my_777225.buf_662007;
if (my_777225.a_777047 != null) { addChar(my_777225.a_777047, 10); } else { my_777225.a_777047 = [10, 0]; };

break;
case 10: pos_777226 = handlelf_663810(my_777225, pos_777226);
buf_777227 = my_777225.buf_662007;
if (my_777225.a_777047 != null) { addChar(my_777225.a_777047, 10); } else { my_777225.a_777047 = [10, 0]; };

break;
case 47: pos_777226 = handlerefillchar_664010(my_777225, pos_777226);
buf_777227 = my_777225.buf_662007;
if (my_777225.a_777047 != null) { addChar(my_777225.a_777047, 47); } else { my_777225.a_777047 = [47, 0]; };

break;
default: 
if (my_777225.a_777047 != null) { addChar(my_777225.a_777047, buf_777227[chckIndx(pos_777226, 0, buf_777227.length)-0]); } else { my_777225.a_777047 = [buf_777227[chckIndx(pos_777226, 0, buf_777227.length)-0], 0]; };
pos_777226 = addInt(pos_777226, 1);
break;
}
}
} while(false);
my_777225.bufpos_662006 = pos_777226;
my_777225.kind_777050 = 11;
}
function parsecomment_777256(my_777259) {
var pos_777260 = addInt(my_777259.bufpos_662006, 4);
var buf_777261 = my_777259.buf_662007;
L1: do {
L2: while (true) {
if (!1) break L2;
switch (buf_777261[chckIndx(pos_777260, 0, buf_777261.length)-0]) {
case 45: if (((buf_777261[chckIndx(addInt(pos_777260, 1), 0, buf_777261.length)-0] == 45) && (buf_777261[chckIndx(addInt(pos_777260, 2), 0, buf_777261.length)-0] == 62))) {
pos_777260 = addInt(pos_777260, 3);
break L1;
}

if ((my_777259.options_777055[1] != undefined)) {
if (my_777259.a_777047 != null) { addChar(my_777259.a_777047, 45); } else { my_777259.a_777047 = [45, 0]; };
}

pos_777260 = addInt(pos_777260, 1);

break;
case 0: markerror_777217(my_777259, 8);
break L1;

break;
case 13: pos_777260 = handlecr_663601(my_777259, pos_777260);
buf_777261 = my_777259.buf_662007;
if ((my_777259.options_777055[1] != undefined)) {
if (my_777259.a_777047 != null) { addChar(my_777259.a_777047, 10); } else { my_777259.a_777047 = [10, 0]; };
}


break;
case 10: pos_777260 = handlelf_663810(my_777259, pos_777260);
buf_777261 = my_777259.buf_662007;
if ((my_777259.options_777055[1] != undefined)) {
if (my_777259.a_777047 != null) { addChar(my_777259.a_777047, 10); } else { my_777259.a_777047 = [10, 0]; };
}


break;
case 47: pos_777260 = handlerefillchar_664010(my_777259, pos_777260);
buf_777261 = my_777259.buf_662007;
if ((my_777259.options_777055[1] != undefined)) {
if (my_777259.a_777047 != null) { addChar(my_777259.a_777047, 47); } else { my_777259.a_777047 = [47, 0]; };
}


break;
default: 
if ((my_777259.options_777055[1] != undefined)) {
if (my_777259.a_777047 != null) { addChar(my_777259.a_777047, buf_777261[chckIndx(pos_777260, 0, buf_777261.length)-0]); } else { my_777259.a_777047 = [buf_777261[chckIndx(pos_777260, 0, buf_777261.length)-0], 0]; };
}

pos_777260 = addInt(pos_777260, 1);
break;
}
}
} while(false);
my_777259.bufpos_662006 = pos_777260;
my_777259.kind_777050 = 4;
}
function parsespecial_777638(my_777641) {
var pos_777642 = addInt(my_777641.bufpos_662006, 2);
var buf_777643 = my_777641.buf_662007;
var opentags_777644 = 0;
L1: do {
L2: while (true) {
if (!1) break L2;
switch (buf_777643[chckIndx(pos_777642, 0, buf_777643.length)-0]) {
case 0: markerror_777217(my_777641, 5);
break L1;

break;
case 60: opentags_777644 = addInt(opentags_777644, 1);
pos_777642 = addInt(pos_777642, 1);
if (my_777641.a_777047 != null) { addChar(my_777641.a_777047, 60); } else { my_777641.a_777047 = [60, 0]; };

break;
case 62: if ((opentags_777644 <= 0)) {
pos_777642 = addInt(pos_777642, 1);
break L1;
}

opentags_777644 = subInt(opentags_777644, 1);
pos_777642 = addInt(pos_777642, 1);
if (my_777641.a_777047 != null) { addChar(my_777641.a_777047, 62); } else { my_777641.a_777047 = [62, 0]; };

break;
case 13: pos_777642 = handlecr_663601(my_777641, pos_777642);
buf_777643 = my_777641.buf_662007;
if (my_777641.a_777047 != null) { addChar(my_777641.a_777047, 10); } else { my_777641.a_777047 = [10, 0]; };

break;
case 10: pos_777642 = handlelf_663810(my_777641, pos_777642);
buf_777643 = my_777641.buf_662007;
if (my_777641.a_777047 != null) { addChar(my_777641.a_777047, 10); } else { my_777641.a_777047 = [10, 0]; };

break;
case 47: pos_777642 = handlerefillchar_664010(my_777641, pos_777642);
buf_777643 = my_777641.buf_662007;
if (my_777641.b_777048 != null) { addChar(my_777641.b_777048, 47); } else { my_777641.b_777048 = [47, 0]; };

break;
default: 
if (my_777641.a_777047 != null) { addChar(my_777641.a_777047, buf_777643[chckIndx(pos_777642, 0, buf_777643.length)-0]); } else { my_777641.a_777047 = [buf_777643[chckIndx(pos_777642, 0, buf_777643.length)-0], 0]; };
pos_777642 = addInt(pos_777642, 1);
break;
}
}
} while(false);
my_777641.bufpos_662006 = pos_777642;
my_777641.kind_777050 = 13;
}
function parsepi_777594(my_777597) {
my_777597.bufpos_662006 = addInt(my_777597.bufpos_662006, 2);
parsename_777361(my_777597, my_777597, "a_777047");
var pos_777608 = my_777597.bufpos_662006;
var buf_777609 = my_777597.buf_662007;
my_777597.b_777048.length = 0+1; my_777597.b_777048[my_777597.b_777048.length-1] = 0;
L1: do {
L2: while (true) {
if (!1) break L2;
switch (buf_777609[chckIndx(pos_777608, 0, buf_777609.length)-0]) {
case 0: markerror_777217(my_777597, 4);
break L1;

break;
case 63: if ((buf_777609[chckIndx(addInt(pos_777608, 1), 0, buf_777609.length)-0] == 62)) {
pos_777608 = addInt(pos_777608, 2);
break L1;
}

if (my_777597.b_777048 != null) { addChar(my_777597.b_777048, 63); } else { my_777597.b_777048 = [63, 0]; };
pos_777608 = addInt(pos_777608, 1);

break;
case 13: pos_777608 = handlecr_663601(my_777597, pos_777608);
buf_777609 = my_777597.buf_662007;
if (my_777597.b_777048 != null) { addChar(my_777597.b_777048, 10); } else { my_777597.b_777048 = [10, 0]; };

break;
case 10: pos_777608 = handlelf_663810(my_777597, pos_777608);
buf_777609 = my_777597.buf_662007;
if (my_777597.b_777048 != null) { addChar(my_777597.b_777048, 10); } else { my_777597.b_777048 = [10, 0]; };

break;
case 47: pos_777608 = handlerefillchar_664010(my_777597, pos_777608);
buf_777609 = my_777597.buf_662007;
if (my_777597.b_777048 != null) { addChar(my_777597.b_777048, 47); } else { my_777597.b_777048 = [47, 0]; };

break;
default: 
if (my_777597.b_777048 != null) { addChar(my_777597.b_777048, buf_777609[chckIndx(pos_777608, 0, buf_777609.length)-0]); } else { my_777597.b_777048 = [buf_777609[chckIndx(pos_777608, 0, buf_777609.length)-0], 0]; };
pos_777608 = addInt(pos_777608, 1);
break;
}
}
} while(false);
my_777597.bufpos_662006 = pos_777608;
my_777597.kind_777050 = 5;
}
function parsetag_777700(my_777703) {
var Tmp1;
BeforeRet: do {
my_777703.bufpos_662006 = addInt(my_777703.bufpos_662006, 1);
parsename_777361(my_777703, my_777703, "a_777047");
if (((my_777703.a_777047 != null ? my_777703.a_777047.length-1 : 0) == 0)) {
my_777703.kind_777050 = 2;
if (my_777703.a_777047 != null) { addChar(my_777703.a_777047, 60); } else { my_777703.a_777047 = [60, 0]; };
break BeforeRet;
}

parsewhitespace_777340(my_777703, 1);
if ((SetConstr([65, 90], [97, 122], 95, 58, [128, 255])[my_777703.buf_662007[chckIndx(my_777703.bufpos_662006, 0, my_777703.buf_662007.length)-0]] != undefined)) {
my_777703.kind_777050 = 8;
my_777703.state_777052 = 2;
my_777703.c_777049 = my_777703.a_777047;
}
else {
my_777703.kind_777050 = 6;
var slash_777724 = (my_777703.buf_662007[chckIndx(my_777703.bufpos_662006, 0, my_777703.buf_662007.length)-0] == 47);
if (slash_777724) {
my_777703.bufpos_662006 = handlerefillchar_664010(my_777703, my_777703.bufpos_662006);
}

if (!slash_777724) Tmp1 = false; else {Tmp1 = (my_777703.buf_662007[chckIndx(my_777703.bufpos_662006, 0, my_777703.buf_662007.length)-0] == 62); }if (Tmp1) {
my_777703.bufpos_662006 = addInt(my_777703.bufpos_662006, 1);
my_777703.state_777052 = 3;
my_777703.c_777049 = null;
}
else {
if ((my_777703.buf_662007[chckIndx(my_777703.bufpos_662006, 0, my_777703.buf_662007.length)-0] == 62)) {
my_777703.bufpos_662006 = addInt(my_777703.bufpos_662006, 1);
}
else {
markerror_777217(my_777703, 5);
}
}
}

} while (false); 
}
function leU(a_12522, b_12523) {
var result_12524 = false;
result_12524 = (Math.abs(a_12522) <= Math.abs(b_12523));
return result_12524;
}
function nuctoUTF8(c_622010) {
var result_622011 = null;
var i_622012 = c_622010;
if (leU(i_622012, 127)) {
result_622011 = mnewString(1);
result_622011[0] = chckRange(i_622012, 0, 255);
}
else {
if (leU(i_622012, 2047)) {
result_622011 = mnewString(2);
result_622011[0] = chckRange(((i_622012 >>> 6) | 192), 0, 255);
result_622011[1] = chckRange(((i_622012 & 63) | 128), 0, 255);
}
else {
if (leU(i_622012, 65535)) {
result_622011 = mnewString(3);
result_622011[0] = chckRange(((i_622012 >>> 12) | 224), 0, 255);
result_622011[1] = chckRange((((i_622012 >>> 6) & 63) | 128), 0, 255);
result_622011[2] = chckRange(((i_622012 & 63) | 128), 0, 255);
}
else {
if (leU(i_622012, 2097151)) {
result_622011 = mnewString(4);
result_622011[0] = chckRange(((i_622012 >>> 18) | 240), 0, 255);
result_622011[1] = chckRange((((i_622012 >>> 12) & 63) | 128), 0, 255);
result_622011[2] = chckRange((((i_622012 >>> 6) & 63) | 128), 0, 255);
result_622011[3] = chckRange(((i_622012 & 63) | 128), 0, 255);
}
else {
if (leU(i_622012, 67108863)) {
result_622011 = mnewString(5);
result_622011[0] = chckRange(((i_622012 >>> 24) | 248), 0, 255);
result_622011[1] = chckRange((((i_622012 >>> 18) & 63) | 128), 0, 255);
result_622011[2] = chckRange((((i_622012 >>> 12) & 63) | 128), 0, 255);
result_622011[3] = chckRange((((i_622012 >>> 6) & 63) | 128), 0, 255);
result_622011[4] = chckRange(((i_622012 & 63) | 128), 0, 255);
}
else {
if (leU(i_622012, 2147483647)) {
result_622011 = mnewString(6);
result_622011[0] = chckRange(((i_622012 >>> 30) | 252), 0, 255);
result_622011[1] = chckRange((((i_622012 >>> 24) & 63) | 128), 0, 255);
result_622011[2] = chckRange((((i_622012 >>> 18) & 63) | 128), 0, 255);
result_622011[3] = chckRange((((i_622012 >>> 12) & 63) | 128), 0, 255);
result_622011[4] = chckRange((((i_622012 >>> 6) & 63) | 128), 0, 255);
result_622011[5] = chckRange(((i_622012 & 63) | 128), 0, 255);
}
else {
}
}}}}}
return result_622011;
}
function parseentity_777399(my_777402, dest_777404, dest_777404_Idx) {
var pos_777405 = addInt(my_777402.bufpos_662006, 1);
var buf_777406 = my_777402.buf_662007;
my_777402.kind_777050 = 2;
if ((buf_777406[chckIndx(pos_777405, 0, buf_777406.length)-0] == 35)) {
var r_777407 = 0;
pos_777405 = addInt(pos_777405, 1);
if ((buf_777406[chckIndx(pos_777405, 0, buf_777406.length)-0] == 120)) {
pos_777405 = addInt(pos_777405, 1);
L1: do {
L2: while (true) {
if (!1) break L2;
switch (buf_777406[chckIndx(pos_777405, 0, buf_777406.length)-0]) {
case 48: case 49: case 50: case 51: case 52: case 53: case 54: case 55: case 56: case 57: r_777407 = ((r_777407 << 4) | subInt(buf_777406[chckIndx(pos_777405, 0, buf_777406.length)-0], 48));

break;
case 97: case 98: case 99: case 100: case 101: case 102: r_777407 = ((r_777407 << 4) | addInt(subInt(buf_777406[chckIndx(pos_777405, 0, buf_777406.length)-0], 97), 10));

break;
case 65: case 66: case 67: case 68: case 69: case 70: r_777407 = ((r_777407 << 4) | addInt(subInt(buf_777406[chckIndx(pos_777405, 0, buf_777406.length)-0], 65), 10));

break;
default: 
break L1;
break;
}
pos_777405 = addInt(pos_777405, 1);
}
} while(false);
}
else {
L3: do {
L4: while (true) {
if (!(SetConstr([48, 57])[buf_777406[chckIndx(pos_777405, 0, buf_777406.length)-0]] != undefined)) break L4;
r_777407 = addInt(mulInt(r_777407, 10), subInt(buf_777406[chckIndx(pos_777405, 0, buf_777406.length)-0], 48));
pos_777405 = addInt(pos_777405, 1);
}
} while(false);
}

if (dest_777404[dest_777404_Idx] != null) { dest_777404[dest_777404_Idx] = (dest_777404[dest_777404_Idx].slice(0, -1)).concat(nuctoUTF8(r_777407)); } else { dest_777404[dest_777404_Idx] = nuctoUTF8(r_777407);};
}
else {
if ((((buf_777406[chckIndx(pos_777405, 0, buf_777406.length)-0] == 108) && (buf_777406[chckIndx(addInt(pos_777405, 1), 0, buf_777406.length)-0] == 116)) && (buf_777406[chckIndx(addInt(pos_777405, 2), 0, buf_777406.length)-0] == 59))) {
if (dest_777404[dest_777404_Idx] != null) { addChar(dest_777404[dest_777404_Idx], 60); } else { dest_777404[dest_777404_Idx] = [60, 0]; };
pos_777405 = addInt(pos_777405, 2);
}
else {
if ((((buf_777406[chckIndx(pos_777405, 0, buf_777406.length)-0] == 103) && (buf_777406[chckIndx(addInt(pos_777405, 1), 0, buf_777406.length)-0] == 116)) && (buf_777406[chckIndx(addInt(pos_777405, 2), 0, buf_777406.length)-0] == 59))) {
if (dest_777404[dest_777404_Idx] != null) { addChar(dest_777404[dest_777404_Idx], 62); } else { dest_777404[dest_777404_Idx] = [62, 0]; };
pos_777405 = addInt(pos_777405, 2);
}
else {
if (((((buf_777406[chckIndx(pos_777405, 0, buf_777406.length)-0] == 97) && (buf_777406[chckIndx(addInt(pos_777405, 1), 0, buf_777406.length)-0] == 109)) && (buf_777406[chckIndx(addInt(pos_777405, 2), 0, buf_777406.length)-0] == 112)) && (buf_777406[chckIndx(addInt(pos_777405, 3), 0, buf_777406.length)-0] == 59))) {
if (dest_777404[dest_777404_Idx] != null) { addChar(dest_777404[dest_777404_Idx], 38); } else { dest_777404[dest_777404_Idx] = [38, 0]; };
pos_777405 = addInt(pos_777405, 3);
}
else {
if ((((((buf_777406[chckIndx(pos_777405, 0, buf_777406.length)-0] == 97) && (buf_777406[chckIndx(addInt(pos_777405, 1), 0, buf_777406.length)-0] == 112)) && (buf_777406[chckIndx(addInt(pos_777405, 2), 0, buf_777406.length)-0] == 111)) && (buf_777406[chckIndx(addInt(pos_777405, 3), 0, buf_777406.length)-0] == 115)) && (buf_777406[chckIndx(addInt(pos_777405, 4), 0, buf_777406.length)-0] == 59))) {
if (dest_777404[dest_777404_Idx] != null) { addChar(dest_777404[dest_777404_Idx], 39); } else { dest_777404[dest_777404_Idx] = [39, 0]; };
pos_777405 = addInt(pos_777405, 4);
}
else {
if ((((((buf_777406[chckIndx(pos_777405, 0, buf_777406.length)-0] == 113) && (buf_777406[chckIndx(addInt(pos_777405, 1), 0, buf_777406.length)-0] == 117)) && (buf_777406[chckIndx(addInt(pos_777405, 2), 0, buf_777406.length)-0] == 111)) && (buf_777406[chckIndx(addInt(pos_777405, 3), 0, buf_777406.length)-0] == 116)) && (buf_777406[chckIndx(addInt(pos_777405, 4), 0, buf_777406.length)-0] == 59))) {
if (dest_777404[dest_777404_Idx] != null) { addChar(dest_777404[dest_777404_Idx], 34); } else { dest_777404[dest_777404_Idx] = [34, 0]; };
pos_777405 = addInt(pos_777405, 4);
}
else {
my_777402.bufpos_662006 = pos_777405;
parsename_777361(my_777402, dest_777404, dest_777404_Idx);
pos_777405 = my_777402.bufpos_662006;
if (!((my_777402.err_777051 == 2))) {
my_777402.kind_777050 = 12;
}
else {
if (dest_777404[dest_777404_Idx] != null) { addChar(dest_777404[dest_777404_Idx], 38); } else { dest_777404[dest_777404_Idx] = [38, 0]; };
}

}
}}}}}
if ((buf_777406[chckIndx(pos_777405, 0, buf_777406.length)-0] == 59)) {
pos_777405 = addInt(pos_777405, 1);
}
else {
markerror_777217(my_777402, 3);
}

my_777402.bufpos_662006 = pos_777405;
}
function parsechardata_777824(my_777827) {
var pos_777828 = my_777827.bufpos_662006;
var buf_777829 = my_777827.buf_662007;
L1: do {
L2: while (true) {
if (!1) break L2;
switch (buf_777829[chckIndx(pos_777828, 0, buf_777829.length)-0]) {
case 0: case 60: case 38: break L1;

break;
case 13: pos_777828 = handlecr_663601(my_777827, pos_777828);
buf_777829 = my_777827.buf_662007;
if (my_777827.a_777047 != null) { addChar(my_777827.a_777047, 10); } else { my_777827.a_777047 = [10, 0]; };

break;
case 10: pos_777828 = handlelf_663810(my_777827, pos_777828);
buf_777829 = my_777827.buf_662007;
if (my_777827.a_777047 != null) { addChar(my_777827.a_777047, 10); } else { my_777827.a_777047 = [10, 0]; };

break;
case 47: pos_777828 = handlerefillchar_664010(my_777827, pos_777828);
buf_777829 = my_777827.buf_662007;
if (my_777827.a_777047 != null) { addChar(my_777827.a_777047, 47); } else { my_777827.a_777047 = [47, 0]; };

break;
default: 
if (my_777827.a_777047 != null) { addChar(my_777827.a_777047, buf_777829[chckIndx(pos_777828, 0, buf_777829.length)-0]); } else { my_777827.a_777047 = [buf_777829[chckIndx(pos_777828, 0, buf_777829.length)-0], 0]; };
pos_777828 = addInt(pos_777828, 1);
break;
}
}
} while(false);
my_777827.bufpos_662006 = pos_777828;
my_777827.kind_777050 = 2;
}
function rawgettok_777840(my_777843) {
my_777843.kind_777050 = 0;
my_777843.a_777047.length = 0+1; my_777843.a_777047[my_777843.a_777047.length-1] = 0;
var pos_777844 = my_777843.bufpos_662006;
var buf_777845 = my_777843.buf_662007;
switch (buf_777845[chckIndx(pos_777844, 0, buf_777845.length)-0]) {
case 60: switch (buf_777845[chckIndx(addInt(pos_777844, 1), 0, buf_777845.length)-0]) {
case 47: parseendtag_777743(my_777843);

break;
case 33: if ((((((((buf_777845[chckIndx(addInt(pos_777844, 2), 0, buf_777845.length)-0] == 91) && (buf_777845[chckIndx(addInt(pos_777844, 3), 0, buf_777845.length)-0] == 67)) && (buf_777845[chckIndx(addInt(pos_777844, 4), 0, buf_777845.length)-0] == 68)) && (buf_777845[chckIndx(addInt(pos_777844, 5), 0, buf_777845.length)-0] == 65)) && (buf_777845[chckIndx(addInt(pos_777844, 6), 0, buf_777845.length)-0] == 84)) && (buf_777845[chckIndx(addInt(pos_777844, 7), 0, buf_777845.length)-0] == 65)) && (buf_777845[chckIndx(addInt(pos_777844, 8), 0, buf_777845.length)-0] == 91))) {
parsecdata_777222(my_777843);
}
else {
if (((buf_777845[chckIndx(addInt(pos_777844, 2), 0, buf_777845.length)-0] == 45) && (buf_777845[chckIndx(addInt(pos_777844, 3), 0, buf_777845.length)-0] == 45))) {
parsecomment_777256(my_777843);
}
else {
parsespecial_777638(my_777843);
}
}

break;
case 63: parsepi_777594(my_777843);

break;
default: 
parsetag_777700(my_777843);
break;
}

break;
case 32: case 9: case 13: case 10: parsewhitespace_777340(my_777843, 0);
my_777843.kind_777050 = 3;

break;
case 0: my_777843.kind_777050 = 1;

break;
case 38: parseentity_777399(my_777843, my_777843, "a_777047");

break;
default: 
parsechardata_777824(my_777843);
break;
}
if (!(!((my_777843.kind_777050 == 0)))) {
failedassertimpl_14716(cstrToNimstr("\x0A  not (my.kind == xmlError) "));
}

}
function gettok_778001(my_778004) {
L1: do {
L2: while (true) {
if (!1) break L2;
rawgettok_777840(my_778004);
switch (my_778004.kind_777050) {
case 4: if ((my_778004.options_777055[1] != undefined)) {
break L1;
}


break;
case 3: if ((my_778004.options_777055[0] != undefined)) {
break L1;
}


break;
default: 
break L1;
break;
}
}
} while(false);
}
function parseattribute_777757(my_777760) {
BeforeRet: do {
my_777760.kind_777050 = 9;
my_777760.a_777047.length = 0+1; my_777760.a_777047[my_777760.a_777047.length-1] = 0;
my_777760.b_777048.length = 0+1; my_777760.b_777048[my_777760.b_777048.length-1] = 0;
parsename_777361(my_777760, my_777760, "a_777047");
if (((my_777760.a_777047 != null ? my_777760.a_777047.length-1 : 0) == 0)) {
markerror_777217(my_777760, 5);
break BeforeRet;
}

parsewhitespace_777340(my_777760, 1);
if (!((my_777760.buf_662007[chckIndx(my_777760.bufpos_662006, 0, my_777760.buf_662007.length)-0] == 61))) {
markerror_777217(my_777760, 6);
break BeforeRet;
}

my_777760.bufpos_662006 = addInt(my_777760.bufpos_662006, 1);
parsewhitespace_777340(my_777760, 1);
var pos_777771 = my_777760.bufpos_662006;
var buf_777772 = my_777760.buf_662007;
if ((SetConstr(39, 34)[buf_777772[chckIndx(pos_777771, 0, buf_777772.length)-0]] != undefined)) {
var quote_777784 = buf_777772[chckIndx(pos_777771, 0, buf_777772.length)-0];
var pendingspace_777785 = 0;
pos_777771 = addInt(pos_777771, 1);
L1: do {
L2: while (true) {
if (!1) break L2;
switch (buf_777772[chckIndx(pos_777771, 0, buf_777772.length)-0]) {
case 0: markerror_777217(my_777760, 7);
break L1;

break;
case 38: if (pendingspace_777785) {
if (my_777760.b_777048 != null) { addChar(my_777760.b_777048, 32); } else { my_777760.b_777048 = [32, 0]; };
pendingspace_777785 = 0;
}

my_777760.bufpos_662006 = pos_777771;
parseentity_777399(my_777760, my_777760, "b_777048");
my_777760.kind_777050 = 9;
pos_777771 = my_777760.bufpos_662006;

break;
case 32: case 9: pendingspace_777785 = 1;
pos_777771 = addInt(pos_777771, 1);

break;
case 13: pos_777771 = handlecr_663601(my_777760, pos_777771);
buf_777772 = my_777760.buf_662007;
pendingspace_777785 = 1;

break;
case 10: pos_777771 = handlelf_663810(my_777760, pos_777771);
buf_777772 = my_777760.buf_662007;
pendingspace_777785 = 1;

break;
case 47: pos_777771 = handlerefillchar_664010(my_777760, pos_777771);
buf_777772 = my_777760.buf_662007;
if (my_777760.b_777048 != null) { addChar(my_777760.b_777048, 47); } else { my_777760.b_777048 = [47, 0]; };

break;
default: 
if ((buf_777772[chckIndx(pos_777771, 0, buf_777772.length)-0] == quote_777784)) {
pos_777771 = addInt(pos_777771, 1);
break L1;
}
else {
if (pendingspace_777785) {
if (my_777760.b_777048 != null) { addChar(my_777760.b_777048, 32); } else { my_777760.b_777048 = [32, 0]; };
pendingspace_777785 = 0;
}

if (my_777760.b_777048 != null) { addChar(my_777760.b_777048, buf_777772[chckIndx(pos_777771, 0, buf_777772.length)-0]); } else { my_777760.b_777048 = [buf_777772[chckIndx(pos_777771, 0, buf_777772.length)-0], 0]; };
pos_777771 = addInt(pos_777771, 1);
}

break;
}
}
} while(false);
}
else {
markerror_777217(my_777760, 7);
}

my_777760.bufpos_662006 = pos_777771;
parsewhitespace_777340(my_777760, 1);
} while (false); 
}
function next_778026(my_778029) {
var Tmp1;
switch (my_778029.state_777052) {
case 1: gettok_778001(my_778029);

break;
case 0: my_778029.state_777052 = 1;
gettok_778001(my_778029);
if (!(my_778029.kind_777050 == 5)) Tmp1 = false; else {Tmp1 = eqStrings(my_778029.a_777047, cstrToNimstr("xml")); }if (Tmp1) {
gettok_778001(my_778029);
}


break;
case 2: if ((my_778029.buf_662007[chckIndx(my_778029.bufpos_662006, 0, my_778029.buf_662007.length)-0] == 62)) {
my_778029.kind_777050 = 10;
my_778029.bufpos_662006 = addInt(my_778029.bufpos_662006, 1);
my_778029.state_777052 = 1;
}
else {
if ((my_778029.buf_662007[chckIndx(my_778029.bufpos_662006, 0, my_778029.buf_662007.length)-0] == 47)) {
my_778029.bufpos_662006 = handlerefillchar_664010(my_778029, my_778029.bufpos_662006);
if ((my_778029.buf_662007[chckIndx(my_778029.bufpos_662006, 0, my_778029.buf_662007.length)-0] == 62)) {
my_778029.kind_777050 = 10;
my_778029.bufpos_662006 = addInt(my_778029.bufpos_662006, 1);
my_778029.state_777052 = 3;
}
else {
markerror_777217(my_778029, 5);
}

}
else {
parseattribute_777757(my_778029);
}
}

break;
case 3: my_778029.state_777052 = 1;
my_778029.kind_777050 = 7;
if (!(my_778029.c_777049 == null)) {
my_778029.a_777047 = my_778029.c_777049;
}


break;
case 4: my_778029.kind_777050 = 0;
my_778029.state_777052 = 1;

break;
}
}
function kind_777082(my_777084) {
var result_777085 = 0;
BeforeRet: do {
result_777085 = my_777084.kind_777050;
break BeforeRet;
} while (false); 
return result_777085;
}
function HEX5BHEX5D_14047(s_14049, x_14059) {
var result_14060 = null;
result_14060 = (s_14049.slice(x_14059.a_14056, (x_14059.b_14058)+1).concat(0));
return result_14060;
}
function parseimages_779479(x_779482, images_779485, images_779485_Idx) {
L1: do {
L2: while (true) {
if (!1) break L2;
next_778026(x_779482);
switch (kind_777082(x_779482)) {
case 8: if (!((SetConstr(6, 7, 8)[x_779482.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlElementStart, xmlElementEnd, xmlElementOpen}, x.kind) "));
}

switch (toJSStr(x_779482.a_777047)) {
case "image": next_778026(x_779482);
next_778026(x_779482);
var img_779601 = {name_779039: null, location_779040: null};
if (!((x_779482.kind_777050 == 9))) {
failedassertimpl_14716(cstrToNimstr("x.kind == xmlAttribute "));
}

if (!((x_779482.kind_777050 == 9))) {
failedassertimpl_14716(cstrToNimstr("x.kind == xmlAttribute "));
}

img_779601.name_779039 = HEX5BHEX5D_14047(x_779482.b_777048, HEX2EHEX2E_31611(0, subInt((x_779482.b_777048 != null ? x_779482.b_777048.length-1 : 0), 1)));
L3: do {
L4: while (true) {
if (!1) break L4;
next_778026(x_779482);
switch (kind_777082(x_779482)) {
case 6: if (!((SetConstr(6, 7, 8)[x_779482.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlElementStart, xmlElementEnd, xmlElementOpen}, x.kind) "));
}

switch (toJSStr(x_779482.a_777047)) {
case "init_from": next_778026(x_779482);
if (!((SetConstr(2, 3, 4, 11, 13)[x_779482.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlCharData, xmlWhitespace, xmlComment, xmlCData, xmlSpecial}, x.kind) "));
}

if (!((SetConstr(2, 3, 4, 11, 13)[x_779482.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlCharData, xmlWhitespace, xmlComment, xmlCData, xmlSpecial}, x.kind) "));
}

img_779601.location_779040 = HEX5BHEX5D_14047(x_779482.a_777047, HEX2EHEX2E_31611(0, subInt((x_779482.a_777047 != null ? x_779482.a_777047.length-1 : 0), 1)));

break;
default: 
break;
}

break;
case 7: if (!((SetConstr(6, 7, 8)[x_779482.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlElementStart, xmlElementEnd, xmlElementOpen}, x.kind) "));
}

switch (toJSStr(x_779482.a_777047)) {
case "image": break L3;

break;
case "library_images": break L3;

break;
default: 
break;
}

break;
case 1: break L3;

break;
default: 
break;
}
}
} while(false);
if (images_779485[images_779485_Idx] != null) { images_779485[images_779485_Idx].push(img_779601); } else { images_779485[images_779485_Idx] = [img_779601]; };

break;
default: 
break;
}

break;
case 7: if (!((SetConstr(6, 7, 8)[x_779482.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlElementStart, xmlElementEnd, xmlElementOpen}, x.kind) "));
}

switch (toJSStr(x_779482.a_777047)) {
case "library_images": break L1;

break;
default: 
break;
}

break;
case 1: break L1;

break;
default: 
break;
}
}
} while(false);
}
function parsearray4_779061(source_779063) {
var result_779066 = [0.0, 0.0, 0.0, 0.0];
var i_779067 = 0;
L1: do {
var it_779068 = null;
var last_779083 = 0;
L2: do {
L3: while (true) {
if (!(last_779083 < (source_779063 != null ? source_779063.length-1 : 0))) break L3;
L4: do {
L5: while (true) {
if (!(SetConstr(32, 9, 11, 13, 10, 12)[source_779063[chckIndx(last_779083, 0, source_779063.length)-0]] != undefined)) break L5;
last_779083 = addInt(last_779083, 1);
}
} while(false);
var first_779085 = last_779083;
L6: do {
L7: while (true) {
if (!((last_779083 < (source_779063 != null ? source_779063.length-1 : 0)) && !((SetConstr(32, 9, 11, 13, 10, 12)[source_779063[chckIndx(last_779083, 0, source_779063.length)-0]] != undefined)))) break L7;
last_779083 = addInt(last_779083, 1);
}
} while(false);
if ((first_779085 <= subInt(last_779083, 1))) {
it_779068 = (source_779063.slice(first_779085, (subInt(last_779083, 1))+1).concat(0));
result_779066[chckIndx(i_779067, 0, result_779066.length)-0] = nsuParseFloat(it_779068);
i_779067 = addInt(i_779067, 1);
}

}
} while(false);
} while(false);
return result_779066;
}
function parsematerialelement_780604(x_780607, matvector_780611, mattexturename_780613, mattexturename_780613_Idx) {
L1: do {
L2: while (true) {
if (!1) break L2;
next_778026(x_780607);
switch (kind_777082(x_780607)) {
case 8: if (!((SetConstr(6, 7, 8)[x_780607.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlElementStart, xmlElementEnd, xmlElementOpen}, x.kind) "));
}

switch (toJSStr(x_780607.a_777047)) {
case "texture": next_778026(x_780607);
if (!((x_780607.kind_777050 == 9))) {
failedassertimpl_14716(cstrToNimstr("x.kind == xmlAttribute "));
}

if (!((x_780607.kind_777050 == 9))) {
failedassertimpl_14716(cstrToNimstr("x.kind == xmlAttribute "));
}

mattexturename_780613[mattexturename_780613_Idx] = HEX5BHEX5D_14047(x_780607.b_777048, HEX2EHEX2E_31611(0, subInt((x_780607.b_777048 != null ? x_780607.b_777048.length-1 : 0), 1)));
break L1;

break;
case "color": L3: do {
L4: while (true) {
if (!!((kind_777082(x_780607) == 2))) break L4;
next_778026(x_780607);
}
} while(false);
if (!((SetConstr(2, 3, 4, 11, 13)[x_780607.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlCharData, xmlWhitespace, xmlComment, xmlCData, xmlSpecial}, x.kind) "));
}

nimCopy(matvector_780611, parsearray4_779061(x_780607.a_777047), NTI779065);
break L1;

break;
default: 
break;
}

break;
case 10: if (!((SetConstr(6, 7, 8)[x_780607.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlElementStart, xmlElementEnd, xmlElementOpen}, x.kind) "));
}

switch (toJSStr(x_780607.a_777047)) {
case "texture": break L1;

break;
case "effect": break L1;

break;
default: 
break;
}

break;
case 1: break L1;

break;
default: 
break;
}
}
} while(false);
}
function parsematerialeffect_781403(x_781406, materials_781409, materials_781409_Idx) {
L1: do {
L2: while (true) {
if (!1) break L2;
next_778026(x_781406);
switch (kind_777082(x_781406)) {
case 8: if (!((SetConstr(6, 7, 8)[x_781406.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlElementStart, xmlElementEnd, xmlElementOpen}, x.kind) "));
}

switch (toJSStr(x_781406.a_777047)) {
case "effect": var mat_781601 = {name_779011: null, emission_779014: [0.0, 0.0, 0.0, 0.0], ambient_779017: [0.0, 0.0, 0.0, 0.0], diffuse_779020: [0.0, 0.0, 0.0, 0.0], specular_779023: [0.0, 0.0, 0.0, 0.0], shininess_779024: 0.0, reflective_779027: [0.0, 0.0, 0.0, 0.0], reflectivity_779028: 0.0, transparent_779031: [0.0, 0.0, 0.0, 0.0], transparency_779032: 0.0, diffusetexturename_779033: null, speculartexturename_779034: null, reflectivetexturename_779035: null, transparentstexturename_779036: null};
next_778026(x_781406);
if (!((x_781406.kind_777050 == 9))) {
failedassertimpl_14716(cstrToNimstr("x.kind == xmlAttribute "));
}

if (!((x_781406.kind_777050 == 9))) {
failedassertimpl_14716(cstrToNimstr("x.kind == xmlAttribute "));
}

mat_781601.name_779011 = HEX5BHEX5D_14047(x_781406.b_777048, HEX2EHEX2E_31611(0, subInt((x_781406.b_777048 != null ? x_781406.b_777048.length-1 : 0), 1)));
L3: do {
L4: while (true) {
if (!1) break L4;
next_778026(x_781406);
switch (kind_777082(x_781406)) {
case 6: if (!((SetConstr(6, 7, 8)[x_781406.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlElementStart, xmlElementEnd, xmlElementOpen}, x.kind) "));
}

switch (toJSStr(x_781406.a_777047)) {
case "emission": L5: do {
L6: while (true) {
if (!!((kind_777082(x_781406) == 2))) break L6;
next_778026(x_781406);
}
} while(false);
if (!((SetConstr(2, 3, 4, 11, 13)[x_781406.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlCharData, xmlWhitespace, xmlComment, xmlCData, xmlSpecial}, x.kind) "));
}

nimCopy(mat_781601.emission_779014, parsearray4_779061(x_781406.a_777047), NTI779065);

break;
case "ambient": L7: do {
L8: while (true) {
if (!!((kind_777082(x_781406) == 2))) break L8;
next_778026(x_781406);
}
} while(false);
if (!((SetConstr(2, 3, 4, 11, 13)[x_781406.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlCharData, xmlWhitespace, xmlComment, xmlCData, xmlSpecial}, x.kind) "));
}

nimCopy(mat_781601.ambient_779017, parsearray4_779061(x_781406.a_777047), NTI779065);

break;
case "diffuse": parsematerialelement_780604(x_781406, mat_781601.diffuse_779020, mat_781601, "diffusetexturename_779033");

break;
case "specular": parsematerialelement_780604(x_781406, mat_781601.specular_779023, mat_781601, "speculartexturename_779034");

break;
case "shininess": L9: do {
L10: while (true) {
if (!!((kind_777082(x_781406) == 2))) break L10;
next_778026(x_781406);
}
} while(false);
if (!((SetConstr(2, 3, 4, 11, 13)[x_781406.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlCharData, xmlWhitespace, xmlComment, xmlCData, xmlSpecial}, x.kind) "));
}

mat_781601.shininess_779024 = nsuParseFloat(x_781406.a_777047);

break;
case "reflective": parsematerialelement_780604(x_781406, mat_781601.reflective_779027, mat_781601, "reflectivetexturename_779035");

break;
case "reflectivity": L11: do {
L12: while (true) {
if (!!((kind_777082(x_781406) == 2))) break L12;
next_778026(x_781406);
}
} while(false);
if (!((SetConstr(2, 3, 4, 11, 13)[x_781406.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlCharData, xmlWhitespace, xmlComment, xmlCData, xmlSpecial}, x.kind) "));
}

mat_781601.reflectivity_779028 = nsuParseFloat(x_781406.a_777047);

break;
case "transparent": parsematerialelement_780604(x_781406, mat_781601.transparent_779031, mat_781601, "transparentstexturename_779036");

break;
case "transparency": L13: do {
L14: while (true) {
if (!!((kind_777082(x_781406) == 2))) break L14;
next_778026(x_781406);
}
} while(false);
if (!((SetConstr(2, 3, 4, 11, 13)[x_781406.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlCharData, xmlWhitespace, xmlComment, xmlCData, xmlSpecial}, x.kind) "));
}

mat_781601.transparency_779032 = nsuParseFloat(x_781406.a_777047);

break;
default: 
break;
}

break;
case 7: if (!((SetConstr(6, 7, 8)[x_781406.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlElementStart, xmlElementEnd, xmlElementOpen}, x.kind) "));
}

switch (toJSStr(x_781406.a_777047)) {
case "effect": break L3;

break;
default: 
break;
}

break;
case 1: break L3;

break;
default: 
break;
}
}
} while(false);
if (materials_781409[materials_781409_Idx] != null) { materials_781409[materials_781409_Idx].push(mat_781601); } else { materials_781409[materials_781409_Idx] = [mat_781601]; };

break;
default: 
break;
}

break;
case 7: if (!((SetConstr(6, 7, 8)[x_781406.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlElementStart, xmlElementEnd, xmlElementOpen}, x.kind) "));
}

switch (toJSStr(x_781406.a_777047)) {
case "library_effects": break L1;

break;
default: 
break;
}

break;
case 1: break L1;

break;
default: 
break;
}
}
} while(false);
}
function newseq_726217(len_726221) {
var result_726223 = null;
result_726223 = new Array(len_726221); for (var i=0;i<len_726221;++i) {result_726223[i]=0;}return result_726223;
}
function newcolladageometry_779086() {
var result_779088 = null;
result_779088 = {name_779049: null, materialname_779050: null, vertices_779052: null, texcoords_779054: null, normals_779056: null, triangles_779058: null, faceaccessor_779059: {vertexofset_779043: 0, normalofset_779044: 0, texcoordofset_779045: 0}};
result_779088.vertices_779052 = newseq_692050(0);
result_779088.texcoords_779054 = newseq_692050(0);
result_779088.normals_779056 = newseq_692050(0);
result_779088.triangles_779058 = newseq_726217(0);
return result_779088;
}
function preprocesssub_29708(sub_29710, a_29712) {
var m_29713 = (sub_29710 != null ? sub_29710.length-1 : 0);
L1: do {
var i_29724 = 0;
var res_29738 = 0;
L2: do {
L3: while (true) {
if (!(res_29738 <= 255)) break L3;
i_29724 = res_29738;
a_29712[i_29724] = (m_29713 + 1);
res_29738 += 1;
}
} while(false);
} while(false);
L4: do {
var i_29734 = 0;
var HEX3Atmp_29743 = 0;
HEX3Atmp_29743 = (m_29713 - 1);
var res_29746 = 0;
L5: do {
L6: while (true) {
if (!(res_29746 <= HEX3Atmp_29743)) break L6;
i_29734 = res_29746;
a_29712[sub_29710[i_29734]] = (m_29713 - i_29734);
res_29746 += 1;
}
} while(false);
} while(false);
}
function findaux_29750(s_29752, sub_29753, start_29754, a_29755) {
var result_29756 = 0;
BeforeRet: do {
var m_29757 = (sub_29753 != null ? sub_29753.length-1 : 0);
var n_29758 = (s_29752 != null ? s_29752.length-1 : 0);
var j_29759 = start_29754;
L1: do {
L2: while (true) {
if (!(j_29759 <= (n_29758 - m_29757))) break L2;
L3: do {
L4: do {
var k_29770 = 0;
var HEX3Atmp_29782 = 0;
HEX3Atmp_29782 = (m_29757 - 1);
var res_29785 = 0;
L5: do {
L6: while (true) {
if (!(res_29785 <= HEX3Atmp_29782)) break L6;
k_29770 = res_29785;
if (!((sub_29753[k_29770] == s_29752[(k_29770 + j_29759)]))) {
break L3;
}

res_29785 += 1;
}
} while(false);
} while(false);
result_29756 = j_29759;
break BeforeRet;
} while(false);
j_29759 += a_29755[s_29752[(j_29759 + m_29757)]];
}
} while(false);
result_29756 = -1;
break BeforeRet;
} while (false); 
return result_29756;
}
function nsuFindStr(s_29791, sub_29792, start_29793) {
var result_29794 = 0;
var a_29795 = [arrayConstr(256, 0, NTI104)];
preprocesssub_29708(sub_29792, a_29795[0]);
result_29794 = findaux_29750(s_29791, sub_29792, start_29793, a_29795[0]);
return result_29794;
}
function contains_30228(s_30230, sub_30231) {
var result_30232 = false;
BeforeRet: do {
result_30232 = (0 <= nsuFindStr(s_30230, sub_30231, 0));
break BeforeRet;
} while (false); 
return result_30232;
}
function rawEcho() {
var node_12430 = null;
node_12430 = document.getElementsByTagName('body')[0];if (node_12430 == null) {
var e_12442 = null;
e_12442 = {m_type: NTI3428, parent: null, name: null, message: null, trace: null};
e_12442.message = cstrToNimstr("<body> element does not exist yet!");
raiseException(e_12442, "IOError");
}

    for (var i = 0; i < arguments.length; ++i) {
      var x = toJSStr(arguments[i]);
      node_12430.appendChild(document.createTextNode(x));
    }
    node_12430.appendChild(document.createElement("br"));
    }
function parsemesh_783409(x_783412, geomobject_783413) {
var vertexsemantics_783442 = newseq_681236(0);
L1: do {
L2: while (true) {
if (!1) break L2;
next_778026(x_783412);
switch (kind_777082(x_783412)) {
case 8: if (!((SetConstr(6, 7, 8)[x_783412.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlElementStart, xmlElementEnd, xmlElementOpen}, x.kind) "));
}

switch (toJSStr(x_783412.a_777047)) {
case "float_array": next_778026(x_783412);
if (!((x_783412.kind_777050 == 9))) {
failedassertimpl_14716(cstrToNimstr("x.kind == xmlAttribute "));
}

if (!((x_783412.kind_777050 == 9))) {
failedassertimpl_14716(cstrToNimstr("x.kind == xmlAttribute "));
}

var arrayid_783811 = HEX5BHEX5D_14047(x_783412.b_777048, HEX2EHEX2E_31611(0, subInt((x_783412.b_777048 != null ? x_783412.b_777048.length-1 : 0), 1)));
next_778026(x_783412);
L3: do {
L4: while (true) {
if (!!((kind_777082(x_783412) == 2))) break L4;
next_778026(x_783412);
}
} while(false);
if (((contains_30228(arrayid_783811, cstrToNimstr("POSITION")) || contains_30228(arrayid_783811, cstrToNimstr("Position"))) || contains_30228(arrayid_783811, cstrToNimstr("position")))) {
L5: do {
var it_784001 = null;
var HEX3Atmp_786604 = null;
if (!((SetConstr(2, 3, 4, 11, 13)[x_783412.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlCharData, xmlWhitespace, xmlComment, xmlCData, xmlSpecial}, x.kind) "));
}

HEX3Atmp_786604 = x_783412.a_777047;
var last_786609 = 0;
L6: do {
L7: while (true) {
if (!(last_786609 < (HEX3Atmp_786604 != null ? HEX3Atmp_786604.length-1 : 0))) break L7;
L8: do {
L9: while (true) {
if (!(SetConstr(32, 9, 11, 13, 10, 12)[HEX3Atmp_786604[chckIndx(last_786609, 0, HEX3Atmp_786604.length)-0]] != undefined)) break L9;
last_786609 = addInt(last_786609, 1);
}
} while(false);
var first_786611 = last_786609;
L10: do {
L11: while (true) {
if (!((last_786609 < (HEX3Atmp_786604 != null ? HEX3Atmp_786604.length-1 : 0)) && !((SetConstr(32, 9, 11, 13, 10, 12)[HEX3Atmp_786604[chckIndx(last_786609, 0, HEX3Atmp_786604.length)-0]] != undefined)))) break L11;
last_786609 = addInt(last_786609, 1);
}
} while(false);
if ((first_786611 <= subInt(last_786609, 1))) {
it_784001 = (HEX3Atmp_786604.slice(first_786611, (subInt(last_786609, 1))+1).concat(0));
if (geomobject_783413.vertices_779052 != null) { geomobject_783413.vertices_779052.push(nsuParseFloat(it_784001)); } else { geomobject_783413.vertices_779052 = [nsuParseFloat(it_784001)]; };
}

}
} while(false);
} while(false);
}
else {
if (((contains_30228(arrayid_783811, cstrToNimstr("NORMAL")) || contains_30228(arrayid_783811, cstrToNimstr("Normal"))) || contains_30228(arrayid_783811, cstrToNimstr("normal")))) {
L12: do {
var it_784201 = null;
var HEX3Atmp_786613 = null;
if (!((SetConstr(2, 3, 4, 11, 13)[x_783412.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlCharData, xmlWhitespace, xmlComment, xmlCData, xmlSpecial}, x.kind) "));
}

HEX3Atmp_786613 = x_783412.a_777047;
var last_786618 = 0;
L13: do {
L14: while (true) {
if (!(last_786618 < (HEX3Atmp_786613 != null ? HEX3Atmp_786613.length-1 : 0))) break L14;
L15: do {
L16: while (true) {
if (!(SetConstr(32, 9, 11, 13, 10, 12)[HEX3Atmp_786613[chckIndx(last_786618, 0, HEX3Atmp_786613.length)-0]] != undefined)) break L16;
last_786618 = addInt(last_786618, 1);
}
} while(false);
var first_786620 = last_786618;
L17: do {
L18: while (true) {
if (!((last_786618 < (HEX3Atmp_786613 != null ? HEX3Atmp_786613.length-1 : 0)) && !((SetConstr(32, 9, 11, 13, 10, 12)[HEX3Atmp_786613[chckIndx(last_786618, 0, HEX3Atmp_786613.length)-0]] != undefined)))) break L18;
last_786618 = addInt(last_786618, 1);
}
} while(false);
if ((first_786620 <= subInt(last_786618, 1))) {
it_784201 = (HEX3Atmp_786613.slice(first_786620, (subInt(last_786618, 1))+1).concat(0));
if (geomobject_783413.normals_779056 != null) { geomobject_783413.normals_779056.push(nsuParseFloat(it_784201)); } else { geomobject_783413.normals_779056 = [nsuParseFloat(it_784201)]; };
}

}
} while(false);
} while(false);
}
else {
if (((contains_30228(arrayid_783811, cstrToNimstr("UV")) || contains_30228(arrayid_783811, cstrToNimstr("Uv"))) || contains_30228(arrayid_783811, cstrToNimstr("uv")))) {
L19: do {
var it_784401 = null;
var HEX3Atmp_786622 = null;
if (!((SetConstr(2, 3, 4, 11, 13)[x_783412.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlCharData, xmlWhitespace, xmlComment, xmlCData, xmlSpecial}, x.kind) "));
}

HEX3Atmp_786622 = x_783412.a_777047;
var last_786627 = 0;
L20: do {
L21: while (true) {
if (!(last_786627 < (HEX3Atmp_786622 != null ? HEX3Atmp_786622.length-1 : 0))) break L21;
L22: do {
L23: while (true) {
if (!(SetConstr(32, 9, 11, 13, 10, 12)[HEX3Atmp_786622[chckIndx(last_786627, 0, HEX3Atmp_786622.length)-0]] != undefined)) break L23;
last_786627 = addInt(last_786627, 1);
}
} while(false);
var first_786629 = last_786627;
L24: do {
L25: while (true) {
if (!((last_786627 < (HEX3Atmp_786622 != null ? HEX3Atmp_786622.length-1 : 0)) && !((SetConstr(32, 9, 11, 13, 10, 12)[HEX3Atmp_786622[chckIndx(last_786627, 0, HEX3Atmp_786622.length)-0]] != undefined)))) break L25;
last_786627 = addInt(last_786627, 1);
}
} while(false);
if ((first_786629 <= subInt(last_786627, 1))) {
it_784401 = (HEX3Atmp_786622.slice(first_786629, (subInt(last_786627, 1))+1).concat(0));
if (geomobject_783413.texcoords_779054 != null) { geomobject_783413.texcoords_779054.push(nsuParseFloat(it_784401)); } else { geomobject_783413.texcoords_779054 = [nsuParseFloat(it_784401)]; };
}

}
} while(false);
} while(false);
}
else {
rawEcho(cstrToNimstr("no vertex data in node"));
}
}}

break;
case "vertices": L26: do {
L27: while (true) {
if (!1) break L27;
next_778026(x_783412);
switch (kind_777082(x_783412)) {
case 8: if (!((SetConstr(6, 7, 8)[x_783412.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlElementStart, xmlElementEnd, xmlElementOpen}, x.kind) "));
}

switch (toJSStr(x_783412.a_777047)) {
case "input": next_778026(x_783412);
if (!((x_783412.kind_777050 == 9))) {
failedassertimpl_14716(cstrToNimstr("x.kind == xmlAttribute "));
}

if (!((x_783412.kind_777050 == 9))) {
failedassertimpl_14716(cstrToNimstr("x.kind == xmlAttribute "));
}

if (vertexsemantics_783442 != null) { vertexsemantics_783442.push(HEX5BHEX5D_14047(x_783412.b_777048, HEX2EHEX2E_31611(0, subInt((x_783412.b_777048 != null ? x_783412.b_777048.length-1 : 0), 1)))); } else { vertexsemantics_783442 = [HEX5BHEX5D_14047(x_783412.b_777048, HEX2EHEX2E_31611(0, subInt((x_783412.b_777048 != null ? x_783412.b_777048.length-1 : 0), 1)))]; };

break;
default: 
break;
}

break;
case 7: if (!((SetConstr(6, 7, 8)[x_783412.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlElementStart, xmlElementEnd, xmlElementOpen}, x.kind) "));
}

switch (toJSStr(x_783412.a_777047)) {
case "vertices": break L26;

break;
default: 
break;
}

break;
case 1: break L26;

break;
default: 
break;
}
}
} while(false);

break;
case "triangles": next_778026(x_783412);
next_778026(x_783412);
if (!((x_783412.kind_777050 == 9))) {
failedassertimpl_14716(cstrToNimstr("x.kind == xmlAttribute "));
}

if (!((x_783412.kind_777050 == 9))) {
failedassertimpl_14716(cstrToNimstr("x.kind == xmlAttribute "));
}

geomobject_783413.materialname_779050 = HEX5BHEX5D_14047(x_783412.b_777048, HEX2EHEX2E_31611(0, subInt((x_783412.b_777048 != null ? x_783412.b_777048.length-1 : 0), 1)));
L28: do {
L29: while (true) {
if (!1) break L29;
next_778026(x_783412);
switch (kind_777082(x_783412)) {
case 8: if (!((SetConstr(6, 7, 8)[x_783412.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlElementStart, xmlElementEnd, xmlElementOpen}, x.kind) "));
}

switch (toJSStr(x_783412.a_777047)) {
case "input": next_778026(x_783412);
if (!((x_783412.kind_777050 == 9))) {
failedassertimpl_14716(cstrToNimstr("x.kind == xmlAttribute "));
}

if (!((x_783412.kind_777050 == 9))) {
failedassertimpl_14716(cstrToNimstr("x.kind == xmlAttribute "));
}

var semantic_785611 = HEX5BHEX5D_14047(x_783412.b_777048, HEX2EHEX2E_31611(0, subInt((x_783412.b_777048 != null ? x_783412.b_777048.length-1 : 0), 1)));
next_778026(x_783412);
if (!((x_783412.kind_777050 == 9))) {
failedassertimpl_14716(cstrToNimstr("x.kind == xmlAttribute "));
}

var offset_785801 = nsuParseInt(x_783412.b_777048);
if (eqStrings(semantic_785611, cstrToNimstr("VERTEX"))) {
L30: do {
var it_785810 = null;
var i_786635 = 0;
var L_786637 = (vertexsemantics_783442 != null ? vertexsemantics_783442.length : 0);
L31: do {
L32: while (true) {
if (!(i_786635 < L_786637)) break L32;
it_785810 = vertexsemantics_783442[chckIndx(i_786635, 0, vertexsemantics_783442.length)-0];
if (eqStrings(it_785810, cstrToNimstr("POSITION"))) {
geomobject_783413.faceaccessor_779059.vertexofset_779043 = offset_785801;
}

if (eqStrings(it_785810, cstrToNimstr("NORMAL"))) {
geomobject_783413.faceaccessor_779059.normalofset_779044 = offset_785801;
}

if (eqStrings(it_785810, cstrToNimstr("TEXCOORD"))) {
geomobject_783413.faceaccessor_779059.texcoordofset_779045 = offset_785801;
}

i_786635 = addInt(i_786635, 1);
if (!(((vertexsemantics_783442 != null ? vertexsemantics_783442.length : 0) == L_786637))) {
failedassertimpl_14716(cstrToNimstr("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
}
else {
if (eqStrings(semantic_785611, cstrToNimstr("NORMAL"))) {
geomobject_783413.faceaccessor_779059.normalofset_779044 = offset_785801;
}
else {
if (eqStrings(semantic_785611, cstrToNimstr("TEXCOORD"))) {
geomobject_783413.faceaccessor_779059.texcoordofset_779045 = offset_785801;
}
else {
rawEcho(cstrToNimstr("corrupt face data"));
}
}}

break;
default: 
break;
}

break;
case 6: if (!((SetConstr(6, 7, 8)[x_783412.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlElementStart, xmlElementEnd, xmlElementOpen}, x.kind) "));
}

switch (toJSStr(x_783412.a_777047)) {
case "p": next_778026(x_783412);
L33: do {
var it_786211 = null;
var HEX3Atmp_786639 = null;
if (!((SetConstr(2, 3, 4, 11, 13)[x_783412.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlCharData, xmlWhitespace, xmlComment, xmlCData, xmlSpecial}, x.kind) "));
}

if (!((SetConstr(2, 3, 4, 11, 13)[x_783412.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlCharData, xmlWhitespace, xmlComment, xmlCData, xmlSpecial}, x.kind) "));
}

HEX3Atmp_786639 = HEX5BHEX5D_14047(x_783412.a_777047, HEX2EHEX2E_31611(0, subInt((x_783412.a_777047 != null ? x_783412.a_777047.length-1 : 0), 1)));
var last_786644 = 0;
L34: do {
L35: while (true) {
if (!(last_786644 < (HEX3Atmp_786639 != null ? HEX3Atmp_786639.length-1 : 0))) break L35;
L36: do {
L37: while (true) {
if (!(SetConstr(32, 9, 11, 13, 10, 12)[HEX3Atmp_786639[chckIndx(last_786644, 0, HEX3Atmp_786639.length)-0]] != undefined)) break L37;
last_786644 = addInt(last_786644, 1);
}
} while(false);
var first_786646 = last_786644;
L38: do {
L39: while (true) {
if (!((last_786644 < (HEX3Atmp_786639 != null ? HEX3Atmp_786639.length-1 : 0)) && !((SetConstr(32, 9, 11, 13, 10, 12)[HEX3Atmp_786639[chckIndx(last_786644, 0, HEX3Atmp_786639.length)-0]] != undefined)))) break L39;
last_786644 = addInt(last_786644, 1);
}
} while(false);
if ((first_786646 <= subInt(last_786644, 1))) {
it_786211 = (HEX3Atmp_786639.slice(first_786646, (subInt(last_786644, 1))+1).concat(0));
if (geomobject_783413.triangles_779058 != null) { geomobject_783413.triangles_779058.push(nsuParseInt(it_786211)); } else { geomobject_783413.triangles_779058 = [nsuParseInt(it_786211)]; };
}

}
} while(false);
} while(false);

break;
default: 
break;
}

break;
case 7: if (!((SetConstr(6, 7, 8)[x_783412.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlElementStart, xmlElementEnd, xmlElementOpen}, x.kind) "));
}

switch (toJSStr(x_783412.a_777047)) {
case "triangles": break L28;

break;
default: 
break;
}

break;
case 1: break L28;

break;
default: 
break;
}
}
} while(false);

break;
default: 
break;
}

break;
case 7: if (!((SetConstr(6, 7, 8)[x_783412.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlElementStart, xmlElementEnd, xmlElementOpen}, x.kind) "));
}

switch (toJSStr(x_783412.a_777047)) {
case "mesh": break L1;

break;
default: 
break;
}

break;
case 1: break L1;

break;
default: 
break;
}
}
} while(false);
}
function parsegeometry_786647(x_786650, geom_786653, geom_786653_Idx) {
L1: do {
L2: while (true) {
if (!1) break L2;
next_778026(x_786650);
switch (kind_777082(x_786650)) {
case 8: if (!((SetConstr(6, 7, 8)[x_786650.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlElementStart, xmlElementEnd, xmlElementOpen}, x.kind) "));
}

switch (toJSStr(x_786650.a_777047)) {
case "geometry": var geomobject_786801 = newcolladageometry_779086();
if (geom_786653[geom_786653_Idx] != null) { geom_786653[geom_786653_Idx].push(geomobject_786801); } else { geom_786653[geom_786653_Idx] = [geomobject_786801]; };
next_778026(x_786650);
if (!((x_786650.kind_777050 == 9))) {
failedassertimpl_14716(cstrToNimstr("x.kind == xmlAttribute "));
}

if (!((x_786650.kind_777050 == 9))) {
failedassertimpl_14716(cstrToNimstr("x.kind == xmlAttribute "));
}

geomobject_786801.name_779049 = HEX5BHEX5D_14047(x_786650.b_777048, HEX2EHEX2E_31611(0, subInt((x_786650.b_777048 != null ? x_786650.b_777048.length-1 : 0), 1)));
L3: do {
L4: while (true) {
if (!1) break L4;
next_778026(x_786650);
switch (kind_777082(x_786650)) {
case 6: if (!((SetConstr(6, 7, 8)[x_786650.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlElementStart, xmlElementEnd, xmlElementOpen}, x.kind) "));
}

switch (toJSStr(x_786650.a_777047)) {
case "mesh": parsemesh_783409(x_786650, geomobject_786801);

break;
default: 
break;
}

break;
case 7: if (!((SetConstr(6, 7, 8)[x_786650.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlElementStart, xmlElementEnd, xmlElementOpen}, x.kind) "));
}

switch (toJSStr(x_786650.a_777047)) {
case "geometry": break L3;

break;
default: 
break;
}

break;
case 1: break L3;

break;
default: 
break;
}
}
} while(false);

break;
default: 
break;
}

break;
case 7: if (!((SetConstr(6, 7, 8)[x_786650.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlElementStart, xmlElementEnd, xmlElementOpen}, x.kind) "));
}

switch (toJSStr(x_786650.a_777047)) {
case "library_geometries": break L1;

break;
default: 
break;
}

break;
case 1: break L1;

break;
default: 
break;
}
}
} while(false);
}
function parsescene_787603(x_787606, cs_787607) {
L1: do {
L2: while (true) {
if (!1) break L2;
next_778026(x_787606);
switch (kind_777082(x_787606)) {
case 8: if (!((SetConstr(6, 7, 8)[x_787606.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlElementStart, xmlElementEnd, xmlElementOpen}, x.kind) "));
}

switch (toJSStr(x_787606.a_777047)) {
case "visual_scene": next_778026(x_787606);
next_778026(x_787606);
if (!((x_787606.kind_777050 == 9))) {
failedassertimpl_14716(cstrToNimstr("x.kind == xmlAttribute "));
}

if (!((x_787606.kind_777050 == 9))) {
failedassertimpl_14716(cstrToNimstr("x.kind == xmlAttribute "));
}

cs_787607.name_779212 = HEX5BHEX5D_14047(x_787606.b_777048, HEX2EHEX2E_31611(0, subInt((x_787606.b_777048 != null ? x_787606.b_777048.length-1 : 0), 1)));

break;
case "node": L3: do {
L4: while (true) {
if (!1) break L4;
next_778026(x_787606);
switch (kind_777082(x_787606)) {
case 9: if (!((x_787606.kind_777050 == 9))) {
failedassertimpl_14716(cstrToNimstr("x.kind == xmlAttribute "));
}

switch (toJSStr(x_787606.a_777047)) {
case "name": if (!((x_787606.kind_777050 == 9))) {
failedassertimpl_14716(cstrToNimstr("x.kind == xmlAttribute "));
}

if (!((x_787606.kind_777050 == 9))) {
failedassertimpl_14716(cstrToNimstr("x.kind == xmlAttribute "));
}

if (cs_787607.childnodesnames_779214 != null) { cs_787607.childnodesnames_779214.push(HEX5BHEX5D_14047(x_787606.b_777048, HEX2EHEX2E_31611(0, subInt((x_787606.b_777048 != null ? x_787606.b_777048.length-1 : 0), 1)))); } else { cs_787607.childnodesnames_779214 = [HEX5BHEX5D_14047(x_787606.b_777048, HEX2EHEX2E_31611(0, subInt((x_787606.b_777048 != null ? x_787606.b_777048.length-1 : 0), 1)))]; };

break;
default: 
break;
}

break;
case 8: if (!((SetConstr(6, 7, 8)[x_787606.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlElementStart, xmlElementEnd, xmlElementOpen}, x.kind) "));
}

switch (toJSStr(x_787606.a_777047)) {
case "matrix": L5: do {
L6: while (true) {
if (!1) break L6;
next_778026(x_787606);
switch (kind_777082(x_787606)) {
case 10: break L5;

break;
case 1: break L5;

break;
default: 
break;
}
}
} while(false);
next_778026(x_787606);
if (!((SetConstr(2, 3, 4, 11, 13)[x_787606.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlCharData, xmlWhitespace, xmlComment, xmlCData, xmlSpecial}, x.kind) "));
}

if (!((SetConstr(2, 3, 4, 11, 13)[x_787606.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlCharData, xmlWhitespace, xmlComment, xmlCData, xmlSpecial}, x.kind) "));
}

if (cs_787607.childnodesmatrices_779216 != null) { cs_787607.childnodesmatrices_779216.push(HEX5BHEX5D_14047(x_787606.a_777047, HEX2EHEX2E_31611(0, subInt((x_787606.a_777047 != null ? x_787606.a_777047.length-1 : 0), 1)))); } else { cs_787607.childnodesmatrices_779216 = [HEX5BHEX5D_14047(x_787606.a_777047, HEX2EHEX2E_31611(0, subInt((x_787606.a_777047 != null ? x_787606.a_777047.length-1 : 0), 1)))]; };

break;
case "instance_material": next_778026(x_787606);

break;
case "instance_geometry": next_778026(x_787606);

break;
default: 
break;
}

break;
case 6: if (!((SetConstr(6, 7, 8)[x_787606.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlElementStart, xmlElementEnd, xmlElementOpen}, x.kind) "));
}

switch (toJSStr(x_787606.a_777047)) {
case "visibility": next_778026(x_787606);
if (!((SetConstr(2, 3, 4, 11, 13)[x_787606.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlCharData, xmlWhitespace, xmlComment, xmlCData, xmlSpecial}, x.kind) "));
}

if (!((SetConstr(2, 3, 4, 11, 13)[x_787606.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlCharData, xmlWhitespace, xmlComment, xmlCData, xmlSpecial}, x.kind) "));
}

if (cs_787607.childnodesalpha_779218 != null) { cs_787607.childnodesalpha_779218.push(nsuParseFloat(HEX5BHEX5D_14047(x_787606.a_777047, HEX2EHEX2E_31611(0, subInt((x_787606.a_777047 != null ? x_787606.a_777047.length-1 : 0), 1))))); } else { cs_787607.childnodesalpha_779218 = [nsuParseFloat(HEX5BHEX5D_14047(x_787606.a_777047, HEX2EHEX2E_31611(0, subInt((x_787606.a_777047 != null ? x_787606.a_777047.length-1 : 0), 1))))]; };

break;
default: 
break;
}

break;
case 7: if (!((SetConstr(6, 7, 8)[x_787606.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlElementStart, xmlElementEnd, xmlElementOpen}, x.kind) "));
}

switch (toJSStr(x_787606.a_777047)) {
case "node": break L3;

break;
default: 
break;
}

break;
case 1: break L3;

break;
default: 
break;
}
}
} while(false);

break;
default: 
break;
}

break;
case 7: if (!((SetConstr(6, 7, 8)[x_787606.kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlElementStart, xmlElementEnd, xmlElementOpen}, x.kind) "));
}

switch (toJSStr(x_787606.a_777047)) {
case "library_visual_scenes": break L1;

break;
default: 
break;
}

break;
case 1: break L1;

break;
default: 
break;
}
}
} while(false);
}
function load_789604(loader_789606, s_789607) {
var result_789608 = null;
result_789608 = newcolladascene_779226();
var x_789609 = [{m_type: NTI777016, a_777047: null, b_777048: null, c_777049: null, kind_777050: 0, err_777051: 0, state_777052: 0, filename_777053: null, options_777055: {}, bufpos_662006: 0, buf_662007: null, buflen_662008: 0, input_662009: null, linenumber_662010: 0, sentinel_662011: 0, linestart_662012: 0, refillchars_662014: {}}];
open_777066(x_789609[0], s_789607, cstrToNimstr(""), SetConstr());
next_778026(x_789609[0]);
L1: do {
L2: while (true) {
if (!1) break L2;
switch (kind_777082(x_789609[0])) {
case 6: if (!((SetConstr(6, 7, 8)[x_789609[0].kind_777050] != undefined))) {
failedassertimpl_14716(cstrToNimstr("contains({xmlElementStart, xmlElementEnd, xmlElementOpen}, x.kind) "));
}

switch (toJSStr(x_789609[0].a_777047)) {
case "library_images": parseimages_779479(x_789609[0], result_789608, "childnodesimages_779224");

break;
case "library_effects": parsematerialeffect_781403(x_789609[0], result_789608, "childnodesmaterial_779222");

break;
case "library_geometries": parsegeometry_786647(x_789609[0], result_789608, "childnodesgeometry_779220");

break;
case "library_visual_scenes": parsescene_787603(x_789609[0], result_789608);

break;
default: 
next_778026(x_789609[0]);
break;
}

break;
case 1: break L1;

break;
default: 
next_778026(x_789609[0]);
break;
}
}
} while(false);
return result_789608;
}
function close_660270(s_660272) {
if (!(s_660272.closeimpl_660222 == null)) {
s_660272.closeimpl_660222(s_660272);
}

}
function parsematrix4_791024(source_791026) {
var result_791027 = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0];
var nodemarix_791030 = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0];
var i_791031 = 0;
L1: do {
var it_791032 = null;
var last_791048 = 0;
L2: do {
L3: while (true) {
if (!(last_791048 < (source_791026 != null ? source_791026.length-1 : 0))) break L3;
L4: do {
L5: while (true) {
if (!(SetConstr(32, 9, 11, 13, 10, 12)[source_791026[chckIndx(last_791048, 0, source_791026.length)-0]] != undefined)) break L5;
last_791048 = addInt(last_791048, 1);
}
} while(false);
var first_791050 = last_791048;
L6: do {
L7: while (true) {
if (!((last_791048 < (source_791026 != null ? source_791026.length-1 : 0)) && !((SetConstr(32, 9, 11, 13, 10, 12)[source_791026[chckIndx(last_791048, 0, source_791026.length)-0]] != undefined)))) break L7;
last_791048 = addInt(last_791048, 1);
}
} while(false);
if ((first_791050 <= subInt(last_791048, 1))) {
it_791032 = (source_791026.slice(first_791050, (subInt(last_791048, 1))+1).concat(0));
nodemarix_791030[chckIndx(i_791031, 0, nodemarix_791030.length)-0] = nsuParseFloat(it_791032);
i_791031 = addInt(i_791031, 1);
}

}
} while(false);
} while(false);
nimCopy(result_791027, nodemarix_791030, NTI791029);
return result_791027;
}
function newvector_795206(v0_795210, v1_795212, v2_795214) {
var result_795216 = [0.0, 0.0, 0.0];
nimCopy(result_795216, [v0_795210, v1_795212, v2_795214], NTI795217);
return result_795216;
}
function shaderneedupdate_738667(m_738669) {
m_738669.bshaderneedupdate_738663 = 1;
}
function setambientcolor_738676(m_738678, x_738679, y_738680, z_738681, w_738682) {
nimCopy(m_738678.color_738652.ambient_738246, newvector4_21144(x_738679, y_738680, z_738681, w_738682), NTI21087);
m_738678.color_738652.ambientinited_738252 = 1;
shaderneedupdate_738667(m_738678);
}
function setemissioncolor_738696(m_738698, x_738699, y_738700, z_738701, w_738702) {
nimCopy(m_738698.color_738652.emission_738247, newvector4_21144(x_738699, y_738700, z_738701, w_738702), NTI21087);
m_738698.color_738652.emissioninited_738253 = 1;
shaderneedupdate_738667(m_738698);
}
function setdiffusecolor_738728(m_738730, x_738731, y_738732, z_738733, w_738734) {
nimCopy(m_738730.color_738652.diffuse_738248, newvector4_21144(x_738731, y_738732, z_738733, w_738734), NTI21087);
m_738730.color_738652.diffuseinited_738254 = 1;
shaderneedupdate_738667(m_738730);
}
function setspecularcolor_738754(m_738756, x_738757, y_738758, z_738759, w_738760) {
nimCopy(m_738756.color_738652.specular_738249, newvector4_21144(x_738757, y_738758, z_738759, w_738760), NTI21087);
m_738756.color_738652.specularinited_738255 = 1;
shaderneedupdate_738667(m_738756);
}
function setshininess_738774(m_738776, s_738777) {
m_738776.color_738652.shininess_738250 = s_738777;
m_738776.color_738652.shininessinited_738256 = 1;
shaderneedupdate_738667(m_738776);
}
function setreflectivity_738791(m_738793, r_738794) {
m_738793.color_738652.reflectivity_738251 = r_738794;
m_738793.color_738652.reflectivityinited_738257 = 1;
shaderneedupdate_738667(m_738793);
}
function nsuSplitChar(s_28437, sep_28438) {
var Tmp6;
var result_28440 = null;
result_28440 = [];
L1: do {
var x_28442 = null;
var last_28473 = 0;
if ((0 < (s_28437 != null ? s_28437.length-1 : 0))) {
L2: do {
L3: while (true) {
if (!(last_28473 <= (s_28437 != null ? s_28437.length-1 : 0))) break L3;
var first_28475 = last_28473;
L4: do {
L5: while (true) {
if (!(last_28473 < (s_28437 != null ? s_28437.length-1 : 0))) Tmp6 = false; else {Tmp6 = !((s_28437[last_28473] == sep_28438)); }if (!Tmp6) break L5;
last_28473 += 1;
}
} while(false);
x_28442 = (s_28437.slice(first_28475, ((last_28473 - 1))+1).concat(0));
if (result_28440 != null) { result_28440.push(x_28442); } else { result_28440 = [x_28442]; };
last_28473 += 1;
}
} while(false);
}

} while(false);
return result_28440;
}
function gettexturelocationbyname_794924(cs_794926, texname_794927) {
var result_794928 = null;
L1: do {
var img_795002 = {name_779039: null, location_779040: null};
var HEX3Atmp_795014 = null;
HEX3Atmp_795014 = cs_794926.childnodesimages_779224;
var i_795017 = 0;
var L_795019 = (HEX3Atmp_795014 != null ? HEX3Atmp_795014.length : 0);
L2: do {
L3: while (true) {
if (!(i_795017 < L_795019)) break L3;
img_795002 = HEX3Atmp_795014[chckIndx(i_795017, 0, HEX3Atmp_795014.length)-0];
if (contains_30228(texname_794927, img_795002.name_779039)) {
var texlocationsplited_795004 = nsuSplitChar(img_795002.location_779040, 47);
result_794928 = texlocationsplited_795004[chckIndx(subInt((texlocationsplited_795004 != null ? texlocationsplited_795004.length : 0), 1), 0, texlocationsplited_795004.length)-0];
}

i_795017 = addInt(i_795017, 1);
if (!(((HEX3Atmp_795014 != null ? HEX3Atmp_795014.length : 0) == L_795019))) {
failedassertimpl_14716(cstrToNimstr("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
return result_794928;
}
function getordefault_683008(t_683014, key_683016) {
var result_683017 = null;
var hc_683019 = [0];
var index_683021 = rawget_682431(t_683014, key_683016, hc_683019, 0);
if ((0 <= index_683021)) {
result_683017 = t_683014.data_682276[chckIndx(index_683021, 0, t_683014.data_682276.length)-0].Field2;
}

return result_683017;
}
function initwithresource_682801(i_682803, name_682804) {
var nativename_683001 = toJSStr((cstrToNimstr("res/").slice(0,-1)).concat(name_682804));
        i_682803.__image = new Image();
        i_682803.__image.crossOrigin = '';
        i_682803.__image.src = nativename_683001;
        }
function imagewithresource_683003(name_683005) {
var result_683006 = null;
result_683006 = getordefault_683008(imagecache_682411[0], name_683005);
if (result_683006 == null) {
if (warnwhenresourcenotcached_675612[0]) {
logi_33004([cstrToNimstr("WARNING: Image not found in cache: "), name_683005]);
}

result_683006 = {m_type: NTI682207, texture_682208: 0, msize_682209: {Field0: 0.0, Field1: 0.0}, sizeintexels_682210: {Field0: 0.0, Field1: 0.0}, framebuffer_682211: 0};
initwithresource_682801(result_683006, name_683005);
}

return result_683006;
}
function newseq_741538(len_741542) {
var result_741544 = null;
result_741544 = new Array(len_741542); for (var i=0;i<len_741542;++i) {result_741544[i]=0;}return result_741544;
}
function inittable_794260(initialsize_794265) {
var result_794267 = {data_791110: null, counter_791113: 0};
if (!(ispoweroftwo_18625(initialsize_794265))) {
failedassertimpl_14716(cstrToNimstr("isPowerOfTwo(initialSize) "));
}

result_794267.counter_791113 = 0;
result_794267.data_791110 = new Array(chckRange(initialsize_794265, 0, 2147483647)); for (var i=0;i<chckRange(initialsize_794265, 0, 2147483647);++i) {result_794267.data_791110[i]={Field0: 0, Field1: {vx_791068: 0.0, vy_791069: 0.0, vz_791070: 0.0, nx_791071: 0.0, ny_791072: 0.0, nz_791073: 0.0}, Field2: 0};}return result_794267;
}
function HEX2D_724712(v1_724731, v2_724747) {
var result_724762 = [0.0, 0.0, 0.0];
L1: do {
var i_724797 = 0;
var HEX3Atmp_724799 = {a_14056: 0, b_14058: 0};
HEX3Atmp_724799 = HEX2EHEX2E_31611(0, 2);
L2: do {
var x_724803 = 0;
var HEX3Atmp_724805 = 0;
var HEX3Atmp_724807 = 0;
HEX3Atmp_724805 = HEX3Atmp_724799.a_14056;
HEX3Atmp_724807 = HEX3Atmp_724799.b_14058;
var res_724809 = HEX3Atmp_724805;
L3: do {
L4: while (true) {
if (!(res_724809 <= HEX3Atmp_724807)) break L4;
x_724803 = res_724809;
i_724797 = x_724803;
result_724762[chckIndx(i_724797, 0, result_724762.length)-0] = (v1_724731[chckIndx(i_724797, 0, v1_724731.length)-0] - v2_724747[chckIndx(i_724797, 0, v2_724747.length)-0]);
res_724809 = addInt(res_724809, 1);
}
} while(false);
} while(false);
} while(false);
return result_724762;
}
function HEX2D_723911(v1_723930, v2_723946) {
var result_723961 = [0.0, 0.0];
L1: do {
var i_723996 = 0;
var HEX3Atmp_723998 = {a_14056: 0, b_14058: 0};
HEX3Atmp_723998 = HEX2EHEX2E_31611(0, 1);
L2: do {
var x_724002 = 0;
var HEX3Atmp_724004 = 0;
var HEX3Atmp_724006 = 0;
HEX3Atmp_724004 = HEX3Atmp_723998.a_14056;
HEX3Atmp_724006 = HEX3Atmp_723998.b_14058;
var res_724008 = HEX3Atmp_724004;
L3: do {
L4: while (true) {
if (!(res_724008 <= HEX3Atmp_724006)) break L4;
x_724002 = res_724008;
i_723996 = x_724002;
result_723961[chckIndx(i_723996, 0, result_723961.length)-0] = (v1_723930[chckIndx(i_723996, 0, v1_723930.length)-0] - v2_723946[chckIndx(i_723996, 0, v2_723946.length)-0]);
res_724008 = addInt(res_724008, 1);
}
} while(false);
} while(false);
} while(false);
return result_723961;
}
function HEX2A_711437(v_711456, scalar_711458) {
var result_711473 = [0.0, 0.0, 0.0];
L1: do {
var i_711508 = 0;
var HEX3Atmp_711510 = {a_14056: 0, b_14058: 0};
HEX3Atmp_711510 = HEX2EHEX2E_31611(0, 2);
L2: do {
var x_711514 = 0;
var HEX3Atmp_711516 = 0;
var HEX3Atmp_711518 = 0;
HEX3Atmp_711516 = HEX3Atmp_711510.a_14056;
HEX3Atmp_711518 = HEX3Atmp_711510.b_14058;
var res_711520 = HEX3Atmp_711516;
L3: do {
L4: while (true) {
if (!(res_711520 <= HEX3Atmp_711518)) break L4;
x_711514 = res_711520;
i_711508 = x_711514;
result_711473[chckIndx(i_711508, 0, result_711473.length)-0] = (v_711456[chckIndx(i_711508, 0, v_711456.length)-0] * scalar_711458);
res_711520 = addInt(res_711520, 1);
}
} while(false);
} while(false);
} while(false);
return result_711473;
}
function length_21157(v_21159) {
var result_21160 = 0.0;
result_21160 = Math.sqrt((((v_21159[0] * v_21159[0]) + (v_21159[1] * v_21159[1])) + (v_21159[2] * v_21159[2])));
return result_21160;
}
function HEX2FHEX3D_21188(x_21193, x_21193_Idx, y_21195) {
x_21193[x_21193_Idx] = (x_21193[x_21193_Idx] / y_21195);
}
function normalize_21182(v_21185) {
var leng_21186 = length_21157(v_21185);
if (!((leng_21186 == 0.0))) {
HEX2FHEX3D_21188(v_21185, 0, leng_21186);
HEX2FHEX3D_21188(v_21185, 1, leng_21186);
HEX2FHEX3D_21188(v_21185, 2, leng_21186);
}

}
function hash_637202(x_637204) {
var result_637205 = 0;
var y_637206 = /**/[(x_637204 + 1.0000000000000000e+00)];
result_637205 = y_637206[0];
return result_637205;
}
function hash_791074(v_791076) {
var result_791077 = 0;
result_791077 = HEX21HEX26_636004(HEX21HEX26_636004(HEX21HEX26_636004(HEX21HEX26_636004(HEX21HEX26_636004(hash_637202(v_791076.vx_791068), hash_637202(v_791076.vy_791069)), hash_637202(v_791076.vz_791070)), hash_637202(v_791076.nx_791071)), hash_637202(v_791076.ny_791072)), hash_637202(v_791076.nz_791073));
result_791077 = HEX21HEX24_636027(result_791077);
return result_791077;
}
function HEX3DHEX3D_791201(x_791205, y_791207) {
var result_791208 = false;
BeforeRet: do {
if (!((x_791205.vx_791068 == y_791207.vx_791068))) {
result_791208 = 0;
break BeforeRet;
}

if (!((x_791205.vy_791069 == y_791207.vy_791069))) {
result_791208 = 0;
break BeforeRet;
}

if (!((x_791205.vz_791070 == y_791207.vz_791070))) {
result_791208 = 0;
break BeforeRet;
}

if (!((x_791205.nx_791071 == y_791207.nx_791071))) {
result_791208 = 0;
break BeforeRet;
}

if (!((x_791205.ny_791072 == y_791207.ny_791072))) {
result_791208 = 0;
break BeforeRet;
}

if (!((x_791205.nz_791073 == y_791207.nz_791073))) {
result_791208 = 0;
break BeforeRet;
}

result_791208 = 1;
break BeforeRet;
} while (false); 
return result_791208;
}
function rawget_791187(t_791192, key_791194, hc_791196, hc_791196_Idx) {
var Tmp3;
var result_791197 = 0;
BeforeRet: do {
hc_791196[hc_791196_Idx] = hash_791074(key_791194);
if ((hc_791196[hc_791196_Idx] == 0)) {
hc_791196[hc_791196_Idx] = 314159265;
}

var h_791199 = (hc_791196[hc_791196_Idx] & (t_791192.data_791110 != null ? (t_791192.data_791110.length-1) : -1));
L1: do {
L2: while (true) {
if (!isfilled_639263(t_791192.data_791110[chckIndx(h_791199, 0, t_791192.data_791110.length)-0].Field0)) break L2;
if (!(t_791192.data_791110[chckIndx(h_791199, 0, t_791192.data_791110.length)-0].Field0 == hc_791196[hc_791196_Idx])) Tmp3 = false; else {Tmp3 = HEX3DHEX3D_791201(t_791192.data_791110[chckIndx(h_791199, 0, t_791192.data_791110.length)-0].Field1, key_791194); }if (Tmp3) {
result_791197 = h_791199;
break BeforeRet;
}

h_791199 = nexttry_639401(h_791199, (t_791192.data_791110 != null ? (t_791192.data_791110.length-1) : -1));
}
} while(false);
result_791197 = subInt(-1, h_791199);
} while (false); 
return result_791197;
}
function haskey_791175(t_791181, key_791183) {
var result_791184 = false;
var hc_791185 = [0];
result_791184 = (0 <= rawget_791187(t_791181, key_791183, hc_791185, 0));
return result_791184;
}
function contains_791164(t_791170, key_791172) {
var result_791173 = false;
BeforeRet: do {
result_791173 = haskey_791175(t_791170, key_791172);
break BeforeRet;
} while (false); 
return result_791173;
}
function rawgetknownhc_791504(t_791509, key_791511, hc_791513) {
var result_791514 = 0;
BeforeRet: do {
var h_791515 = (hc_791513 & (t_791509.data_791110 != null ? (t_791509.data_791110.length-1) : -1));
L1: do {
L2: while (true) {
if (!isfilled_639263(t_791509.data_791110[chckIndx(h_791515, 0, t_791509.data_791110.length)-0].Field0)) break L2;
if (((t_791509.data_791110[chckIndx(h_791515, 0, t_791509.data_791110.length)-0].Field0 == hc_791513) && HEX3DHEX3D_791201(t_791509.data_791110[chckIndx(h_791515, 0, t_791509.data_791110.length)-0].Field1, key_791511))) {
result_791514 = h_791515;
break BeforeRet;
}

h_791515 = nexttry_639401(h_791515, (t_791509.data_791110 != null ? (t_791509.data_791110.length-1) : -1));
}
} while(false);
result_791514 = subInt(-1, h_791515);
} while (false); 
return result_791514;
}
function rawinsert_791529(t_791536, data_791540, data_791540_Idx, key_791542, val_791544, hc_791546, h_791548) {
nimCopy(data_791540[data_791540_Idx][chckIndx(h_791548, 0, data_791540[data_791540_Idx].length)-0].Field1, key_791542, NTI791067);
data_791540[data_791540_Idx][chckIndx(h_791548, 0, data_791540[data_791540_Idx].length)-0].Field2 = val_791544;
data_791540[data_791540_Idx][chckIndx(h_791548, 0, data_791540[data_791540_Idx].length)-0].Field0 = hc_791546;
}
function enlarge_791451(t_791458) {
var n_791462 = null;
n_791462 = new Array(chckRange(mulInt((t_791458.data_791110 != null ? t_791458.data_791110.length : 0), 2), 0, 2147483647)); for (var i=0;i<chckRange(mulInt((t_791458.data_791110 != null ? t_791458.data_791110.length : 0), 2), 0, 2147483647);++i) {n_791462[i]={Field0: 0, Field1: {vx_791068: 0.0, vy_791069: 0.0, vz_791070: 0.0, nx_791071: 0.0, ny_791072: 0.0, nz_791073: 0.0}, Field2: 0};}var Tmp1 = t_791458.data_791110; t_791458.data_791110 = n_791462; n_791462 = Tmp1;L2: do {
var i_791502 = 0;
var HEX3Atmp_791552 = 0;
HEX3Atmp_791552 = (n_791462 != null ? (n_791462.length-1) : -1);
var res_791555 = 0;
L3: do {
L4: while (true) {
if (!(res_791555 <= HEX3Atmp_791552)) break L4;
i_791502 = res_791555;
if (isfilled_639263(n_791462[chckIndx(i_791502, 0, n_791462.length)-0].Field0)) {
var j_791527 = subInt(-1, rawgetknownhc_791504(t_791458, n_791462[chckIndx(i_791502, 0, n_791462.length)-0].Field1, n_791462[chckIndx(i_791502, 0, n_791462.length)-0].Field0));
rawinsert_791529(t_791458, t_791458, "data_791110", n_791462[chckIndx(i_791502, 0, n_791462.length)-0].Field1, n_791462[chckIndx(i_791502, 0, n_791462.length)-0].Field2, n_791462[chckIndx(i_791502, 0, n_791462.length)-0].Field0, j_791527);
}

res_791555 = addInt(res_791555, 1);
}
} while(false);
} while(false);
}
function HEX5BHEX5DHEX3D_791415(t_791422, key_791424, val_791426) {
var hc_791427 = [0];
var index_791441 = rawget_791187(t_791422, key_791424, hc_791427, 0);
if ((0 <= index_791441)) {
t_791422.data_791110[chckIndx(index_791441, 0, t_791422.data_791110.length)-0].Field2 = val_791426;
}
else {
if (mustrehash_639268((t_791422.data_791110 != null ? t_791422.data_791110.length : 0), t_791422.counter_791113)) {
enlarge_791451(t_791422);
index_791441 = rawgetknownhc_791504(t_791422, key_791424, hc_791427[0]);
}

index_791441 = subInt(-1, index_791441);
rawinsert_791529(t_791422, t_791422, "data_791110", key_791424, val_791426, hc_791427[0], index_791441);
t_791422.counter_791113 = addInt(t_791422.counter_791113, 1);
}

}
function HEX24_793002(x_793006) {
var result_793007 = null;
result_793007 = cstrToNimstr("(");
var firstelement_793008 = 1;
if (!(firstelement_793008)) {
if (result_793007 != null) { result_793007 = (result_793007.slice(0, -1)).concat(cstrToNimstr(", ")); } else { result_793007 = cstrToNimstr(", ");};
}

if (result_793007 != null) { result_793007 = (result_793007.slice(0, -1)).concat(cstrToNimstr("vx")); } else { result_793007 = cstrToNimstr("vx");};
if (result_793007 != null) { result_793007 = (result_793007.slice(0, -1)).concat(cstrToNimstr(": ")); } else { result_793007 = cstrToNimstr(": ");};
if (result_793007 != null) { result_793007 = (result_793007.slice(0, -1)).concat(cstrToNimstr((x_793006.vx_791068)+"")); } else { result_793007 = cstrToNimstr((x_793006.vx_791068)+"");};
firstelement_793008 = 0;
if (!(firstelement_793008)) {
if (result_793007 != null) { result_793007 = (result_793007.slice(0, -1)).concat(cstrToNimstr(", ")); } else { result_793007 = cstrToNimstr(", ");};
}

if (result_793007 != null) { result_793007 = (result_793007.slice(0, -1)).concat(cstrToNimstr("vy")); } else { result_793007 = cstrToNimstr("vy");};
if (result_793007 != null) { result_793007 = (result_793007.slice(0, -1)).concat(cstrToNimstr(": ")); } else { result_793007 = cstrToNimstr(": ");};
if (result_793007 != null) { result_793007 = (result_793007.slice(0, -1)).concat(cstrToNimstr((x_793006.vy_791069)+"")); } else { result_793007 = cstrToNimstr((x_793006.vy_791069)+"");};
firstelement_793008 = 0;
if (!(firstelement_793008)) {
if (result_793007 != null) { result_793007 = (result_793007.slice(0, -1)).concat(cstrToNimstr(", ")); } else { result_793007 = cstrToNimstr(", ");};
}

if (result_793007 != null) { result_793007 = (result_793007.slice(0, -1)).concat(cstrToNimstr("vz")); } else { result_793007 = cstrToNimstr("vz");};
if (result_793007 != null) { result_793007 = (result_793007.slice(0, -1)).concat(cstrToNimstr(": ")); } else { result_793007 = cstrToNimstr(": ");};
if (result_793007 != null) { result_793007 = (result_793007.slice(0, -1)).concat(cstrToNimstr((x_793006.vz_791070)+"")); } else { result_793007 = cstrToNimstr((x_793006.vz_791070)+"");};
firstelement_793008 = 0;
if (!(firstelement_793008)) {
if (result_793007 != null) { result_793007 = (result_793007.slice(0, -1)).concat(cstrToNimstr(", ")); } else { result_793007 = cstrToNimstr(", ");};
}

if (result_793007 != null) { result_793007 = (result_793007.slice(0, -1)).concat(cstrToNimstr("nx")); } else { result_793007 = cstrToNimstr("nx");};
if (result_793007 != null) { result_793007 = (result_793007.slice(0, -1)).concat(cstrToNimstr(": ")); } else { result_793007 = cstrToNimstr(": ");};
if (result_793007 != null) { result_793007 = (result_793007.slice(0, -1)).concat(cstrToNimstr((x_793006.nx_791071)+"")); } else { result_793007 = cstrToNimstr((x_793006.nx_791071)+"");};
firstelement_793008 = 0;
if (!(firstelement_793008)) {
if (result_793007 != null) { result_793007 = (result_793007.slice(0, -1)).concat(cstrToNimstr(", ")); } else { result_793007 = cstrToNimstr(", ");};
}

if (result_793007 != null) { result_793007 = (result_793007.slice(0, -1)).concat(cstrToNimstr("ny")); } else { result_793007 = cstrToNimstr("ny");};
if (result_793007 != null) { result_793007 = (result_793007.slice(0, -1)).concat(cstrToNimstr(": ")); } else { result_793007 = cstrToNimstr(": ");};
if (result_793007 != null) { result_793007 = (result_793007.slice(0, -1)).concat(cstrToNimstr((x_793006.ny_791072)+"")); } else { result_793007 = cstrToNimstr((x_793006.ny_791072)+"");};
firstelement_793008 = 0;
if (!(firstelement_793008)) {
if (result_793007 != null) { result_793007 = (result_793007.slice(0, -1)).concat(cstrToNimstr(", ")); } else { result_793007 = cstrToNimstr(", ");};
}

if (result_793007 != null) { result_793007 = (result_793007.slice(0, -1)).concat(cstrToNimstr("nz")); } else { result_793007 = cstrToNimstr("nz");};
if (result_793007 != null) { result_793007 = (result_793007.slice(0, -1)).concat(cstrToNimstr(": ")); } else { result_793007 = cstrToNimstr(": ");};
if (result_793007 != null) { result_793007 = (result_793007.slice(0, -1)).concat(cstrToNimstr((x_793006.nz_791073)+"")); } else { result_793007 = cstrToNimstr((x_793006.nz_791073)+"");};
firstelement_793008 = 0;
if (result_793007 != null) { result_793007 = (result_793007.slice(0, -1)).concat(cstrToNimstr(")")); } else { result_793007 = cstrToNimstr(")");};
return result_793007;
}
function HEX5BHEX5D_791604(t_791611, key_791613) {
var result_791615 = [null, 0];
var hc_791617 = [0];
var index_791619 = rawget_791187(t_791611, key_791613, hc_791617, 0);
if ((0 <= index_791619)) {
result_791615 = t_791611.data_791110[chckIndx(index_791619, 0, t_791611.data_791110.length)-0]; result_791615_Idx = "Field2";
}
else {
var e_794203 = null;
e_794203 = {m_type: NTI3448, parent: null, name: null, message: null, trace: null};
e_794203.message = (cstrToNimstr("key not found: ").slice(0,-1)).concat(HEX24_793002(key_791613));
raiseException(e_794203, "KeyError");
}

return [result_791615, result_791615_Idx];
}
function mergeindexes_791078(vertexdata_791081, texcoorddata_791082, normaldata_791083, vertexattrdata_791086, vertexattrdata_791086_Idx, vi_791087, ni_791088, ti_791089, vertexeshash_791114, tgx_791115, tgy_791116, tgz_791117, bneedtangent_791118) {
var Tmp1;
var result_791119 = 0;
var attributespervertex_791120 = 0;
attributespervertex_791120 = addInt(attributespervertex_791120, 3);
if ((0 < (texcoorddata_791082 != null ? texcoorddata_791082.length : 0))) {
attributespervertex_791120 = addInt(attributespervertex_791120, 2);
}

if ((0 < (normaldata_791083 != null ? normaldata_791083.length : 0))) {
attributespervertex_791120 = addInt(attributespervertex_791120, 3);
}

var v_791162 = {vx_791068: 0.0, vy_791069: 0.0, vz_791070: 0.0, nx_791071: 0.0, ny_791072: 0.0, nz_791073: 0.0};
v_791162.vx_791068 = vertexdata_791081[chckIndx(addInt(mulInt(vi_791087, 3), 0), 0, vertexdata_791081.length)-0];
v_791162.vy_791069 = vertexdata_791081[chckIndx(addInt(mulInt(vi_791087, 3), 1), 0, vertexdata_791081.length)-0];
v_791162.vz_791070 = vertexdata_791081[chckIndx(addInt(mulInt(vi_791087, 3), 2), 0, vertexdata_791081.length)-0];
v_791162.nx_791071 = normaldata_791083[chckIndx(addInt(mulInt(ni_791088, 3), 0), 0, normaldata_791083.length)-0];
v_791162.ny_791072 = normaldata_791083[chckIndx(addInt(mulInt(ni_791088, 3), 1), 0, normaldata_791083.length)-0];
v_791162.nz_791073 = normaldata_791083[chckIndx(addInt(mulInt(ni_791088, 3), 2), 0, normaldata_791083.length)-0];
if (!(contains_791164(vertexeshash_791114, v_791162))) {
if (vertexattrdata_791086[vertexattrdata_791086_Idx] != null) { vertexattrdata_791086[vertexattrdata_791086_Idx].push(vertexdata_791081[chckIndx(addInt(mulInt(vi_791087, 3), 0), 0, vertexdata_791081.length)-0]); } else { vertexattrdata_791086[vertexattrdata_791086_Idx] = [vertexdata_791081[chckIndx(addInt(mulInt(vi_791087, 3), 0), 0, vertexdata_791081.length)-0]]; };
if (vertexattrdata_791086[vertexattrdata_791086_Idx] != null) { vertexattrdata_791086[vertexattrdata_791086_Idx].push(vertexdata_791081[chckIndx(addInt(mulInt(vi_791087, 3), 1), 0, vertexdata_791081.length)-0]); } else { vertexattrdata_791086[vertexattrdata_791086_Idx] = [vertexdata_791081[chckIndx(addInt(mulInt(vi_791087, 3), 1), 0, vertexdata_791081.length)-0]]; };
if (vertexattrdata_791086[vertexattrdata_791086_Idx] != null) { vertexattrdata_791086[vertexattrdata_791086_Idx].push(vertexdata_791081[chckIndx(addInt(mulInt(vi_791087, 3), 2), 0, vertexdata_791081.length)-0]); } else { vertexattrdata_791086[vertexattrdata_791086_Idx] = [vertexdata_791081[chckIndx(addInt(mulInt(vi_791087, 3), 2), 0, vertexdata_791081.length)-0]]; };
if ((0 < (texcoorddata_791082 != null ? texcoorddata_791082.length : 0))) {
if (!((ti_791089 == -1))) {
if (vertexattrdata_791086[vertexattrdata_791086_Idx] != null) { vertexattrdata_791086[vertexattrdata_791086_Idx].push(texcoorddata_791082[chckIndx(addInt(mulInt(ti_791089, 2), 0), 0, texcoorddata_791082.length)-0]); } else { vertexattrdata_791086[vertexattrdata_791086_Idx] = [texcoorddata_791082[chckIndx(addInt(mulInt(ti_791089, 2), 0), 0, texcoorddata_791082.length)-0]]; };
if (vertexattrdata_791086[vertexattrdata_791086_Idx] != null) { vertexattrdata_791086[vertexattrdata_791086_Idx].push((1.0000000000000000e+00 - texcoorddata_791082[chckIndx(addInt(mulInt(ti_791089, 2), 1), 0, texcoorddata_791082.length)-0])); } else { vertexattrdata_791086[vertexattrdata_791086_Idx] = [(1.0000000000000000e+00 - texcoorddata_791082[chckIndx(addInt(mulInt(ti_791089, 2), 1), 0, texcoorddata_791082.length)-0])]; };
}
else {
if (vertexattrdata_791086[vertexattrdata_791086_Idx] != null) { vertexattrdata_791086[vertexattrdata_791086_Idx].push(texcoorddata_791082[chckIndx(addInt(mulInt(vi_791087, 2), 0), 0, texcoorddata_791082.length)-0]); } else { vertexattrdata_791086[vertexattrdata_791086_Idx] = [texcoorddata_791082[chckIndx(addInt(mulInt(vi_791087, 2), 0), 0, texcoorddata_791082.length)-0]]; };
if (vertexattrdata_791086[vertexattrdata_791086_Idx] != null) { vertexattrdata_791086[vertexattrdata_791086_Idx].push((1.0000000000000000e+00 - texcoorddata_791082[chckIndx(addInt(mulInt(vi_791087, 2), 1), 0, texcoorddata_791082.length)-0])); } else { vertexattrdata_791086[vertexattrdata_791086_Idx] = [(1.0000000000000000e+00 - texcoorddata_791082[chckIndx(addInt(mulInt(vi_791087, 2), 1), 0, texcoorddata_791082.length)-0])]; };
}

}

if ((0 < (normaldata_791083 != null ? normaldata_791083.length : 0))) {
if (!((ni_791088 == -1))) {
if (vertexattrdata_791086[vertexattrdata_791086_Idx] != null) { vertexattrdata_791086[vertexattrdata_791086_Idx].push(normaldata_791083[chckIndx(addInt(mulInt(ni_791088, 3), 0), 0, normaldata_791083.length)-0]); } else { vertexattrdata_791086[vertexattrdata_791086_Idx] = [normaldata_791083[chckIndx(addInt(mulInt(ni_791088, 3), 0), 0, normaldata_791083.length)-0]]; };
if (vertexattrdata_791086[vertexattrdata_791086_Idx] != null) { vertexattrdata_791086[vertexattrdata_791086_Idx].push(normaldata_791083[chckIndx(addInt(mulInt(ni_791088, 3), 1), 0, normaldata_791083.length)-0]); } else { vertexattrdata_791086[vertexattrdata_791086_Idx] = [normaldata_791083[chckIndx(addInt(mulInt(ni_791088, 3), 1), 0, normaldata_791083.length)-0]]; };
if (vertexattrdata_791086[vertexattrdata_791086_Idx] != null) { vertexattrdata_791086[vertexattrdata_791086_Idx].push(normaldata_791083[chckIndx(addInt(mulInt(ni_791088, 3), 2), 0, normaldata_791083.length)-0]); } else { vertexattrdata_791086[vertexattrdata_791086_Idx] = [normaldata_791083[chckIndx(addInt(mulInt(ni_791088, 3), 2), 0, normaldata_791083.length)-0]]; };
}
else {
if (vertexattrdata_791086[vertexattrdata_791086_Idx] != null) { vertexattrdata_791086[vertexattrdata_791086_Idx].push(normaldata_791083[chckIndx(addInt(mulInt(vi_791087, 3), 0), 0, normaldata_791083.length)-0]); } else { vertexattrdata_791086[vertexattrdata_791086_Idx] = [normaldata_791083[chckIndx(addInt(mulInt(vi_791087, 3), 0), 0, normaldata_791083.length)-0]]; };
if (vertexattrdata_791086[vertexattrdata_791086_Idx] != null) { vertexattrdata_791086[vertexattrdata_791086_Idx].push(normaldata_791083[chckIndx(addInt(mulInt(vi_791087, 3), 1), 0, normaldata_791083.length)-0]); } else { vertexattrdata_791086[vertexattrdata_791086_Idx] = [normaldata_791083[chckIndx(addInt(mulInt(vi_791087, 3), 1), 0, normaldata_791083.length)-0]]; };
if (vertexattrdata_791086[vertexattrdata_791086_Idx] != null) { vertexattrdata_791086[vertexattrdata_791086_Idx].push(normaldata_791083[chckIndx(addInt(mulInt(vi_791087, 3), 2), 0, normaldata_791083.length)-0]); } else { vertexattrdata_791086[vertexattrdata_791086_Idx] = [normaldata_791083[chckIndx(addInt(mulInt(vi_791087, 3), 2), 0, normaldata_791083.length)-0]]; };
}

}

if (bneedtangent_791118) {
if (vertexattrdata_791086[vertexattrdata_791086_Idx] != null) { vertexattrdata_791086[vertexattrdata_791086_Idx].push(tgx_791115); } else { vertexattrdata_791086[vertexattrdata_791086_Idx] = [tgx_791115]; };
if (vertexattrdata_791086[vertexattrdata_791086_Idx] != null) { vertexattrdata_791086[vertexattrdata_791086_Idx].push(tgy_791116); } else { vertexattrdata_791086[vertexattrdata_791086_Idx] = [tgy_791116]; };
if (vertexattrdata_791086[vertexattrdata_791086_Idx] != null) { vertexattrdata_791086[vertexattrdata_791086_Idx].push(tgz_791117); } else { vertexattrdata_791086[vertexattrdata_791086_Idx] = [tgz_791117]; };
attributespervertex_791120 = addInt(attributespervertex_791120, 3);
}

result_791119 = (HEX2F_14010((vertexattrdata_791086[vertexattrdata_791086_Idx] != null ? vertexattrdata_791086[vertexattrdata_791086_Idx].length : 0), attributespervertex_791120) - 1.0000000000000000e+00);
HEX5BHEX5DHEX3D_791415(vertexeshash_791114, v_791162, result_791119);
}
else {
result_791119 = (Tmp1 = HEX5BHEX5D_791604(vertexeshash_791114, v_791162), Tmp1[0][Tmp1[1]]);
}

return result_791119;
}
function preparevbo_794219(vertexdata_794222, texcoorddata_794223, normaldata_794224, faces_794226, vertexattrdata_794229, vertexattrdata_794229_Idx, indexdata_794232, indexdata_794232_Idx, vertexofset_794233, normalofset_794234, texcoordofset_794235, bneedcomputetangentdata_794236) {
var i_794237 = 0;
var stride_794238 = 1;
if (!((normalofset_794234 == 0))) {
stride_794238 = addInt(stride_794238, 1);
}

if (!((texcoordofset_794235 == 0))) {
stride_794238 = addInt(stride_794238, 1);
}

var facestep_794258 = mulInt(stride_794238, 3);
var vertexeshash_794411 = /**/[inittable_794260(64)];
L1: do {
L2: while (true) {
if (!(i_794237 < (faces_794226 != null ? faces_794226.length : 0))) break L2;
var vi0_794420 = faces_794226[chckIndx(addInt(i_794237, vertexofset_794233), 0, faces_794226.length)-0];
var vi1_794421 = faces_794226[chckIndx(addInt(addInt(i_794237, vertexofset_794233), stride_794238), 0, faces_794226.length)-0];
var vi2_794422 = faces_794226[chckIndx(addInt(addInt(i_794237, vertexofset_794233), mulInt(2, stride_794238)), 0, faces_794226.length)-0];
var ni0_794423 = faces_794226[chckIndx(addInt(i_794237, normalofset_794234), 0, faces_794226.length)-0];
var ni1_794424 = faces_794226[chckIndx(addInt(addInt(i_794237, normalofset_794234), stride_794238), 0, faces_794226.length)-0];
var ni2_794425 = faces_794226[chckIndx(addInt(addInt(i_794237, normalofset_794234), mulInt(2, stride_794238)), 0, faces_794226.length)-0];
var ti0_794426 = faces_794226[chckIndx(addInt(i_794237, texcoordofset_794235), 0, faces_794226.length)-0];
var ti1_794427 = faces_794226[chckIndx(addInt(addInt(i_794237, texcoordofset_794235), stride_794238), 0, faces_794226.length)-0];
var ti2_794428 = faces_794226[chckIndx(addInt(addInt(i_794237, texcoordofset_794235), mulInt(2, stride_794238)), 0, faces_794226.length)-0];
if (bneedcomputetangentdata_794236) {
var v0_794429 = newvector3_21136(vertexdata_794222[chckIndx(addInt(mulInt(vi0_794420, 3), 0), 0, vertexdata_794222.length)-0], vertexdata_794222[chckIndx(addInt(mulInt(vi0_794420, 3), 1), 0, vertexdata_794222.length)-0], vertexdata_794222[chckIndx(addInt(mulInt(vi0_794420, 3), 2), 0, vertexdata_794222.length)-0]);
var v1_794430 = newvector3_21136(vertexdata_794222[chckIndx(addInt(mulInt(vi1_794421, 3), 0), 0, vertexdata_794222.length)-0], vertexdata_794222[chckIndx(addInt(mulInt(vi1_794421, 3), 1), 0, vertexdata_794222.length)-0], vertexdata_794222[chckIndx(addInt(mulInt(vi1_794421, 3), 2), 0, vertexdata_794222.length)-0]);
var v2_794431 = newvector3_21136(vertexdata_794222[chckIndx(addInt(mulInt(vi2_794422, 3), 0), 0, vertexdata_794222.length)-0], vertexdata_794222[chckIndx(addInt(mulInt(vi2_794422, 3), 1), 0, vertexdata_794222.length)-0], vertexdata_794222[chckIndx(addInt(mulInt(vi2_794422, 3), 2), 0, vertexdata_794222.length)-0]);
var uv0_794432 = newvector2_21129(texcoorddata_794223[chckIndx(addInt(mulInt(ti0_794426, 2), 0), 0, texcoorddata_794223.length)-0], (1.0000000000000000e+00 - texcoorddata_794223[chckIndx(addInt(mulInt(ti0_794426, 2), 1), 0, texcoorddata_794223.length)-0]));
var uv1_794433 = newvector2_21129(texcoorddata_794223[chckIndx(addInt(mulInt(ti1_794427, 2), 0), 0, texcoorddata_794223.length)-0], (1.0000000000000000e+00 - texcoorddata_794223[chckIndx(addInt(mulInt(ti1_794427, 2), 1), 0, texcoorddata_794223.length)-0]));
var uv2_794434 = newvector2_21129(texcoorddata_794223[chckIndx(addInt(mulInt(ti2_794428, 2), 0), 0, texcoorddata_794223.length)-0], (1.0000000000000000e+00 - texcoorddata_794223[chckIndx(addInt(mulInt(ti2_794428, 2), 1), 0, texcoorddata_794223.length)-0]));
var deltapos1_794487 = HEX2D_724712(v1_794430, v0_794429);
var deltapos2_794540 = HEX2D_724712(v2_794431, v0_794429);
var deltauv1_794593 = HEX2D_723911(uv1_794433, uv0_794432);
var deltauv2_794646 = HEX2D_723911(uv2_794434, uv0_794432);
var r_794655 = (1.0000000000000000e+00 / ((deltauv1_794593[0] * deltauv2_794646[1]) - (deltauv1_794593[1] * deltauv2_794646[0])));
var tangent_794826 = /**/[HEX2A_711437(HEX2D_724712(HEX2A_711437(deltapos1_794487, deltauv2_794646[1]), HEX2A_711437(deltapos2_794540, deltauv1_794593[1])), r_794655)];
normalize_21182(tangent_794826[0]);
if (indexdata_794232[indexdata_794232_Idx] != null) { indexdata_794232[indexdata_794232_Idx].push(mergeindexes_791078(vertexdata_794222, texcoorddata_794223, normaldata_794224, vertexattrdata_794229, vertexattrdata_794229_Idx, vi0_794420, ni0_794423, ti0_794426, vertexeshash_794411[0], tangent_794826[0][0], tangent_794826[0][1], tangent_794826[0][2], 1)); } else { indexdata_794232[indexdata_794232_Idx] = [mergeindexes_791078(vertexdata_794222, texcoorddata_794223, normaldata_794224, vertexattrdata_794229, vertexattrdata_794229_Idx, vi0_794420, ni0_794423, ti0_794426, vertexeshash_794411[0], tangent_794826[0][0], tangent_794826[0][1], tangent_794826[0][2], 1)]; };
if (indexdata_794232[indexdata_794232_Idx] != null) { indexdata_794232[indexdata_794232_Idx].push(mergeindexes_791078(vertexdata_794222, texcoorddata_794223, normaldata_794224, vertexattrdata_794229, vertexattrdata_794229_Idx, vi1_794421, ni1_794424, ti1_794427, vertexeshash_794411[0], tangent_794826[0][0], tangent_794826[0][1], tangent_794826[0][2], 1)); } else { indexdata_794232[indexdata_794232_Idx] = [mergeindexes_791078(vertexdata_794222, texcoorddata_794223, normaldata_794224, vertexattrdata_794229, vertexattrdata_794229_Idx, vi1_794421, ni1_794424, ti1_794427, vertexeshash_794411[0], tangent_794826[0][0], tangent_794826[0][1], tangent_794826[0][2], 1)]; };
if (indexdata_794232[indexdata_794232_Idx] != null) { indexdata_794232[indexdata_794232_Idx].push(mergeindexes_791078(vertexdata_794222, texcoorddata_794223, normaldata_794224, vertexattrdata_794229, vertexattrdata_794229_Idx, vi2_794422, ni2_794425, ti2_794428, vertexeshash_794411[0], tangent_794826[0][0], tangent_794826[0][1], tangent_794826[0][2], 1)); } else { indexdata_794232[indexdata_794232_Idx] = [mergeindexes_791078(vertexdata_794222, texcoorddata_794223, normaldata_794224, vertexattrdata_794229, vertexattrdata_794229_Idx, vi2_794422, ni2_794425, ti2_794428, vertexeshash_794411[0], tangent_794826[0][0], tangent_794826[0][1], tangent_794826[0][2], 1)]; };
}
else {
if (indexdata_794232[indexdata_794232_Idx] != null) { indexdata_794232[indexdata_794232_Idx].push(mergeindexes_791078(vertexdata_794222, texcoorddata_794223, normaldata_794224, vertexattrdata_794229, vertexattrdata_794229_Idx, vi0_794420, ni0_794423, ti0_794426, vertexeshash_794411[0], 0.0, 0.0, 0.0, 0)); } else { indexdata_794232[indexdata_794232_Idx] = [mergeindexes_791078(vertexdata_794222, texcoorddata_794223, normaldata_794224, vertexattrdata_794229, vertexattrdata_794229_Idx, vi0_794420, ni0_794423, ti0_794426, vertexeshash_794411[0], 0.0, 0.0, 0.0, 0)]; };
if (indexdata_794232[indexdata_794232_Idx] != null) { indexdata_794232[indexdata_794232_Idx].push(mergeindexes_791078(vertexdata_794222, texcoorddata_794223, normaldata_794224, vertexattrdata_794229, vertexattrdata_794229_Idx, vi1_794421, ni1_794424, ti1_794427, vertexeshash_794411[0], 0.0, 0.0, 0.0, 0)); } else { indexdata_794232[indexdata_794232_Idx] = [mergeindexes_791078(vertexdata_794222, texcoorddata_794223, normaldata_794224, vertexattrdata_794229, vertexattrdata_794229_Idx, vi1_794421, ni1_794424, ti1_794427, vertexeshash_794411[0], 0.0, 0.0, 0.0, 0)]; };
if (indexdata_794232[indexdata_794232_Idx] != null) { indexdata_794232[indexdata_794232_Idx].push(mergeindexes_791078(vertexdata_794222, texcoorddata_794223, normaldata_794224, vertexattrdata_794229, vertexattrdata_794229_Idx, vi2_794422, ni2_794425, ti2_794428, vertexeshash_794411[0], 0.0, 0.0, 0.0, 0)); } else { indexdata_794232[indexdata_794232_Idx] = [mergeindexes_791078(vertexdata_794222, texcoorddata_794223, normaldata_794224, vertexattrdata_794229, vertexattrdata_794229_Idx, vi2_794422, ni2_794425, ti2_794428, vertexeshash_794411[0], 0.0, 0.0, 0.0, 0)]; };
}

i_794237 = addInt(i_794237, facestep_794258);
}
} while(false);
}
function newvertexinfowithvertexdata_737011(vertexdatalen_737013, texcoorddatalen_737014, normaldatalen_737015, tangentdatalen_737016, binormaldatalen_737017) {
var result_737018 = {numofcoordpervert_737005: 0, numofcoordpernormal_737006: 0, numofcoordpertexcoord_737007: 0, numofcoordperbinormal_737008: 0, numofcoordpertangent_737009: 0, stride_737010: 0};
if (!((vertexdatalen_737013 == 0))) {
result_737018.numofcoordpervert_737005 = 3;
}

if (!((texcoorddatalen_737014 == 0))) {
result_737018.numofcoordpertexcoord_737007 = 2;
}

if (!((normaldatalen_737015 == 0))) {
result_737018.numofcoordpernormal_737006 = 3;
}

if (!((binormaldatalen_737017 == 0))) {
result_737018.numofcoordperbinormal_737008 = 3;
}

if (!((tangentdatalen_737016 == 0))) {
result_737018.numofcoordpertangent_737009 = 3;
}

result_737018.stride_737010 = mulInt((addInt(addInt(addInt(addInt(result_737018.numofcoordpervert_737005, result_737018.numofcoordpertexcoord_737007), result_737018.numofcoordpernormal_737006), result_737018.numofcoordperbinormal_737008), result_737018.numofcoordpertangent_737009)|0), 4);
return result_737018;
}
function bufferdata_653801(gl_653803, target_653804, data_653806, usage_653807) {
gl_653803.bufferData(target_653804, new Uint16Array(data_653806), usage_653807);}
function bufferdata_653601(gl_653603, target_653604, data_653606, usage_653607) {
gl_653603.bufferData(target_653604, new Float32Array(data_653606), usage_653607);}
function createvbo_741371(m_741373, indexdata_741375, vertexattrdata_741377) {
function HEX3Aanonymous_741378() {
var gl_741380 = gcurrentcontext_690214[0].gl_690204;
m_741373.indexbuffer_741205 = gl_741380.createBuffer();
gl_741380.bindBuffer(gl_741380.ELEMENT_ARRAY_BUFFER, m_741373.indexbuffer_741205);
bufferdata_653801(gl_741380, gl_741380.ELEMENT_ARRAY_BUFFER, indexdata_741375, gl_741380.STATIC_DRAW);
m_741373.vertexbuffer_741206 = gl_741380.createBuffer();
gl_741380.bindBuffer(gl_741380.ARRAY_BUFFER, m_741373.vertexbuffer_741206);
bufferdata_653601(gl_741380, gl_741380.ARRAY_BUFFER, vertexattrdata_741377, gl_741380.STATIC_DRAW);
m_741373.numberofindices_741207 = (indexdata_741375 != null ? indexdata_741375.length : 0);
}
var loadfunc_741390 = HEX3Aanonymous_741378;
if (gcurrentcontext_690214[0] == null) {
m_741373.loadfunc_741210 = loadfunc_741390;
}
else {
loadfunc_741390();
}

}
function loadsceneasync_795020(resourcename_795022, handler_795026) {
function HEX3Aanonymous_795027(s_795029) {
var Tmp7;
var Tmp8;
var loader_795030 = null;
var colladarootnode_795031 = load_789604(loader_795030, s_795029);
close_660270(s_795029);
var res_795032 = newnode_718001(colladarootnode_795031.name_779212);
var i_795033 = 0;
L1: do {
var child_795202 = null;
var HEX3Atmp_795511 = null;
HEX3Atmp_795511 = colladarootnode_795031.childnodesgeometry_779220;
var i_795514 = 0;
var L_795516 = (HEX3Atmp_795511 != null ? HEX3Atmp_795511.length : 0);
L2: do {
L3: while (true) {
if (!(i_795514 < L_795516)) break L3;
child_795202 = HEX3Atmp_795511[chckIndx(i_795514, 0, HEX3Atmp_795511.length)-0];
var childnode_795203 = newchild_720014(res_795032, child_795202.name_779049);
var nodetranslation_795204 = parsematrix4_791024(colladarootnode_795031.childnodesmatrices_779216[chckIndx(i_795033, 0, colladarootnode_795031.childnodesmatrices_779216.length)-0]);
nimCopy(childnode_795203.translation_713023, newvector_795206(nodetranslation_795204[3], nodetranslation_795204[7], nodetranslation_795204[11]), NTI21068);
i_795033 = addInt(i_795033, 1);
var childmesh_795248 = component_795230(childnode_795203);
var childcolladamaterial_795249 = {name_779011: null, emission_779014: [0.0, 0.0, 0.0, 0.0], ambient_779017: [0.0, 0.0, 0.0, 0.0], diffuse_779020: [0.0, 0.0, 0.0, 0.0], specular_779023: [0.0, 0.0, 0.0, 0.0], shininess_779024: 0.0, reflective_779027: [0.0, 0.0, 0.0, 0.0], reflectivity_779028: 0.0, transparent_779031: [0.0, 0.0, 0.0, 0.0], transparency_779032: 0.0, diffusetexturename_779033: null, speculartexturename_779034: null, reflectivetexturename_779035: null, transparentstexturename_779036: null};
L4: do {
var mat_795402 = {name_779011: null, emission_779014: [0.0, 0.0, 0.0, 0.0], ambient_779017: [0.0, 0.0, 0.0, 0.0], diffuse_779020: [0.0, 0.0, 0.0, 0.0], specular_779023: [0.0, 0.0, 0.0, 0.0], shininess_779024: 0.0, reflective_779027: [0.0, 0.0, 0.0, 0.0], reflectivity_779028: 0.0, transparent_779031: [0.0, 0.0, 0.0, 0.0], transparency_779032: 0.0, diffusetexturename_779033: null, speculartexturename_779034: null, reflectivetexturename_779035: null, transparentstexturename_779036: null};
var HEX3Atmp_795505 = null;
HEX3Atmp_795505 = colladarootnode_795031.childnodesmaterial_779222;
var i_795508 = 0;
var L_795510 = (HEX3Atmp_795505 != null ? HEX3Atmp_795505.length : 0);
L5: do {
L6: while (true) {
if (!(i_795508 < L_795510)) break L6;
mat_795402 = HEX3Atmp_795505[chckIndx(i_795508, 0, HEX3Atmp_795505.length)-0];
if (contains_30228(mat_795402.name_779011, child_795202.materialname_779050)) {
nimCopy(childcolladamaterial_795249, mat_795402, NTI779010);
}

i_795508 = addInt(i_795508, 1);
if (!(((HEX3Atmp_795505 != null ? HEX3Atmp_795505.length : 0) == L_795510))) {
failedassertimpl_14716(cstrToNimstr("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
setambientcolor_738676(childmesh_795248.material_741212, childcolladamaterial_795249.ambient_779017[0], childcolladamaterial_795249.ambient_779017[1], childcolladamaterial_795249.ambient_779017[2], childcolladamaterial_795249.ambient_779017[3]);
setemissioncolor_738696(childmesh_795248.material_741212, childcolladamaterial_795249.emission_779014[0], childcolladamaterial_795249.emission_779014[1], childcolladamaterial_795249.emission_779014[2], childcolladamaterial_795249.emission_779014[3]);
setdiffusecolor_738728(childmesh_795248.material_741212, childcolladamaterial_795249.diffuse_779020[0], childcolladamaterial_795249.diffuse_779020[1], childcolladamaterial_795249.diffuse_779020[2], childcolladamaterial_795249.diffuse_779020[3]);
setspecularcolor_738754(childmesh_795248.material_741212, childcolladamaterial_795249.specular_779023[0], childcolladamaterial_795249.specular_779023[1], childcolladamaterial_795249.specular_779023[2], childcolladamaterial_795249.specular_779023[3]);
setshininess_738774(childmesh_795248.material_741212, childcolladamaterial_795249.shininess_779024);
setreflectivity_738791(childmesh_795248.material_741212, childcolladamaterial_795249.reflectivity_779028);
if ((childcolladamaterial_795249.transparency_779032 < 1.0000000000000000e+00)) {
childmesh_795248.material_741212.blendenable_738655 = 0;
}

if (!(eqStrings(childcolladamaterial_795249.diffusetexturename_779033, null))) {
var texlocation_795404 = gettexturelocationbyname_794924(colladarootnode_795031, childcolladamaterial_795249.diffusetexturename_779033);
if (!(eqStrings(texlocation_795404, null))) {
childmesh_795248.material_741212.albedotexture_738645 = imagewithresource_683003((cstrToNimstr("collada/").slice(0,-1)).concat(texlocation_795404));
}

}

if (!(eqStrings(childcolladamaterial_795249.reflectivetexturename_779035, null))) {
var texlocation_795405 = gettexturelocationbyname_794924(colladarootnode_795031, childcolladamaterial_795249.reflectivetexturename_779035);
if (!(eqStrings(texlocation_795405, null))) {
childmesh_795248.material_741212.reflectiontexture_738650 = imagewithresource_683003((cstrToNimstr("collada/").slice(0,-1)).concat(texlocation_795405));
childmesh_795248.material_741212.fallofftexture_738651 = imagewithresource_683003(cstrToNimstr("collada/baloon_star_falloff.png"));
childmesh_795248.material_741212.normaltexture_738648 = imagewithresource_683003(cstrToNimstr("collada/baloon_star_normals.png"));
}

}

if (!(eqStrings(childcolladamaterial_795249.speculartexturename_779034, null))) {
var texlocation_795406 = gettexturelocationbyname_794924(colladarootnode_795031, childcolladamaterial_795249.speculartexturename_779034);
if (!(eqStrings(texlocation_795406, null))) {
childmesh_795248.material_741212.speculartexture_738647 = imagewithresource_683003((cstrToNimstr("collada/").slice(0,-1)).concat(texlocation_795406));
}

}

if (childmesh_795248.material_741212.normaltexture_738648 == null) {
Tmp7 = 0;
}
else {
Tmp7 = 1;
}

var bneedcomputetangentdata_795415 = Tmp7;
var vertexattrdata_795444 = /**/[newseq_692050(0)];
var indexdata_795473 = /**/[newseq_741538(0)];
preparevbo_794219(child_795202.vertices_779052, child_795202.texcoords_779054, child_795202.normals_779056, child_795202.triangles_779058, vertexattrdata_795444, 0, indexdata_795473, 0, child_795202.faceaccessor_779059.vertexofset_779043, child_795202.faceaccessor_779059.normalofset_779044, child_795202.faceaccessor_779059.texcoordofset_779045, bneedcomputetangentdata_795415);
if (bneedcomputetangentdata_795415) {
Tmp8 = 3;
}
else {
Tmp8 = 0;
}

nimCopy(childmesh_795248.vertinfo_741211, newvertexinfowithvertexdata_737011((child_795202.vertices_779052 != null ? child_795202.vertices_779052.length : 0), (child_795202.texcoords_779054 != null ? child_795202.texcoords_779054.length : 0), (child_795202.normals_779056 != null ? child_795202.normals_779056.length : 0), Tmp8, 0), NTI737004);
createvbo_741371(childmesh_795248, indexdata_795473[0], vertexattrdata_795444[0]);
i_795514 = addInt(i_795514, 1);
if (!(((HEX3Atmp_795511 != null ? HEX3Atmp_795511.length : 0) == L_795516))) {
failedassertimpl_14716(cstrToNimstr("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
handler_795026(res_795032);
}
loadresourceasync_677401(resourcename_795022, HEX3Aanonymous_795027);
}
function new_776004(frame_776011) {
var result_776012 = null;
result_776012 = {m_type: NTI774003, nametextfield_774004: null, window_696022: null, frame_696023: {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}}, bounds_696024: {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}}, subviews_696026: null, superview_696027: null, autoresizingmask_696029: {}, backgroundcolor_696030: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, gesturedetectors_696032: null};
init_696078(result_776012, frame_776011);
return result_776012;
}
function new_775017(frame_775024) {
var result_775025 = null;
result_775025 = {m_type: NTI755005, window_696022: null, frame_696023: {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}}, bounds_696024: {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}}, subviews_696026: null, superview_696027: null, autoresizingmask_696029: {}, backgroundcolor_696030: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, gesturedetectors_696032: null};
init_696078(result_775025, frame_775024);
return result_775025;
}
function newlabel_765043(r_765045) {
var result_765046 = null;
result_765046 = newtextfield_765015(r_765045);
result_765046.editable_765005 = 0;
return result_765046;
}
function new_775038(frame_775045) {
var result_775046 = null;
result_775046 = {m_type: NTI757013, rootitem_757014: null, selectedindexpath_757016: null, numberofchildreninitem_757022: null, childofitem_757028: null, createcell_757031: null, configurecell_757037: null, onselectionchanged_757040: null, tempindexpath_757042: null, window_696022: null, frame_696023: {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}}, bounds_696024: {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}}, subviews_696026: null, superview_696027: null, autoresizingmask_696029: {}, backgroundcolor_696030: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, gesturedetectors_696032: null};
init_696078(result_775046, frame_775045);
return result_775046;
}
function get_775072(v_775076) {
var result_775079 = null;
if (!((1419966796 == v_775076.typeid_714822))) {
var e_775203 = null;
e_775203 = {m_type: NTI3424, parent: null, name: null, message: null, trace: null};
e_775203.message = cstrToNimstr("Wrong variant type. Compile with -d:variantDebugTypes switch to get more type information.");
raiseException(e_775203, "Exception");
}

        result_775079 = v_775076.val;
        return result_775079;
}
function newvariant_775434(val_775438) {
var result_775439 = {typeid_714822: 0, val: null};
result_775439.typeid_714822 = 1419966796;
var valcopy_775801 = val_775438;
        result_775439.val = valcopy_775801;
        return result_775439;
}
function newtableviewcell_756012(r_756014) {
var result_756015 = null;
result_756015 = {m_type: NTI756007, row_756008: 0, col_756009: 0, selected_756010: false, window_696022: null, frame_696023: {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}}, bounds_696024: {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}}, subviews_696026: null, superview_696027: null, autoresizingmask_696029: {}, backgroundcolor_696030: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, gesturedetectors_696032: null};
init_696078(result_756015, r_756014);
return result_756015;
}
function newtableviewcell_756024(s_756026) {
var result_756027 = null;
result_756027 = newtableviewcell_756012(newrect_20067({Field0: 0.0, Field1: 0.0}, s_756026));
return result_756027;
}
function newtableviewcell_756028(v_756030) {
var result_756031 = null;
result_756031 = newtableviewcell_756024(frame_697645(v_756030).Field1);
nimCopy(v_756030.autoresizingmask_696029, SetConstr(4, 5), NTI756032);
addsubview_697246(result_756031, v_756030);
return result_756031;
}
function nodeatindexpath_757639(v_757641, indexpath_757643) {
var result_757644 = null;
result_757644 = v_757641.rootitem_757014;
L1: do {
var i_757670 = 0;
var i_757674 = 0;
L2: do {
L3: while (true) {
if (!(i_757674 < (indexpath_757643 != null ? indexpath_757643.length : 0))) break L3;
i_757670 = indexpath_757643[chckIndx(i_757674, 0, indexpath_757643.length)-0];
result_757644 = result_757644.children_757007[chckIndx(i_757670, 0, result_757644.children_757007.length)-0];
i_757674 = addInt(i_757674, 1);
}
} while(false);
} while(false);
return result_757644;
}
function itematindexpath_757691(v_757693, indexpath_757695) {
var result_757696 = {typeid_714822: 0, val: null};
nimCopy(result_757696, nodeatindexpath_757639(v_757693, indexpath_757695).item_757008, NTI714821);
return result_757696;
}
function getordefault_767274(t_767280, key_767282) {
var result_767283 = null;
var hc_767285 = [0];
var index_767287 = rawget_767289(t_767280, key_767282, hc_767285, 0);
if ((0 <= index_767287)) {
result_767283 = t_767280.data_767030[chckIndx(index_767287, 0, t_767280.data_767030.length)-0].Field2;
}

return result_767283;
}
function propertyeditorforproperty_767267(n_767269, title_767270, v_767271) {
var result_767272 = null;
var creator_767306 = getordefault_767274(propeditors_767211[0], v_767271.typeid_714822);
result_767272 = new_767310(newrect_20072(0.0, 0.0, 2.0000000000000000e+02, 2.0000000000000000e+01));
var label_767328 = newlabel_765043(newrect_20072(0.0, 0.0, 7.0000000000000000e+01, 2.0000000000000000e+01));
label_767328.text_765004 = (title_767270.slice(0,-1)).concat(cstrToNimstr(":"));
addsubview_697246(result_767272, label_767328);
if (creator_767306 == null) {
label_767328.text_765004 = (title_767270.slice(0,-1)).concat(cstrToNimstr(" - Unknown property"));
}
else {
var editor_767336 = creator_767306(n_767269, v_767271);
var sz_767337 = nimCopy(null, frame_697645(result_767272).Field1, NTI20010);
sz_767337.Field1 = height_20035(frame_697645(editor_767336));
setframeorigin_697616(editor_767336, newpoint_20055(width_20031(frame_697645(label_767328)), 0.0));
setframesize_697609(editor_767336, sz_767337);
nimCopy(sz_767337, newsize_20061((width_20031(bounds_697654(result_767272)) - width_20031(frame_697645(label_767328))), height_20035(frame_697645(editor_767336))), NTI20010);
setframesize_697609(editor_767336, sz_767337);
nimCopy(editor_767336.autoresizingmask_696029, SetConstr(4, 3), NTI767338);
addsubview_697246(result_767272, editor_767336);
}

return result_767272;
}
function SetEq(a_12307, b_12308) {
    for (var elem in a_12307) { if (!b_12308[elem]) return false; }
    for (var elem in b_12308) { if (!a_12307[elem]) return false; }
    return true;
  }
function SetMul(a_12322, b_12323) {
    var result = {};
    for (var elem in a_12322) {
      if (b_12323[elem]) { result[elem] = true; }
    }
    return result;
  }
function newvariant_720193(val_720197) {
var result_720198 = {typeid_714822: 0, val: null};
result_720198.typeid_714822 = 2139396368;
var valcopy_720601 = nimCopy(null, val_720197, NTI720174);
        result_720198.val = valcopy_720601;
        return result_720198;
}
function newvariant_720657(val_720661) {
var result_720662 = {typeid_714822: 0, val: null};
result_720662.typeid_714822 = 430767085;
var valcopy_721001 = nimCopy(null, val_720661, NTI720638);
        result_720662.val = valcopy_721001;
        return result_720662;
}
function multiply_22048(mat_22050, vec_22051, dest_22053) {
var HEX3Atmp_797805 = {Field0: 0.0, Field1: 0.0, Field2: 0.0};
var x_22055 = 0.0;
var y_22056 = 0.0;
var z_22057 = 0.0;
nimCopy(HEX3Atmp_797805, {Field0: vec_22051[0], Field1: vec_22051[1], Field2: vec_22051[2]}, NTI22054);
x_22055 = HEX3Atmp_797805["Field0"];
y_22056 = HEX3Atmp_797805["Field1"];
z_22057 = HEX3Atmp_797805["Field2"];
dest_22053[0] = ((((mat_22050[0] * x_22055) + (mat_22050[4] * y_22056)) + (mat_22050[8] * z_22057)) + mat_22050[12]);
dest_22053[1] = ((((mat_22050[1] * x_22055) + (mat_22050[5] * y_22056)) + (mat_22050[9] * z_22057)) + mat_22050[13]);
dest_22053[2] = ((((mat_22050[2] * x_22055) + (mat_22050[6] * y_22056)) + (mat_22050[10] * z_22057)) + mat_22050[14]);
}
function HEX2A_22075(mat_22077, vec_22078) {
var result_22079 = [[0.0, 0.0, 0.0]];
multiply_22048(mat_22077, vec_22078, result_22079[0]);
return result_22079[0];
}
function tryinverse_21761(mat_21763, dest_21765) {
var result_21766 = false;
BeforeRet: do {
var HEX3Atmp_797806 = {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0};
var a00_21768 = 0.0;
var a01_21769 = 0.0;
var a02_21770 = 0.0;
var a03_21771 = 0.0;
nimCopy(HEX3Atmp_797806, {Field0: mat_21763[0], Field1: mat_21763[1], Field2: mat_21763[2], Field3: mat_21763[3]}, NTI21767);
a00_21768 = HEX3Atmp_797806["Field0"];
a01_21769 = HEX3Atmp_797806["Field1"];
a02_21770 = HEX3Atmp_797806["Field2"];
a03_21771 = HEX3Atmp_797806["Field3"];
var HEX3Atmp_797807 = {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0};
var a10_21773 = 0.0;
var a11_21774 = 0.0;
var a12_21775 = 0.0;
var a13_21776 = 0.0;
nimCopy(HEX3Atmp_797807, {Field0: mat_21763[4], Field1: mat_21763[5], Field2: mat_21763[6], Field3: mat_21763[7]}, NTI21772);
a10_21773 = HEX3Atmp_797807["Field0"];
a11_21774 = HEX3Atmp_797807["Field1"];
a12_21775 = HEX3Atmp_797807["Field2"];
a13_21776 = HEX3Atmp_797807["Field3"];
var HEX3Atmp_797808 = {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0};
var a20_21778 = 0.0;
var a21_21779 = 0.0;
var a22_21780 = 0.0;
var a23_21781 = 0.0;
nimCopy(HEX3Atmp_797808, {Field0: mat_21763[8], Field1: mat_21763[9], Field2: mat_21763[10], Field3: mat_21763[11]}, NTI21777);
a20_21778 = HEX3Atmp_797808["Field0"];
a21_21779 = HEX3Atmp_797808["Field1"];
a22_21780 = HEX3Atmp_797808["Field2"];
a23_21781 = HEX3Atmp_797808["Field3"];
var HEX3Atmp_797809 = {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0};
var a30_21783 = 0.0;
var a31_21784 = 0.0;
var a32_21785 = 0.0;
var a33_21786 = 0.0;
nimCopy(HEX3Atmp_797809, {Field0: mat_21763[12], Field1: mat_21763[13], Field2: mat_21763[14], Field3: mat_21763[15]}, NTI21782);
a30_21783 = HEX3Atmp_797809["Field0"];
a31_21784 = HEX3Atmp_797809["Field1"];
a32_21785 = HEX3Atmp_797809["Field2"];
a33_21786 = HEX3Atmp_797809["Field3"];
var b00_21787 = ((a00_21768 * a11_21774) - (a01_21769 * a10_21773));
var b01_21788 = ((a00_21768 * a12_21775) - (a02_21770 * a10_21773));
var b02_21789 = ((a00_21768 * a13_21776) - (a03_21771 * a10_21773));
var b03_21790 = ((a01_21769 * a12_21775) - (a02_21770 * a11_21774));
var b04_21791 = ((a01_21769 * a13_21776) - (a03_21771 * a11_21774));
var b05_21792 = ((a02_21770 * a13_21776) - (a03_21771 * a12_21775));
var b06_21793 = ((a20_21778 * a31_21784) - (a21_21779 * a30_21783));
var b07_21794 = ((a20_21778 * a32_21785) - (a22_21780 * a30_21783));
var b08_21795 = ((a20_21778 * a33_21786) - (a23_21781 * a30_21783));
var b09_21796 = ((a21_21779 * a32_21785) - (a22_21780 * a31_21784));
var b10_21797 = ((a21_21779 * a33_21786) - (a23_21781 * a31_21784));
var b11_21798 = ((a22_21780 * a33_21786) - (a23_21781 * a32_21785));
var d_21799 = ((((((b00_21787 * b11_21798) - (b01_21788 * b10_21797)) + (b02_21789 * b09_21796)) + (b03_21790 * b08_21795)) - (b04_21791 * b07_21794)) + (b05_21792 * b06_21793));
if ((d_21799 == 0.0)) {
result_21766 = 0;
break BeforeRet;
}

result_21766 = 1;
var invdet_21800 = (1.0000000000000000e+00 / d_21799);
dest_21765[0] = ((((a11_21774 * b11_21798) - (a12_21775 * b10_21797)) + (a13_21776 * b09_21796)) * invdet_21800);
dest_21765[1] = ((((-(a01_21769) * b11_21798) + (a02_21770 * b10_21797)) - (a03_21771 * b09_21796)) * invdet_21800);
dest_21765[2] = ((((a31_21784 * b05_21792) - (a32_21785 * b04_21791)) + (a33_21786 * b03_21790)) * invdet_21800);
dest_21765[3] = ((((-(a21_21779) * b05_21792) + (a22_21780 * b04_21791)) - (a23_21781 * b03_21790)) * invdet_21800);
dest_21765[4] = ((((-(a10_21773) * b11_21798) + (a12_21775 * b08_21795)) - (a13_21776 * b07_21794)) * invdet_21800);
dest_21765[5] = ((((a00_21768 * b11_21798) - (a02_21770 * b08_21795)) + (a03_21771 * b07_21794)) * invdet_21800);
dest_21765[6] = ((((-(a30_21783) * b05_21792) + (a32_21785 * b02_21789)) - (a33_21786 * b01_21788)) * invdet_21800);
dest_21765[7] = ((((a20_21778 * b05_21792) - (a22_21780 * b02_21789)) + (a23_21781 * b01_21788)) * invdet_21800);
dest_21765[8] = ((((a10_21773 * b10_21797) - (a11_21774 * b08_21795)) + (a13_21776 * b06_21793)) * invdet_21800);
dest_21765[9] = ((((-(a00_21768) * b10_21797) + (a01_21769 * b08_21795)) - (a03_21771 * b06_21793)) * invdet_21800);
dest_21765[10] = ((((a30_21783 * b04_21791) - (a31_21784 * b02_21789)) + (a33_21786 * b00_21787)) * invdet_21800);
dest_21765[11] = ((((-(a20_21778) * b04_21791) + (a21_21779 * b02_21789)) - (a23_21781 * b00_21787)) * invdet_21800);
dest_21765[12] = ((((-(a10_21773) * b09_21796) + (a11_21774 * b07_21794)) - (a12_21775 * b06_21793)) * invdet_21800);
dest_21765[13] = ((((a00_21768 * b09_21796) - (a01_21769 * b07_21794)) + (a02_21770 * b06_21793)) * invdet_21800);
dest_21765[14] = ((((-(a30_21783) * b03_21790) + (a31_21784 * b01_21788)) - (a32_21785 * b00_21787)) * invdet_21800);
dest_21765[15] = ((((a20_21778 * b03_21790) - (a21_21779 * b01_21788)) + (a22_21780 * b00_21787)) * invdet_21800);
} while (false); 
return result_21766;
}
function inversed_21801(mat_21803, dest_21805) {
if (!(tryinverse_21761(mat_21803, dest_21805))) {
var e_21809 = null;
e_21809 = {m_type: NTI3424, parent: null, name: null, message: null, trace: null};
e_21809.message = cstrToNimstr("Determinant is 0");
raiseException(e_21809, "Exception");
}

}
function inversed_21820(mat_21822) {
var result_21823 = [[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]];
inversed_21801(mat_21822, result_21823[0]);
return result_21823[0];
}
function loadidentity_21698(dest_21701) {
dest_21701[0] = 1.0000000000000000e+00;
dest_21701[1] = 0.0;
dest_21701[2] = 0.0;
dest_21701[3] = 0.0;
dest_21701[4] = 0.0;
dest_21701[5] = 1.0000000000000000e+00;
dest_21701[6] = 0.0;
dest_21701[7] = 0.0;
dest_21701[8] = 0.0;
dest_21701[9] = 0.0;
dest_21701[10] = 1.0000000000000000e+00;
dest_21701[11] = 0.0;
dest_21701[12] = 0.0;
dest_21701[13] = 0.0;
dest_21701[14] = 0.0;
dest_21701[15] = 1.0000000000000000e+00;
}
function translate_22112(mat_22115, vec_22116) {
var HEX3Atmp_797810 = {Field0: 0.0, Field1: 0.0, Field2: 0.0};
var x_22118 = 0.0;
var y_22119 = 0.0;
var z_22120 = 0.0;
nimCopy(HEX3Atmp_797810, {Field0: vec_22116[0], Field1: vec_22116[1], Field2: vec_22116[2]}, NTI22117);
x_22118 = HEX3Atmp_797810["Field0"];
y_22119 = HEX3Atmp_797810["Field1"];
z_22120 = HEX3Atmp_797810["Field2"];
mat_22115[12] = ((((mat_22115[0] * x_22118) + (mat_22115[4] * y_22119)) + (mat_22115[8] * z_22120)) + mat_22115[12]);
mat_22115[13] = ((((mat_22115[1] * x_22118) + (mat_22115[5] * y_22119)) + (mat_22115[9] * z_22120)) + mat_22115[13]);
mat_22115[14] = ((((mat_22115[2] * x_22118) + (mat_22115[6] * y_22119)) + (mat_22115[10] * z_22120)) + mat_22115[14]);
mat_22115[15] = ((((mat_22115[3] * x_22118) + (mat_22115[7] * y_22119)) + (mat_22115[11] * z_22120)) + mat_22115[15]);
}
function multiply_22002(mat_22004, mat2_22005, dest_22007) {
var HEX3Atmp_797811 = {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0};
var a00_22009 = 0.0;
var a01_22010 = 0.0;
var a02_22011 = 0.0;
var a03_22012 = 0.0;
nimCopy(HEX3Atmp_797811, {Field0: mat_22004[0], Field1: mat_22004[1], Field2: mat_22004[2], Field3: mat_22004[3]}, NTI22008);
a00_22009 = HEX3Atmp_797811["Field0"];
a01_22010 = HEX3Atmp_797811["Field1"];
a02_22011 = HEX3Atmp_797811["Field2"];
a03_22012 = HEX3Atmp_797811["Field3"];
var HEX3Atmp_797812 = {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0};
var a10_22014 = 0.0;
var a11_22015 = 0.0;
var a12_22016 = 0.0;
var a13_22017 = 0.0;
nimCopy(HEX3Atmp_797812, {Field0: mat_22004[4], Field1: mat_22004[5], Field2: mat_22004[6], Field3: mat_22004[7]}, NTI22013);
a10_22014 = HEX3Atmp_797812["Field0"];
a11_22015 = HEX3Atmp_797812["Field1"];
a12_22016 = HEX3Atmp_797812["Field2"];
a13_22017 = HEX3Atmp_797812["Field3"];
var HEX3Atmp_797813 = {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0};
var a20_22019 = 0.0;
var a21_22020 = 0.0;
var a22_22021 = 0.0;
var a23_22022 = 0.0;
nimCopy(HEX3Atmp_797813, {Field0: mat_22004[8], Field1: mat_22004[9], Field2: mat_22004[10], Field3: mat_22004[11]}, NTI22018);
a20_22019 = HEX3Atmp_797813["Field0"];
a21_22020 = HEX3Atmp_797813["Field1"];
a22_22021 = HEX3Atmp_797813["Field2"];
a23_22022 = HEX3Atmp_797813["Field3"];
var HEX3Atmp_797814 = {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0};
var a30_22024 = 0.0;
var a31_22025 = 0.0;
var a32_22026 = 0.0;
var a33_22027 = 0.0;
nimCopy(HEX3Atmp_797814, {Field0: mat_22004[12], Field1: mat_22004[13], Field2: mat_22004[14], Field3: mat_22004[15]}, NTI22023);
a30_22024 = HEX3Atmp_797814["Field0"];
a31_22025 = HEX3Atmp_797814["Field1"];
a32_22026 = HEX3Atmp_797814["Field2"];
a33_22027 = HEX3Atmp_797814["Field3"];
var HEX3Atmp_797815 = {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0};
var b00_22029 = 0.0;
var b01_22030 = 0.0;
var b02_22031 = 0.0;
var b03_22032 = 0.0;
nimCopy(HEX3Atmp_797815, {Field0: mat2_22005[0], Field1: mat2_22005[1], Field2: mat2_22005[2], Field3: mat2_22005[3]}, NTI22028);
b00_22029 = HEX3Atmp_797815["Field0"];
b01_22030 = HEX3Atmp_797815["Field1"];
b02_22031 = HEX3Atmp_797815["Field2"];
b03_22032 = HEX3Atmp_797815["Field3"];
var HEX3Atmp_797816 = {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0};
var b10_22034 = 0.0;
var b11_22035 = 0.0;
var b12_22036 = 0.0;
var b13_22037 = 0.0;
nimCopy(HEX3Atmp_797816, {Field0: mat2_22005[4], Field1: mat2_22005[5], Field2: mat2_22005[6], Field3: mat2_22005[7]}, NTI22033);
b10_22034 = HEX3Atmp_797816["Field0"];
b11_22035 = HEX3Atmp_797816["Field1"];
b12_22036 = HEX3Atmp_797816["Field2"];
b13_22037 = HEX3Atmp_797816["Field3"];
var HEX3Atmp_797817 = {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0};
var b20_22039 = 0.0;
var b21_22040 = 0.0;
var b22_22041 = 0.0;
var b23_22042 = 0.0;
nimCopy(HEX3Atmp_797817, {Field0: mat2_22005[8], Field1: mat2_22005[9], Field2: mat2_22005[10], Field3: mat2_22005[11]}, NTI22038);
b20_22039 = HEX3Atmp_797817["Field0"];
b21_22040 = HEX3Atmp_797817["Field1"];
b22_22041 = HEX3Atmp_797817["Field2"];
b23_22042 = HEX3Atmp_797817["Field3"];
var HEX3Atmp_797818 = {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0};
var b30_22044 = 0.0;
var b31_22045 = 0.0;
var b32_22046 = 0.0;
var b33_22047 = 0.0;
nimCopy(HEX3Atmp_797818, {Field0: mat2_22005[12], Field1: mat2_22005[13], Field2: mat2_22005[14], Field3: mat2_22005[15]}, NTI22043);
b30_22044 = HEX3Atmp_797818["Field0"];
b31_22045 = HEX3Atmp_797818["Field1"];
b32_22046 = HEX3Atmp_797818["Field2"];
b33_22047 = HEX3Atmp_797818["Field3"];
dest_22007[0] = ((((b00_22029 * a00_22009) + (b01_22030 * a10_22014)) + (b02_22031 * a20_22019)) + (b03_22032 * a30_22024));
dest_22007[1] = ((((b00_22029 * a01_22010) + (b01_22030 * a11_22015)) + (b02_22031 * a21_22020)) + (b03_22032 * a31_22025));
dest_22007[2] = ((((b00_22029 * a02_22011) + (b01_22030 * a12_22016)) + (b02_22031 * a22_22021)) + (b03_22032 * a32_22026));
dest_22007[3] = ((((b00_22029 * a03_22012) + (b01_22030 * a13_22017)) + (b02_22031 * a23_22022)) + (b03_22032 * a33_22027));
dest_22007[4] = ((((b10_22034 * a00_22009) + (b11_22035 * a10_22014)) + (b12_22036 * a20_22019)) + (b13_22037 * a30_22024));
dest_22007[5] = ((((b10_22034 * a01_22010) + (b11_22035 * a11_22015)) + (b12_22036 * a21_22020)) + (b13_22037 * a31_22025));
dest_22007[6] = ((((b10_22034 * a02_22011) + (b11_22035 * a12_22016)) + (b12_22036 * a22_22021)) + (b13_22037 * a32_22026));
dest_22007[7] = ((((b10_22034 * a03_22012) + (b11_22035 * a13_22017)) + (b12_22036 * a23_22022)) + (b13_22037 * a33_22027));
dest_22007[8] = ((((b20_22039 * a00_22009) + (b21_22040 * a10_22014)) + (b22_22041 * a20_22019)) + (b23_22042 * a30_22024));
dest_22007[9] = ((((b20_22039 * a01_22010) + (b21_22040 * a11_22015)) + (b22_22041 * a21_22020)) + (b23_22042 * a31_22025));
dest_22007[10] = ((((b20_22039 * a02_22011) + (b21_22040 * a12_22016)) + (b22_22041 * a22_22021)) + (b23_22042 * a32_22026));
dest_22007[11] = ((((b20_22039 * a03_22012) + (b21_22040 * a13_22017)) + (b22_22041 * a23_22022)) + (b23_22042 * a33_22027));
dest_22007[12] = ((((b30_22044 * a00_22009) + (b31_22045 * a10_22014)) + (b32_22046 * a20_22019)) + (b33_22047 * a30_22024));
dest_22007[13] = ((((b30_22044 * a01_22010) + (b31_22045 * a11_22015)) + (b32_22046 * a21_22020)) + (b33_22047 * a31_22025));
dest_22007[14] = ((((b30_22044 * a02_22011) + (b31_22045 * a12_22016)) + (b32_22046 * a22_22021)) + (b33_22047 * a32_22026));
dest_22007[15] = ((((b30_22044 * a03_22012) + (b31_22045 * a13_22017)) + (b32_22046 * a23_22022)) + (b33_22047 * a33_22027));
}
function HEX2AHEX3D_22141(x_22146, x_22146_Idx, y_22148) {
x_22146[x_22146_Idx] = (x_22146[x_22146_Idx] * y_22148);
}
function tomatrix4_711734(q_711736) {
var result_711737 = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0];
var qw_711740 = /**/[q_711736[3]];
var qx_711743 = /**/[q_711736[0]];
var qy_711746 = /**/[q_711736[1]];
var qz_711749 = /**/[q_711736[2]];
var n_711750 = (1.0000000000000000e+00 / Math.sqrt(((((qx_711743[0] * qx_711743[0]) + (qy_711746[0] * qy_711746[0])) + (qz_711749[0] * qz_711749[0])) + (qw_711740[0] * qw_711740[0]))));
HEX2AHEX3D_22141(qx_711743, 0, n_711750);
HEX2AHEX3D_22141(qy_711746, 0, n_711750);
HEX2AHEX3D_22141(qz_711749, 0, n_711750);
HEX2AHEX3D_22141(qw_711740, 0, n_711750);
nimCopy(result_711737, [((1.0000000000000000e+00 - ((2.0000000000000000e+00 * qy_711746[0]) * qy_711746[0])) - ((2.0000000000000000e+00 * qz_711749[0]) * qz_711749[0])), (((2.0000000000000000e+00 * qx_711743[0]) * qy_711746[0]) - ((2.0000000000000000e+00 * qz_711749[0]) * qw_711740[0])), (((2.0000000000000000e+00 * qx_711743[0]) * qz_711749[0]) + ((2.0000000000000000e+00 * qy_711746[0]) * qw_711740[0])), 0.0, (((2.0000000000000000e+00 * qx_711743[0]) * qy_711746[0]) + ((2.0000000000000000e+00 * qz_711749[0]) * qw_711740[0])), ((1.0000000000000000e+00 - ((2.0000000000000000e+00 * qx_711743[0]) * qx_711743[0])) - ((2.0000000000000000e+00 * qz_711749[0]) * qz_711749[0])), (((2.0000000000000000e+00 * qy_711746[0]) * qz_711749[0]) - ((2.0000000000000000e+00 * qx_711743[0]) * qw_711740[0])), 0.0, (((2.0000000000000000e+00 * qx_711743[0]) * qz_711749[0]) - ((2.0000000000000000e+00 * qy_711746[0]) * qw_711740[0])), (((2.0000000000000000e+00 * qy_711746[0]) * qz_711749[0]) + ((2.0000000000000000e+00 * qx_711743[0]) * qw_711740[0])), ((1.0000000000000000e+00 - ((2.0000000000000000e+00 * qx_711743[0]) * qx_711743[0])) - ((2.0000000000000000e+00 * qy_711746[0]) * qy_711746[0])), 0.0, 0.0, 0.0, 0.0, 1.0000000000000000e+00], NTI711791);
return result_711737;
}
function scale_22131(mat_22134, vec_22135) {
var HEX3Atmp_797819 = {Field0: 0.0, Field1: 0.0, Field2: 0.0};
var x_22137 = 0.0;
var y_22138 = 0.0;
var z_22139 = 0.0;
nimCopy(HEX3Atmp_797819, {Field0: vec_22135[0], Field1: vec_22135[1], Field2: vec_22135[2]}, NTI22136);
x_22137 = HEX3Atmp_797819["Field0"];
y_22138 = HEX3Atmp_797819["Field1"];
z_22139 = HEX3Atmp_797819["Field2"];
HEX2AHEX3D_22141(mat_22134, 0, x_22137);
HEX2AHEX3D_22141(mat_22134, 1, x_22137);
HEX2AHEX3D_22141(mat_22134, 2, x_22137);
HEX2AHEX3D_22141(mat_22134, 3, x_22137);
HEX2AHEX3D_22141(mat_22134, 4, y_22138);
HEX2AHEX3D_22141(mat_22134, 5, y_22138);
HEX2AHEX3D_22141(mat_22134, 6, y_22138);
HEX2AHEX3D_22141(mat_22134, 7, y_22138);
HEX2AHEX3D_22141(mat_22134, 8, z_22139);
HEX2AHEX3D_22141(mat_22134, 9, z_22139);
HEX2AHEX3D_22141(mat_22134, 10, z_22139);
HEX2AHEX3D_22141(mat_22134, 11, z_22139);
}
function gettransform_719010(n_719012, mat_719014) {
translate_22112(mat_719014, n_719012.translation_713023);
multiply_22002(mat_719014, tomatrix4_711734(n_719012.rotation_713024), mat_719014);
scale_22131(mat_719014, n_719012.scale_713025);
}
function transform_719015(n_719017) {
var result_719018 = [[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]];
loadidentity_21698(result_719018[0]);
gettransform_719010(n_719017, result_719018[0]);
return result_719018[0];
}
function worldtransform_720087(n_720089) {
var result_720090 = [[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]];
if (n_720089.parent_713055 == null) {
nimCopy(result_720090[0], transform_719015(n_720089), NTI21002);
}
else {
var w_720099 = worldtransform_720087(n_720089.parent_713055);
multiply_22002(w_720099, transform_719015(n_720089), result_720090[0]);
}

return result_720090[0];
}
function worldtolocal_720108(n_720110, p_720111) {
var result_720112 = [0.0, 0.0, 0.0];
nimCopy(result_720112, HEX2A_22075(inversed_21820(worldtransform_720087(n_720110)), p_720111), NTI21068);
return result_720112;
}
function worldposHEX3D_720131(n_720133, p_720134) {
nimCopy(n_720133.translation_713023, worldtolocal_720108(n_720133.parent_713055, p_720134), NTI21068);
}
function localtoworld_720101(n_720103, p_720104) {
var result_720105 = [0.0, 0.0, 0.0];
nimCopy(result_720105, HEX2A_22075(worldtransform_720087(n_720103), p_720104), NTI21068);
return result_720105;
}
function worldpos_720127(n_720129) {
var result_720130 = [0.0, 0.0, 0.0];
nimCopy(result_720130, localtoworld_720101(n_720129, newvector3_21136(0.0, 0.0, 0.0)), NTI21068);
return result_720130;
}
function newvariant_721145(val_721149) {
var result_721150 = {typeid_714822: 0, val: null};
result_721150.typeid_714822 = 649854659;
var valcopy_721401 = nimCopy(null, val_721149, NTI721126);
        result_721150.val = valcopy_721401;
        return result_721150;
}
function newvariant_721455(val_721459) {
var result_721460 = {typeid_714822: 0, val: null};
result_721460.typeid_714822 = 1718066911;
var valcopy_721801 = nimCopy(null, val_721459, NTI721436);
        result_721460.val = valcopy_721801;
        return result_721460;
}
function visitproperties_720135(n_720137, p_720139) {
function HEX3Aanonymous_720187(v_720143) {
n_720137.name_713056 = v_720143;
}
function HEX3Aanonymous_720189() {
var result_720191 = null;
result_720191 = n_720137.name_713056;
return result_720191;
}
function HEX3Aanonymous_720651(v_720605) {
nimCopy(n_720137.translation_713023, v_720605, NTI21068);
}
function HEX3Aanonymous_720653() {
var result_720655 = [0.0, 0.0, 0.0];
nimCopy(result_720655, n_720137.translation_713023, NTI21068);
return result_720655;
}
function HEX3Aanonymous_721034(v_721005) {
worldposHEX3D_720131(n_720137, v_721005);
}
function HEX3Aanonymous_721036() {
var result_721038 = [0.0, 0.0, 0.0];
nimCopy(result_721038, worldpos_720127(n_720137), NTI21068);
return result_721038;
}
function HEX3Aanonymous_721078(v_721049) {
nimCopy(n_720137.scale_713025, v_721049, NTI21068);
}
function HEX3Aanonymous_721080() {
var result_721082 = [0.0, 0.0, 0.0];
nimCopy(result_721082, n_720137.scale_713025, NTI21068);
return result_721082;
}
function HEX3Aanonymous_721139(v_721093) {
nimCopy(n_720137.rotation_713024, v_721093, NTI21087);
}
function HEX3Aanonymous_721141() {
var result_721143 = [0.0, 0.0, 0.0, 0.0];
nimCopy(result_721143, n_720137.rotation_713024, NTI21087);
return result_721143;
}
function HEX3Aanonymous_721449(v_721405) {
n_720137.alpha_713085 = v_721405;
}
function HEX3Aanonymous_721451() {
var result_721453 = 0.0;
result_721453 = n_720137.alpha_713085;
return result_721453;
}
function HEX3Aanonymous_721837(v_721806) {
n_720137.translation_713023[0] = v_721806;
}
function HEX3Aanonymous_721843() {
var result_721847 = 0.0;
result_721847 = n_720137.translation_713023[0];
return result_721847;
}
function HEX3Aanonymous_721892(v_721861) {
n_720137.translation_713023[1] = v_721861;
}
function HEX3Aanonymous_721898() {
var result_721902 = 0.0;
result_721902 = n_720137.translation_713023[1];
return result_721902;
}
function HEX3Aanonymous_721947(v_721916) {
n_720137.translation_713023[2] = v_721916;
}
function HEX3Aanonymous_721953() {
var result_721957 = 0.0;
result_721957 = n_720137.translation_713023[2];
return result_721957;
}
function HEX3Aanonymous_722002(v_721971) {
n_720137.scale_713025[0] = v_721971;
}
function HEX3Aanonymous_722008() {
var result_722012 = 0.0;
result_722012 = n_720137.scale_713025[0];
return result_722012;
}
function HEX3Aanonymous_722057(v_722026) {
n_720137.scale_713025[1] = v_722026;
}
function HEX3Aanonymous_722063() {
var result_722067 = 0.0;
result_722067 = n_720137.scale_713025[1];
return result_722067;
}
function HEX3Aanonymous_722112(v_722081) {
n_720137.scale_713025[2] = v_722081;
}
function HEX3Aanonymous_722118() {
var result_722122 = 0.0;
result_722122 = n_720137.scale_713025[2];
return result_722122;
}
if (!(SetEq(SetMul(SetConstr(0, 1), p_720139.flags_716026), SetConstr()))) {
var sng_720141 = {Field0: null, Field1: null};
if (p_720139.requiresetter_716022) {
sng_720141.Field0 = HEX3Aanonymous_720187;
}

if (p_720139.requiregetter_716023) {
sng_720141.Field1 = HEX3Aanonymous_720189;
}

if (p_720139.requirename_716024) {
p_720139.name_716028 = cstrToNimstr("name");
}

nimCopy(p_720139.setterandgetter_716027, newvariant_720193(sng_720141), NTI714821);
p_720139.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(0, 1), p_720139.flags_716026), SetConstr()))) {
var sng_720603 = {Field0: null, Field1: null};
if (p_720139.requiresetter_716022) {
sng_720603.Field0 = HEX3Aanonymous_720651;
}

if (p_720139.requiregetter_716023) {
sng_720603.Field1 = HEX3Aanonymous_720653;
}

if (p_720139.requirename_716024) {
p_720139.name_716028 = cstrToNimstr("translation");
}

nimCopy(p_720139.setterandgetter_716027, newvariant_720657(sng_720603), NTI714821);
p_720139.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(0, 1), p_720139.flags_716026), SetConstr()))) {
var sng_721003 = {Field0: null, Field1: null};
if (p_720139.requiresetter_716022) {
sng_721003.Field0 = HEX3Aanonymous_721034;
}

if (p_720139.requiregetter_716023) {
sng_721003.Field1 = HEX3Aanonymous_721036;
}

if (p_720139.requirename_716024) {
p_720139.name_716028 = cstrToNimstr("worldPos");
}

nimCopy(p_720139.setterandgetter_716027, newvariant_720657(sng_721003), NTI714821);
p_720139.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(0, 1), p_720139.flags_716026), SetConstr()))) {
var sng_721047 = {Field0: null, Field1: null};
if (p_720139.requiresetter_716022) {
sng_721047.Field0 = HEX3Aanonymous_721078;
}

if (p_720139.requiregetter_716023) {
sng_721047.Field1 = HEX3Aanonymous_721080;
}

if (p_720139.requirename_716024) {
p_720139.name_716028 = cstrToNimstr("scale");
}

nimCopy(p_720139.setterandgetter_716027, newvariant_720657(sng_721047), NTI714821);
p_720139.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(0, 1), p_720139.flags_716026), SetConstr()))) {
var sng_721091 = {Field0: null, Field1: null};
if (p_720139.requiresetter_716022) {
sng_721091.Field0 = HEX3Aanonymous_721139;
}

if (p_720139.requiregetter_716023) {
sng_721091.Field1 = HEX3Aanonymous_721141;
}

if (p_720139.requirename_716024) {
p_720139.name_716028 = cstrToNimstr("rotation");
}

nimCopy(p_720139.setterandgetter_716027, newvariant_721145(sng_721091), NTI714821);
p_720139.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(0, 1), p_720139.flags_716026), SetConstr()))) {
var sng_721403 = {Field0: null, Field1: null};
if (p_720139.requiresetter_716022) {
sng_721403.Field0 = HEX3Aanonymous_721449;
}

if (p_720139.requiregetter_716023) {
sng_721403.Field1 = HEX3Aanonymous_721451;
}

if (p_720139.requirename_716024) {
p_720139.name_716028 = cstrToNimstr("alpha");
}

nimCopy(p_720139.setterandgetter_716027, newvariant_721455(sng_721403), NTI714821);
p_720139.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(1), p_720139.flags_716026), SetConstr()))) {
var sng_721804 = {Field0: null, Field1: null};
if (p_720139.requiresetter_716022) {
sng_721804.Field0 = HEX3Aanonymous_721837;
}

if (p_720139.requiregetter_716023) {
sng_721804.Field1 = HEX3Aanonymous_721843;
}

if (p_720139.requirename_716024) {
p_720139.name_716028 = cstrToNimstr("tX");
}

nimCopy(p_720139.setterandgetter_716027, newvariant_721455(sng_721804), NTI714821);
p_720139.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(1), p_720139.flags_716026), SetConstr()))) {
var sng_721859 = {Field0: null, Field1: null};
if (p_720139.requiresetter_716022) {
sng_721859.Field0 = HEX3Aanonymous_721892;
}

if (p_720139.requiregetter_716023) {
sng_721859.Field1 = HEX3Aanonymous_721898;
}

if (p_720139.requirename_716024) {
p_720139.name_716028 = cstrToNimstr("tY");
}

nimCopy(p_720139.setterandgetter_716027, newvariant_721455(sng_721859), NTI714821);
p_720139.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(1), p_720139.flags_716026), SetConstr()))) {
var sng_721914 = {Field0: null, Field1: null};
if (p_720139.requiresetter_716022) {
sng_721914.Field0 = HEX3Aanonymous_721947;
}

if (p_720139.requiregetter_716023) {
sng_721914.Field1 = HEX3Aanonymous_721953;
}

if (p_720139.requirename_716024) {
p_720139.name_716028 = cstrToNimstr("tZ");
}

nimCopy(p_720139.setterandgetter_716027, newvariant_721455(sng_721914), NTI714821);
p_720139.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(1), p_720139.flags_716026), SetConstr()))) {
var sng_721969 = {Field0: null, Field1: null};
if (p_720139.requiresetter_716022) {
sng_721969.Field0 = HEX3Aanonymous_722002;
}

if (p_720139.requiregetter_716023) {
sng_721969.Field1 = HEX3Aanonymous_722008;
}

if (p_720139.requirename_716024) {
p_720139.name_716028 = cstrToNimstr("sX");
}

nimCopy(p_720139.setterandgetter_716027, newvariant_721455(sng_721969), NTI714821);
p_720139.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(1), p_720139.flags_716026), SetConstr()))) {
var sng_722024 = {Field0: null, Field1: null};
if (p_720139.requiresetter_716022) {
sng_722024.Field0 = HEX3Aanonymous_722057;
}

if (p_720139.requiregetter_716023) {
sng_722024.Field1 = HEX3Aanonymous_722063;
}

if (p_720139.requirename_716024) {
p_720139.name_716028 = cstrToNimstr("sY");
}

nimCopy(p_720139.setterandgetter_716027, newvariant_721455(sng_722024), NTI714821);
p_720139.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(1), p_720139.flags_716026), SetConstr()))) {
var sng_722079 = {Field0: null, Field1: null};
if (p_720139.requiresetter_716022) {
sng_722079.Field0 = HEX3Aanonymous_722112;
}

if (p_720139.requiregetter_716023) {
sng_722079.Field1 = HEX3Aanonymous_722118;
}

if (p_720139.requirename_716024) {
p_720139.name_716028 = cstrToNimstr("sZ");
}

nimCopy(p_720139.setterandgetter_716027, newvariant_721455(sng_722079), NTI714821);
p_720139.commit_716031();
}

}
function newbutton_754024(r_754026) {
var result_754027 = null;
result_754027 = {m_type: NTI754014, title_754015: null, state_754016: 0, value_754017: 0, enabled_754018: false, hasbezel_754019: false, style_754020: 0, behavior_754021: 0, image_754022: null, actionhandler_753013: null, window_696022: null, frame_696023: {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}}, bounds_696024: {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}}, subviews_696026: null, superview_696027: null, autoresizingmask_696029: {}, backgroundcolor_696030: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, gesturedetectors_696032: null};
init_696078(result_754027, r_754026);
return result_754027;
}
function isempty_639259(hcode_639261) {
var result_639262 = false;
result_639262 = (hcode_639261 == 0);
return result_639262;
}
function del_718720(t_718727, key_718729) {
var Tmp6;
var Tmp7;
var Tmp8;
var Tmp9;
var Tmp10;
var hc_718730 = [0];
var i_718744 = rawget_718299(t_718727, key_718729, hc_718730, 0);
var msk_718745 = (t_718727.data_713048 != null ? (t_718727.data_713048.length-1) : -1);
if ((0 <= i_718744)) {
t_718727.data_713048[chckIndx(i_718744, 0, t_718727.data_713048.length)-0].Field0 = 0;
t_718727.counter_713051 = subInt(t_718727.counter_713051, 1);
L1: do {
L2: do {
L3: while (true) {
if (!1) break L3;
var j_718756 = i_718744;
var r_718757 = j_718756;
t_718727.data_713048[chckIndx(i_718744, 0, t_718727.data_713048.length)-0].Field0 = 0;
L4: do {
L5: while (true) {
if (!1) break L5;
i_718744 = (addInt(i_718744, 1) & msk_718745);
if (isempty_639259(t_718727.data_713048[chckIndx(i_718744, 0, t_718727.data_713048.length)-0].Field0)) {
break L1;
}

r_718757 = (t_718727.data_713048[chckIndx(i_718744, 0, t_718727.data_713048.length)-0].Field0 & msk_718745);
if (!(r_718757 <= i_718744)) Tmp8 = false; else {Tmp8 = (j_718756 < r_718757); }if (Tmp8) Tmp7 = true; else {if (!(j_718756 < r_718757)) Tmp9 = false; else {Tmp9 = (i_718744 < j_718756); }Tmp7 = Tmp9; }if (Tmp7) Tmp6 = true; else {if (!(i_718744 < j_718756)) Tmp10 = false; else {Tmp10 = (r_718757 <= i_718744); }Tmp6 = Tmp10; }if (!(Tmp6)) {
break L4;
}

}
} while(false);
t_718727.data_713048[chckIndx(j_718756, 0, t_718727.data_713048.length)-0] = t_718727.data_713048[chckIndx(i_718744, 0, t_718727.data_713048.length)-0];
}
} while(false);
} while(false);
}

}
function del_718710(t_718716, key_718718) {
del_718720(t_718716, key_718718);
}
function removecomponent_718677(n_718679, name_718680) {
if (!(n_718679.components_713052 == null)) {
var c_718700 = getordefault_718511(n_718679.components_713052, name_718680);
if (!(c_718700 == null)) {
componentnodewillberemovedfromsceneview_717581(c_718700);
del_718710(n_718679.components_713052, name_718680);
}

}

}
function newsectiontitle_774012(y_774014, inspector_774015, n_774016, name_774017) {
function HEX3Aanonymous_774153() {
removecomponent_718677(n_774016, name_774017);
inspectednodeHEX3D_774023(inspector_774015, n_774016);
}
var result_774136 = null;
result_774136 = new_767310(newrect_20072(0.0, y_774014, 2.0000000000000000e+02, 1.7000000000000000e+01));
var v_774150 = newlabel_765043(newrect_20072(5.0000000000000000e+00, 0.0, 1.0000000000000000e+02, 1.5000000000000000e+01));
v_774150.text_765004 = name_774017;
addsubview_697246(result_774136, v_774150);
var removebutton_774151 = newbutton_754024(newrect_20072((width_20031(bounds_697654(result_774136)) - 2.0000000000000000e+01), 0.0, 2.0000000000000000e+01, 1.7000000000000000e+01));
nimCopy(removebutton_774151.autoresizingmask_696029, SetConstr(0, 3), NTI774152);
removebutton_774151.title_754015 = cstrToNimstr("-");
onaction_753042(removebutton_774151, HEX3Aanonymous_774153);
addsubview_697246(result_774136, removebutton_774151);
return result_774136;
}
function newseq_774190(len_774194) {
var result_774196 = null;
result_774196 = new Array(len_774194); for (var i=0;i<len_774194;++i) {result_774196[i]=null;}return result_774196;
}
function registeredcomponents_717212() {
var result_717215 = null;
var result_717219 = [];
L1: do {
var x_717223 = null;
L2: do {
var h_717467 = 0;
var HEX3Atmp_717469 = 0;
HEX3Atmp_717469 = (componentregistry_717211[0].data_717038 != null ? (componentregistry_717211[0].data_717038.length-1) : -1);
var res_717471 = 0;
L3: do {
L4: while (true) {
if (!(res_717471 <= HEX3Atmp_717469)) break L4;
h_717467 = res_717471;
if (isfilled_639263(componentregistry_717211[0].data_717038[chckIndx(h_717467, 0, componentregistry_717211[0].data_717038.length)-0].Field0)) {
x_717223 = componentregistry_717211[0].data_717038[chckIndx(h_717467, 0, componentregistry_717211[0].data_717038.length)-0].Field1;
if (result_717219 != null) { result_717219.push(x_717223); } else { result_717219 = [x_717223]; };
}

res_717471 = addInt(res_717471, 1);
}
} while(false);
} while(false);
} while(false);
result_717215 = result_717219;
return result_717215;
}
function newmenuitem_766014(title_766016) {
var result_766017 = null;
result_766017 = {m_type: NTI766005, title_766006: null, subitems_766008: null, customview_766009: null, action_766012: null};
result_766017.title_766006 = title_766016;
return result_766017;
}
function new_766066(frame_766073) {
var result_766074 = null;
result_766074 = {m_type: NTI766045, menuitems_766047: null, window_696022: null, frame_696023: {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}}, bounds_696024: {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}}, subviews_696026: null, superview_696027: null, autoresizingmask_696029: {}, backgroundcolor_696030: {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0}, gesturedetectors_696032: null};
init_696078(result_766074, frame_766073);
return result_766074;
}
function newviewwithmenuitems_766050(items_766053) {
var result_766054 = null;
result_766054 = new_766066(newrect_20072(0.0, 0.0, 1.5000000000000000e+02, ((items_766053 != null ? items_766053.length : 0) * 2.0000000000000000e+01)));
result_766054.menuitems_766047 = items_766053;
var yoff_766083 = /**/[0.0];
L1: do {
var i_766117 = 0;
var item_766118 = null;
var i_766138 = 0;
L2: do {
L3: while (true) {
if (!(i_766138 < (items_766053 != null ? items_766053.length : 0))) break L3;
i_766117 = i_766138;
item_766118 = items_766053[chckIndx(i_766138, 0, items_766053.length)-0];
var label_766120 = newlabel_765043(newrect_20072(0.0, 0.0, 1.5000000000000000e+02, 2.0000000000000000e+01));
label_766120.text_765004 = item_766118.title_766006;
var cell_766121 = newtableviewcell_756028(label_766120);
setframeorigin_697616(cell_766121, newpoint_20055(0.0, yoff_766083[0]));
cell_766121.row_756008 = i_766117;
cell_766121.selected_756010 = 0;
addsubview_697246(result_766054, cell_766121);
HEX2BHEX3D_20111(yoff_766083, 0, 2.0000000000000000e+01);
i_766138 = addInt(i_766138, 1);
}
} while(false);
} while(false);
return result_766054;
}
function convertpointtowindow_696138(v_696140, p_696141) {
var Tmp3;
var result_696142 = {Field0: 0.0, Field1: 0.0};
var curv_696143 = v_696140;
nimCopy(result_696142, p_696141, NTI20006);
L1: do {
L2: while (true) {
if (!!((curv_696143 == v_696140.window_696022))) Tmp3 = false; else {Tmp3 = !(curv_696143 == null); }if (!Tmp3) break L2;
nimCopy(result_696142, convertpointtoparent_696124(curv_696143, result_696142), NTI20006);
curv_696143 = curv_696143.superview_696027;
}
} while(false);
return result_696142;
}
function pusheventfilter_707020(a_707022, f_707023) {
if (a_707022.eventfilters_707018 != null) { a_707022.eventfilters_707018.push(f_707023); } else { a_707022.eventfilters_707018 = [f_707023]; };
}
function ispointingevent_704097(e_704099) {
var result_704100 = false;
result_704100 = ((e_704099.pointerid_704026 == 0) && ((e_704099.kind_704025 == 1) || (e_704099.kind_704025 == 2)));
return result_704100;
}
function convertpointfromwindow_696165(v_696167, p_696168) {
var Tmp1;
var result_696169 = {Field0: 0.0, Field1: 0.0};
if ((v_696167 == v_696167.window_696022)) {
Tmp1 = p_696168;
}
else {
Tmp1 = convertpointfromparent_696134(v_696167, convertpointfromwindow_696165(v_696167.superview_696027, p_696168));
}

nimCopy(result_696169, Tmp1, NTI20006);
return result_696169;
}
function HEX3EHEX3D_20184(p1_20186, p2_20187) {
var Tmp1;
var result_20188 = false;
if (!(p2_20187.Field0 <= p1_20186.Field0)) Tmp1 = false; else {Tmp1 = (p2_20187.Field1 <= p1_20186.Field1); }result_20188 = Tmp1;
return result_20188;
}
function HEX3CHEX3D_20194(p1_20196, p2_20197) {
var result_20198 = false;
result_20198 = ((p1_20196.Field0 <= p2_20197.Field0) && (p1_20196.Field1 <= p2_20197.Field1));
return result_20198;
}
function x_20023(r_20025) {
var result_20026 = 0.0;
result_20026 = r_20025.Field0.Field0;
return result_20026;
}
function maxx_20043(r_20045) {
var result_20046 = 0.0;
result_20046 = (x_20023(r_20045) + width_20031(r_20045));
return result_20046;
}
function y_20027(r_20029) {
var result_20030 = 0.0;
result_20030 = r_20029.Field0.Field1;
return result_20030;
}
function maxy_20051(r_20053) {
var result_20054 = 0.0;
result_20054 = (y_20027(r_20053) + height_20035(r_20053));
return result_20054;
}
function maxcorner_20175(r_20177) {
var result_20178 = {Field0: 0.0, Field1: 0.0};
nimCopy(result_20178, newpoint_20055(maxx_20043(r_20177), maxy_20051(r_20177)), NTI20006);
return result_20178;
}
function inrect_20276(p_20278, r_20279) {
var result_20280 = false;
result_20280 = (HEX3EHEX3D_20184(p_20278, r_20279.Field0) && HEX3CHEX3D_20194(p_20278, maxcorner_20175(r_20279)));
return result_20280;
}
function isbuttondownevent_704119(e_704121) {
var result_704122 = false;
result_704122 = (e_704121.buttonstate_704031 == 2);
return result_704122;
}
function starttrackingmouse_766139(v_766141) {
function HEX3Aanonymous_766144(e_766147, c_766149, c_766149_Idx) {
var Tmp1;
var Tmp2;
var Tmp3;
var result_766150 = false;
result_766150 = 1;
if (ispointingevent_704097(e_766147)) {
nimCopy(e_766147.localposition_704028, convertpointfromwindow_696165(currentmenuview_766142, e_766147.position_704027), NTI20006);
var newhighlightedrow_766151 = -1;
if (inrect_20276(e_766147.localposition_704028, bounds_697654(currentmenuview_766142))) {
newhighlightedrow_766151 = ((e_766147.localposition_704028.Field1 / 2.0000000000000000e+01)|0);
}

if (!((newhighlightedrow_766151 == highlightedrow_766143))) {
if (!(0 <= highlightedrow_766143)) Tmp1 = false; else {Tmp1 = (highlightedrow_766143 < (currentmenuview_766142.subviews_696026 != null ? currentmenuview_766142.subviews_696026.length : 0)); }if (Tmp1) {
currentmenuview_766142.subviews_696026[chckIndx(highlightedrow_766143, 0, currentmenuview_766142.subviews_696026.length)-0].selected_756010 = 0;
}

if (!(0 <= newhighlightedrow_766151)) Tmp2 = false; else {Tmp2 = (newhighlightedrow_766151 < (currentmenuview_766142.subviews_696026 != null ? currentmenuview_766142.subviews_696026.length : 0)); }if (Tmp2) {
currentmenuview_766142.subviews_696026[chckIndx(newhighlightedrow_766151, 0, currentmenuview_766142.subviews_696026.length)-0].selected_756010 = 1;
}

if (!((currentmenuview_766142.window_696022 == null))) {
currentmenuview_766142.window_696022.needsdisplay_696038 = 1;
}

highlightedrow_766143 = newhighlightedrow_766151;
}

if (isbuttondownevent_704119(e_766147)) {
if (!(0 <= highlightedrow_766143)) Tmp3 = false; else {Tmp3 = (highlightedrow_766143 < (currentmenuview_766142.subviews_696026 != null ? currentmenuview_766142.subviews_696026.length : 0)); }if (Tmp3) {
var item_766188 = currentmenuview_766142.menuitems_766047[chckIndx(highlightedrow_766143, 0, currentmenuview_766142.menuitems_766047.length)-0];
if (!(item_766188.action_766012 == null)) {
item_766188.action_766012();
}

}

removefromsuperview_697059(currentmenuview_766142);
c_766149[c_766149_Idx] = 1;
}

}

return result_766150;
}
var currentmenuview_766142 = v_766141;
var highlightedrow_766143 = -1;
pusheventfilter_707020(mainapplication_707079(), HEX3Aanonymous_766144);
}
function popupatpoint_766204(m_766206, v_766207, p_766208) {
var mv_766209 = newviewwithmenuitems_766050(m_766206.items_766030);
setframeorigin_697616(mv_766209, convertpointtowindow_696138(v_766207, p_766208));
addsubview_697246(v_766207.window_696022, mv_766209);
starttrackingmouse_766139(mv_766209);
}
function createnewcomponentbutton_774018(y_774020, inspector_774021, n_774022) {
function HEX3Aanonymous_774176() {
function HEX3Aanonymous_774262(mi_774264) {
function HEX3Aanonymous_774268() {
component_718042(n_774022, mi_774264.title_766006);
inspectednodeHEX3D_774023(inspector_774021, n_774022);
}
var result_774267 = null;
result_774267 = HEX3Aanonymous_774268;
return result_774267;
}
var menu_774178 = null;
menu_774178 = {m_type: NTI766028, items_766030: null};
var items_774225 = newseq_774190(0);
L1: do {
var i_774259 = 0;
var c_774260 = null;
var HEX3Atmp_774283 = null;
HEX3Atmp_774283 = registeredcomponents_717212();
var i_774286 = 0;
L2: do {
L3: while (true) {
if (!(i_774286 < (HEX3Atmp_774283 != null ? HEX3Atmp_774283.length : 0))) break L3;
i_774259 = i_774286;
c_774260 = HEX3Atmp_774283[chckIndx(i_774286, 0, HEX3Atmp_774283.length)-0];
var menuitem_774261 = newmenuitem_766014(c_774260);
var pworkaroundforjs_774270 = HEX3Aanonymous_774262;
menuitem_774261.action_766012 = pworkaroundforjs_774270(menuitem_774261);
if (items_774225 != null) { items_774225.push(menuitem_774261); } else { items_774225 = [menuitem_774261]; };
i_774286 = addInt(i_774286, 1);
}
} while(false);
} while(false);
menu_774178.items_766030 = items_774225;
popupatpoint_766204(menu_774178, b_774175, newpoint_20055(0.0, height_20035(bounds_697654(b_774175))));
}
var result_774162 = null;
var b_774175 = new_769619(newrect_20072(0.0, y_774020, 1.2000000000000000e+02, 2.0000000000000000e+01));
b_774175.title_754015 = cstrToNimstr("New component");
onaction_753042(b_774175, HEX3Aanonymous_774176);
result_774162 = b_774175;
return result_774162;
}
function inspectednodeHEX3D_774023(i_774025, n_774026) {
function HEX3Aanonymous_774060() {
pv_774057 = propertyeditorforproperty_767267(n_774026, visitor_774058[0].name_716028, visitor_774058[0].setterandgetter_716027);
setframeorigin_697616(pv_774057, newpoint_20055(0.0, y_774056[0]));
HEX2BHEX3D_20111(y_774056, 0, height_20035(frame_697645(pv_774057)));
addsubview_697246(propview_774054, pv_774057);
}
if ((1 < (i_774025.subviews_696026 != null ? i_774025.subviews_696026.length : 0))) {
removefromsuperview_697059(i_774025.subviews_696026[1]);
}

if (!(n_774026 == null)) {
var propview_774054 = new_767310(newrect_20072(0.0, 1.7000000000000000e+01, width_20031(bounds_697654(i_774025)), (height_20035(bounds_697654(i_774025)) - 1.7000000000000000e+01)));
nimCopy(propview_774054.autoresizingmask_696029, SetConstr(4, 5), NTI774055);
var y_774056 = /**/[0.0];
var pv_774057 = null;
var visitor_774058 = [{m_type: NTI716019, qualifiers_716021: null, requiresetter_716022: false, requiregetter_716023: false, requirename_716024: false, flags_716026: {}, setterandgetter_716027: {typeid_714822: 0, val: null}, name_716028: null, commit_716031: null}];
visitor_774058[0].requirename_716024 = 1;
visitor_774058[0].requiresetter_716022 = 1;
visitor_774058[0].requiregetter_716023 = 1;
nimCopy(visitor_774058[0].flags_716026, SetConstr(0), NTI774059);
visitor_774058[0].commit_716031 = HEX3Aanonymous_774060;
visitproperties_720135(n_774026, visitor_774058[0]);
if (!(n_774026.components_713052 == null)) {
L1: do {
var k_774090 = null;
var v_774091 = null;
var HEX3Atmp_774119 = null;
HEX3Atmp_774119 = n_774026.components_713052;
L2: do {
var h_774123 = 0;
var HEX3Atmp_774125 = 0;
HEX3Atmp_774125 = (HEX3Atmp_774119.data_713048 != null ? (HEX3Atmp_774119.data_713048.length-1) : -1);
var res_774127 = 0;
L3: do {
L4: while (true) {
if (!(res_774127 <= HEX3Atmp_774125)) break L4;
h_774123 = res_774127;
if (isfilled_639263(HEX3Atmp_774119.data_713048[chckIndx(h_774123, 0, HEX3Atmp_774119.data_713048.length)-0].Field0)) {
k_774090 = HEX3Atmp_774119.data_713048[chckIndx(h_774123, 0, HEX3Atmp_774119.data_713048.length)-0].Field1;
v_774091 = HEX3Atmp_774119.data_713048[chckIndx(h_774123, 0, HEX3Atmp_774119.data_713048.length)-0].Field2;
pv_774057 = newsectiontitle_774012(y_774056[0], i_774025, n_774026, k_774090);
HEX2BHEX3D_20111(y_774056, 0, height_20035(frame_697645(pv_774057)));
addsubview_697246(propview_774054, pv_774057);
visitproperties_717598(v_774091, visitor_774058[0]);
}

res_774127 = addInt(res_774127, 1);
}
} while(false);
} while(false);
} while(false);
}

pv_774057 = createnewcomponentbutton_774018(y_774056[0], i_774025, n_774026);
HEX2BHEX3D_20111(y_774056, 0, height_20035(frame_697645(pv_774057)));
addsubview_697246(propview_774054, pv_774057);
var fs_774113 = nimCopy(null, frame_697645(propview_774054).Field1, NTI20010);
fs_774113.Field1 = y_774056[0];
setframesize_697609(propview_774054, fs_774113);
addsubview_697246(i_774025, propview_774054);
}

}
function newseq_757859(len_757863) {
var result_757865 = null;
result_757865 = new Array(len_757863); for (var i=0;i<len_757863;++i) {result_757865[i]=null;}return result_757865;
}
function reloaddatafornode_757833(v_757835, n_757836) {
var Tmp1;
var childrencount_757837 = v_757835.numberofchildreninitem_757022(n_757836.item_757008, v_757835.tempindexpath_757042);
if (!(0 < childrencount_757837)) Tmp1 = false; else {Tmp1 = n_757836.children_757007 == null; }if (Tmp1) {
n_757836.children_757007 = newseq_757859(chckRange(childrencount_757837, 0, 2147483647));
}
else {
if (!(n_757836.children_757007 == null)) {
n_757836.children_757007.length = chckRange(childrencount_757837, 0, 2147483647);
}
}
var lastindex_757910 = (v_757835.tempindexpath_757042 != null ? v_757835.tempindexpath_757042.length : 0);
if (v_757835.tempindexpath_757042 != null) { v_757835.tempindexpath_757042.push(0); } else { v_757835.tempindexpath_757042 = [0]; };
L2: do {
var i_757946 = 0;
var HEX3Atmp_757974 = {a_14056: 0, b_14058: 0};
HEX3Atmp_757974 = HEX2EHEX2E_31611(0, subInt(childrencount_757837, 1));
L3: do {
var x_757978 = 0;
var HEX3Atmp_757980 = 0;
var HEX3Atmp_757982 = 0;
HEX3Atmp_757980 = HEX3Atmp_757974.a_14056;
HEX3Atmp_757982 = HEX3Atmp_757974.b_14058;
var res_757984 = HEX3Atmp_757980;
L4: do {
L5: while (true) {
if (!(res_757984 <= HEX3Atmp_757982)) break L5;
x_757978 = res_757984;
i_757946 = x_757978;
v_757835.tempindexpath_757042[chckIndx(lastindex_757910, 0, v_757835.tempindexpath_757042.length)-0] = i_757946;
if (n_757836.children_757007[chckIndx(i_757946, 0, n_757836.children_757007.length)-0] == null) {
n_757836.children_757007[chckIndx(i_757946, 0, n_757836.children_757007.length)-0] = {expandable_757005: 1, expanded_757004: false, children_757007: null, item_757008: {typeid_714822: 0, val: null}, cell_757009: null};
}

if (!(v_757835.childofitem_757028 == null)) {
nimCopy(n_757836.children_757007[chckIndx(i_757946, 0, n_757836.children_757007.length)-0].item_757008, v_757835.childofitem_757028(n_757836.item_757008, v_757835.tempindexpath_757042), NTI714821);
}

reloaddatafornode_757833(v_757835, n_757836.children_757007[chckIndx(i_757946, 0, n_757836.children_757007.length)-0]);
res_757984 = addInt(res_757984, 1);
}
} while(false);
} while(false);
} while(false);
v_757835.tempindexpath_757042.length = chckRange(lastindex_757910, 0, 2147483647);
}
function reloaddata_757989(v_757991) {
v_757991.tempindexpath_757042.length = 0;
reloaddatafornode_757833(v_757991, v_757991.rootitem_757014);
}
function setrowexpanded_757675(v_757677, expanded_757678, indexpath_757680) {
nodeatindexpath_757639(v_757677, indexpath_757680).expanded_757004 = expanded_757678;
}
function expandrow_757681(v_757683, indexpath_757685) {
setrowexpanded_757675(v_757683, 1, indexpath_757685);
}
function selectitematindexpath_758008(v_758010, ip_758012) {
v_758010.selectedindexpath_757016 = ip_758012;
if (!(v_758010.onselectionchanged_757040 == null)) {
v_758010.onselectionchanged_757040();
}

}
function newtreeview_775008(e_775010, inspector_775011) {
function HEX3Aanonymous_775057(item_775059, indexpath_775061) {
var result_775062 = 0;
BeforeRet: do {
if (((indexpath_775061 != null ? indexpath_775061.length : 0) == 0)) {
result_775062 = 1;
break BeforeRet;
}
else {
var n_775402 = get_775072(item_775059);
if (n_775402.children_713054 == null) {
result_775062 = 0;
break BeforeRet;
}
else {
result_775062 = (n_775402.children_713054 != null ? n_775402.children_713054.length : 0);
break BeforeRet;
}

}

} while (false); 
return result_775062;
}
function HEX3Aanonymous_775420(item_775422, indexpath_775424) {
var result_775425 = {typeid_714822: 0, val: null};
BeforeRet: do {
if (((indexpath_775424 != null ? indexpath_775424.length : 0) == 1)) {
nimCopy(result_775425, newvariant_775434(e_775010.rootnode_775004), NTI714821);
break BeforeRet;
}
else {
nimCopy(result_775425, newvariant_775434(get_775072(item_775422).children_713054[chckIndx(indexpath_775424[chckIndx(subInt((indexpath_775424 != null ? indexpath_775424.length : 0), 1), 0, indexpath_775424.length)-0], 0, get_775072(item_775422).children_713054.length)-0]), NTI714821);
break BeforeRet;
}

} while (false); 
return result_775425;
}
function HEX3Aanonymous_775827() {
var result_775829 = null;
result_775829 = newtableviewcell_756028(newlabel_765043(newrect_20072(0.0, 0.0, 1.0000000000000000e+02, 2.0000000000000000e+01)));
return result_775829;
}
function HEX3Aanonymous_775831(cell_775833, indexpath_775835) {
var Tmp1;
var n_775846 = get_775072(itematindexpath_757691(outlineview_775055, indexpath_775835));
var textfield_775847 = cell_775833.subviews_696026[0];
if (n_775846.name_713056 == null) {
Tmp1 = cstrToNimstr("(nil)");
}
else {
Tmp1 = n_775846.name_713056;
}

textfield_775847.text_765004 = Tmp1;
}
function HEX3Aanonymous_775849() {
var Tmp1;
var ip_775851 = outlineview_775055.selectedindexpath_757016;
if ((0 < (ip_775851 != null ? ip_775851.length : 0))) {
Tmp1 = get_775072(itematindexpath_757691(outlineview_775055, ip_775851));
}
else {
Tmp1 = null;
}

var n_775870 = Tmp1;
inspectednodeHEX3D_774023(inspector_775011, n_775870);
}
function HEX3Aanonymous_775885() {
var sip_775887 = outlineview_775055.selectedindexpath_757016;
var n_775888 = e_775010.rootnode_775004;
if (((sip_775887 != null ? sip_775887.length : 0) == 0)) {
if (sip_775887 != null) { sip_775887.push(0); } else { sip_775887 = [0]; };
}
else {
n_775888 = get_775072(itematindexpath_757691(outlineview_775055, sip_775887));
}

expandrow_757681(outlineview_775055, sip_775887);
newchild_720014(n_775888, cstrToNimstr("New Node"));
if (sip_775887 != null) { sip_775887.push(subInt((n_775888.children_713054 != null ? n_775888.children_713054.length : 0), 1)); } else { sip_775887 = [subInt((n_775888.children_713054 != null ? n_775888.children_713054.length : 0), 1)]; };
reloaddata_757989(outlineview_775055);
selectitematindexpath_758008(outlineview_775055, sip_775887);
}
function HEX3Aanonymous_775949() {
var n_775961 = get_775072(itematindexpath_757691(outlineview_775055, outlineview_775055.selectedindexpath_757016));
removefromparent_719852(n_775961);
reloaddata_757989(outlineview_775055);
}
function HEX3Aanonymous_775976() {
reloaddata_757989(outlineview_775055);
}
var result_775012 = null;
result_775012 = new_775017(newrect_20072(0.0, 0.0, 2.0000000000000000e+02, 7.0000000000000000e+02));
var title_775035 = newlabel_765043(newrect_20072(2.0000000000000000e+00, 2.0000000000000000e+00, 1.0000000000000000e+02, 1.5000000000000000e+01));
title_775035.text_765004 = cstrToNimstr("Tree view");
addsubview_697246(result_775012, title_775035);
var outlineview_775055 = new_775038(newrect_20072(0.0, 2.0000000000000000e+01, width_20031(bounds_697654(result_775012)), (height_20035(bounds_697654(result_775012)) - 4.0000000000000000e+01)));
nimCopy(outlineview_775055.autoresizingmask_696029, SetConstr(4, 5), NTI775056);
outlineview_775055.numberofchildreninitem_757022 = HEX3Aanonymous_775057;
outlineview_775055.childofitem_757028 = HEX3Aanonymous_775420;
outlineview_775055.createcell_757031 = HEX3Aanonymous_775827;
outlineview_775055.configurecell_757037 = HEX3Aanonymous_775831;
outlineview_775055.onselectionchanged_757040 = HEX3Aanonymous_775849;
reloaddata_757989(outlineview_775055);
addsubview_697246(result_775012, outlineview_775055);
var createnodebutton_775883 = new_769619(newrect_20072(2.0000000000000000e+00, (height_20035(bounds_697654(result_775012)) - 2.0000000000000000e+01), 2.0000000000000000e+01, 2.0000000000000000e+01));
nimCopy(createnodebutton_775883.autoresizingmask_696029, SetConstr(2, 1), NTI775884);
createnodebutton_775883.title_754015 = cstrToNimstr("+");
onaction_753042(createnodebutton_775883, HEX3Aanonymous_775885);
addsubview_697246(result_775012, createnodebutton_775883);
var deletenodebutton_775947 = new_769619(newrect_20072(2.4000000000000000e+01, (height_20035(bounds_697654(result_775012)) - 2.0000000000000000e+01), 2.0000000000000000e+01, 2.0000000000000000e+01));
nimCopy(deletenodebutton_775947.autoresizingmask_696029, SetConstr(2, 1), NTI775948);
deletenodebutton_775947.title_754015 = cstrToNimstr("-");
onaction_753042(deletenodebutton_775947, HEX3Aanonymous_775949);
addsubview_697246(result_775012, deletenodebutton_775947);
var refreshbutton_775974 = new_769619(newrect_20072(4.6000000000000000e+01, (height_20035(bounds_697654(result_775012)) - 2.0000000000000000e+01), 6.0000000000000000e+01, 2.0000000000000000e+01));
nimCopy(refreshbutton_775974.autoresizingmask_696029, SetConstr(2, 1), NTI775975);
refreshbutton_775974.title_754015 = cstrToNimstr("Refresh");
onaction_753042(refreshbutton_775974, HEX3Aanonymous_775976);
addsubview_697246(result_775012, refreshbutton_775974);
return result_775012;
}
function starteditingnodeinview_775986(n_775988, v_775989) {
var result_775990 = null;
result_775990 = {rootnode_775004: null, eventcatchingview_775005: null, treeview_775006: null};
result_775990.rootnode_775004 = n_775988;
var inspectorview_776021 = new_776004(newrect_20072(2.0000000000000000e+02, 0.0, 2.0000000000000000e+02, 7.0000000000000000e+02));
result_775990.treeview_775006 = newtreeview_775008(result_775990, inspectorview_776021);
addsubview_697246(v_775989.window_696022, result_775990.treeview_775006);
addsubview_697246(v_775989.window_696022, inspectorview_776021);
return result_775990;
}
function registertest_796014(ts_796016) {
if (registeredtests_796012[0] == null) {
registeredtests_796012[0] = [ts_796016];
}
else {
if (registeredtests_796012[0] != null) { registeredtests_796012[0].push(ts_796016); } else { registeredtests_796012[0] = [ts_796016]; };
}

}
function runautotestsifneeded_797006() {
function HEX3Aanonymous_797204() {
}
function HEX3Aanonymous_797207() {
}
var generaluitest_797221 = [{Field0: HEX3Aanonymous_797204, Field1: cstrToNimstr("discard")}, {Field0: HEX3Aanonymous_797207, Field1: cstrToNimstr("")}];
registertest_796014(generaluitest_797221);
}
function startapplication_797402() {
function HEX3Aanonymous_797686(n_797688) {
addchild_719871(editview_797623.mrootnode_713092, n_797688);
addsubview_697246(mainwindow_797603, editview_797623);
starteditingnodeinview_775986(editview_797623.mrootnode_713092, editview_797623);
}
var mainwindow_797603 = newwindow_702254[0](newrect_20072(4.0000000000000000e+01, 4.0000000000000000e+01, 1.2000000000000000e+03, 6.0000000000000000e+02));
titleHEX3D_702026(mainwindow_797603, cstrToNimstr("Rod"));
var editview_797623 = new_797606(bounds_697654(mainwindow_797603));
nimCopy(editview_797623.autoresizingmask_696029, SetConstr(4, 5), NTI797624);
rootnodeHEX3D_730008(editview_797623, newnode_718001(cstrToNimstr("(root)")));
var cameranode_797625 = newchild_720014(editview_797623.mrootnode_713092, cstrToNimstr("camera"));
var camera_797646 = component_797628(cameranode_797625);
cameranode_797625.translation_713023[2] = 1.0000000000000000e+00;
var light_797649 = newchild_720014(editview_797623.mrootnode_713092, cstrToNimstr("point_light"));
nimCopy(light_797649.translation_713023, newvector3_21136(-1.0000000000000000e+02, 1.0000000000000000e+02, 7.0000000000000000e+01), NTI21068);
var lightmesh_797664 = component_795230(light_797649);
var lightsource_797685 = component_797667(light_797649);
setdefaultlightsource_736052(lightsource_797685);
lightambientHEX3D_736003(lightsource_797685, 2.0000000000000001e-01);
lightdiffuseHEX3D_736007(lightsource_797685, 2.9999999999999999e-01);
lightspecularHEX3D_736011(lightsource_797685, 5.0000000000000000e-01);
lightconstantHEX3D_736015(lightsource_797685, 1.0000000000000000e+00);
lightlinearHEX3D_736019(lightsource_797685, 1.4000000000000000e-03);
lightquadraticHEX3D_736023(lightsource_797685, 6.9999999999999999e-06);
loadsceneasync_795020(cstrToNimstr("collada/balloons_test.dae"), HEX3Aanonymous_797686);
runautotestsifneeded_797006();
}
function HEX3Aanonymous_797801(e_797804) {
startapplication_797402();
}
window.onload = HEX3Aanonymous_797801;
function isObj(obj_13339, subclass_13340) {
var result_13341 = false;
BeforeRet: do {
var x_13342 = obj_13339;
if ((x_13342 == subclass_13340)) {
result_13341 = 1;
break BeforeRet;
}

L1: do {
L2: while (true) {
if (!!((x_13342 == subclass_13340))) break L2;
if ((x_13342 == null)) {
result_13341 = 0;
break BeforeRet;
}

x_13342 = x_13342.base;
}
} while(false);
result_13341 = 1;
break BeforeRet;
} while (false); 
return result_13341;
}
function isloaded_684010(i_684012) {
var result_684013 = false;
result_684013 = isloaded_683846(i_684012.spritesheet_682247);
return result_684013;
}
function isloaded_683850(i_683852) {
var result_683853 = false;
result_683853 = !((i_683852.texture_682208 == 0));
if (!(result_683853)) {
result_683853 = i_683852.__image.complete;}

return result_683853;
}
function isloaded_683841(i_683843) {
var result_683844 = false;
result_683844 = 0;
return result_683844;
}
function isloaded_683846(i_683843) {
var result_683849 = false;
BeforeRet: do {
if (isObj(i_683843.m_type, NTI682246)) {
result_683849 = isloaded_684010(i_683843);
break BeforeRet;
}
else {
if (isObj(i_683843.m_type, NTI682207)) {
result_683849 = isloaded_683850(i_683843);
break BeforeRet;
}
else {
if (isObj(i_683843.m_type, NTI682203)) {
result_683849 = isloaded_683841(i_683843);
break BeforeRet;
}
}}
} while (false); 
return result_683849;
}
function gettexturequad_684330(i_684332, gl_684333, texcoords_684337) {
var result_684338 = 0;
result_684338 = gettexturequad_684038(i_684332.spritesheet_682247, gl_684333, texcoords_684337);
nimCopy(texcoords_684337, i_684332.texcoords_682250, NTI682249);
return result_684338;
}
function gettexturequad_684042(i_684044, gl_684045, texcoords_684049) {
var Tmp1;
var Tmp2;
var Tmp3;
var Tmp4;
var result_684050 = 0;
if (!(i_684044.texture_682208 == 0)) Tmp1 = false; else {Tmp1 = !(gl_684045 == null); }if (Tmp1) {
var width_684218 = 0.0;
var height_684219 = 0.0;
var loadingcomplete_684220 = 0;
            if (i_684044.__image !== undefined) {
                loadingcomplete_684220 = i_684044.__image.complete;
                if (loadingcomplete_684220) {
                    width_684218 = i_684044.__image.width;
                    height_684219 = i_684044.__image.height;
                }
            }
            if (loadingcomplete_684220) {
i_684044.texture_682208 = gl_684045.createTexture();
gl_684045.bindTexture(gl_684045.TEXTURE_2D, i_684044.texture_682208);
                gl_684045.pixelStorei(gl_684045.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);
                if (ispoweroftwo_18625((width_684218|0))) {
Tmp2 = (width_684218|0);
}
else {
Tmp2 = nextpoweroftwo_18629((width_684218|0));
}

var texwidth_684221 = Tmp2;
if (ispoweroftwo_18625((height_684219|0))) {
Tmp3 = (height_684219|0);
}
else {
Tmp3 = nextpoweroftwo_18629((height_684219|0));
}

var texheight_684222 = Tmp3;
i_684044.msize_682209.Field0 = width_684218;
i_684044.msize_682209.Field1 = height_684219;
i_684044.sizeintexels_682210.Field0 = (width_684218 / texwidth_684221);
i_684044.sizeintexels_682210.Field1 = (height_684219 / texheight_684222);
if (!((texwidth_684221 == (width_684218|0)))) Tmp4 = true; else {Tmp4 = !((texheight_684222 == (height_684219|0))); }if (Tmp4) {
                    var canvas = document.createElement('canvas');
                    canvas.width = texwidth_684221;
                    canvas.height = texheight_684222;
                    var ctx2d = canvas.getContext('2d');
                    ctx2d.globalCompositeOperation = "copy";
                    ctx2d.drawImage(i_684044.__image, 0, 0);
                    gl_684045.texImage2D(gl_684045.TEXTURE_2D, 0, gl_684045.RGBA, gl_684045.RGBA, gl_684045.UNSIGNED_BYTE, canvas);
                    }
else {
gl_684045.texImage2D(gl_684045.TEXTURE_2D, 0, gl_684045.RGBA, gl_684045.RGBA, gl_684045.UNSIGNED_BYTE, i_684044.__image);}

gl_684045.generateMipmap(gl_684045.TEXTURE_2D);
gl_684045.texParameteri(gl_684045.TEXTURE_2D, gl_684045.TEXTURE_MAG_FILTER, gl_684045.LINEAR);
gl_684045.texParameteri(gl_684045.TEXTURE_2D, gl_684045.TEXTURE_MIN_FILTER, gl_684045.LINEAR_MIPMAP_NEAREST);
}

}

texcoords_684049[0] = 0.0;
texcoords_684049[1] = 0.0;
texcoords_684049[2] = i_684044.sizeintexels_682210.Field0;
texcoords_684049[3] = i_684044.sizeintexels_682210.Field1;
result_684050 = i_684044.texture_682208;
return result_684050;
}
function fixupspriteimages_684235(s_684237) {
var fullorigsize_684238 = newsize_20061((s_684237.msize_682209.Field0 / s_684237.sizeintexels_682210.Field0), (s_684237.msize_682209.Field1 / s_684237.sizeintexels_682210.Field1));
L1: do {
var k_684248 = null;
var v_684249 = null;
var HEX3Atmp_684291 = null;
HEX3Atmp_684291 = s_684237.images_682244;
L2: do {
var h_684295 = 0;
var HEX3Atmp_684297 = 0;
HEX3Atmp_684297 = (HEX3Atmp_684291.data_682240 != null ? (HEX3Atmp_684291.data_682240.length-1) : -1);
var res_684299 = 0;
L3: do {
L4: while (true) {
if (!(res_684299 <= HEX3Atmp_684297)) break L4;
h_684295 = res_684299;
if (isfilled_639263(HEX3Atmp_684291.data_682240[chckIndx(h_684295, 0, HEX3Atmp_684291.data_682240.length)-0].Field0)) {
k_684248 = HEX3Atmp_684291.data_682240[chckIndx(h_684295, 0, HEX3Atmp_684291.data_682240.length)-0].Field1;
v_684249 = HEX3Atmp_684291.data_682240[chckIndx(h_684295, 0, HEX3Atmp_684291.data_682240.length)-0].Field2;
HEX2FHEX3D_21188(v_684249.texcoords_682250, 0, fullorigsize_684238.Field0);
HEX2FHEX3D_21188(v_684249.texcoords_682250, 1, fullorigsize_684238.Field1);
HEX2FHEX3D_21188(v_684249.texcoords_682250, 2, fullorigsize_684238.Field0);
HEX2FHEX3D_21188(v_684249.texcoords_682250, 3, fullorigsize_684238.Field1);
}

res_684299 = addInt(res_684299, 1);
}
} while(false);
} while(false);
} while(false);
}
function gettexturequad_684302(i_684304, gl_684305, texcoords_684309) {
var Tmp1;
var result_684310 = 0;
var texwasnotready_684320 = (i_684304.texture_682208 == 0);
result_684310 = gettexturequad_684042(i_684304, gl_684305, texcoords_684309);
if (!!((result_684310 == 0))) Tmp1 = false; else {Tmp1 = texwasnotready_684320; }if (Tmp1) {
fixupspriteimages_684235(i_684304);
}

return result_684310;
}
function gettexturequad_684014(i_684016, gl_684017, texcoords_684021) {
var result_684022 = 0;
var e_684026 = null;
e_684026 = {m_type: NTI3424, parent: null, name: null, message: null, trace: null};
e_684026.message = cstrToNimstr("Abstract method called!");
raiseException(e_684026, "Exception");
return result_684022;
}
function gettexturequad_684038(i_684016, gl_684017, texcoords_684021) {
var result_684041 = 0;
BeforeRet: do {
if (isObj(i_684016.m_type, NTI682246)) {
result_684041 = gettexturequad_684330(i_684016, gl_684017, texcoords_684021);
break BeforeRet;
}
else {
if (isObj(i_684016.m_type, NTI682217)) {
result_684041 = gettexturequad_684302(i_684016, gl_684017, texcoords_684021);
break BeforeRet;
}
else {
if (isObj(i_684016.m_type, NTI682207)) {
result_684041 = gettexturequad_684042(i_684016, gl_684017, texcoords_684021);
break BeforeRet;
}
else {
if (isObj(i_684016.m_type, NTI682203)) {
result_684041 = gettexturequad_684014(i_684016, gl_684017, texcoords_684021);
break BeforeRet;
}
}}}
} while (false); 
return result_684041;
}
function size_684352(i_684354) {
var result_684355 = {Field0: 0.0, Field1: 0.0};
nimCopy(result_684355, i_684354.msize_682251, NTI20010);
return result_684355;
}
function size_684348(i_684350) {
var result_684351 = {Field0: 0.0, Field1: 0.0};
nimCopy(result_684351, i_684350.msize_682209, NTI20010);
return result_684351;
}
function size_684339(i_684341) {
var result_684342 = {Field0: 0.0, Field1: 0.0};
return result_684342;
}
function size_684344(i_684341) {
var result_684347 = {Field0: 0.0, Field1: 0.0};
BeforeRet: do {
if (isObj(i_684341.m_type, NTI682246)) {
result_684347 = size_684352(i_684341);
break BeforeRet;
}
else {
if (isObj(i_684341.m_type, NTI682207)) {
result_684347 = size_684348(i_684341);
break BeforeRet;
}
else {
if (isObj(i_684341.m_type, NTI682203)) {
result_684347 = size_684339(i_684341);
break BeforeRet;
}
}}
} while (false); 
return result_684347;
}
function newgraycolor_20154(g_20156, a_20157) {
var result_20158 = {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0};
nimCopy(result_20158, newcolor_20147(g_20156, g_20156, g_20156, a_20157), NTI20018);
return result_20158;
}
function whitecolor_20159() {
var result_20161 = {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0};
nimCopy(result_20161, newgraycolor_20154(1.0000000000000000e+00, 1.0000000000000000e+00), NTI20018);
return result_20161;
}
function init_754080(b_754082, frame_754083) {
init_696040(b_754082, frame_754083);
b_754082.state_754016 = 1;
b_754082.enabled_754018 = 1;
nimCopy(b_754082.backgroundcolor_696030, whitecolor_20159(), NTI20018);
b_754082.hasbezel_754019 = 1;
}
function init_709148(w_709150, r_709151) {
var canvas_709152 = document.createElement("canvas");
var width_709153 = width_20031(r_709151);
var height_709154 = height_20035(r_709151);
    canvas_709152.width = width_709153;
    canvas_709152.height = height_709154;
    document.body.appendChild(canvas_709152);
initwithcanvas_709089(w_709150, canvas_709152);
}
function init_755007(v_755009, r_755010) {
init_696040(v_755009, r_755010);
nimCopy(v_755009.backgroundcolor_696030, newcolor_20147(5.0000000000000000e-01, 5.0000000000000000e-01, 5.0000000000000000e-01, 5.0000000000000000e-01), NTI20018);
}
function clear_764201(t_764203) {
if (!(t_764203 == null)) {
            if (t_764203.__nimx_periodic) {
                clearInterval(t_764203);
            }
            else {
                clearTimeout(t_764203);
            }
            }

}
function sendaction_753015(c_753017, e_753018) {
if (!((c_753017.actionhandler_753013 == null))) {
c_753017.actionhandler_753013(e_753018);
}

}
function sendaction_754439(b_754441, e_754442) {
if (b_754441.enabled_754018) {
sendaction_753015(b_754441, e_754442);
}

}
function sendaction_753030(c_753017, e_753018) {
if (isObj(c_753017.m_type, NTI754014)) {
sendaction_754439(c_753017, e_753018);
}
else {
if (isObj(c_753017.m_type, NTI753009)) {
sendaction_753015(c_753017, e_753018);
}
}
}
function newunknownevent_704046() {
var result_704048 = {timestamp_704024: 0, kind_704025: 0, pointerid_704026: 0, position_704027: {Field0: 0.0, Field1: 0.0}, localposition_704028: {Field0: 0.0, Field1: 0.0}, offset_704029: {Field0: 0.0, Field1: 0.0}, keycode_704030: 0, buttonstate_704031: 0, rune_704032: 0, repeat_704033: false, window_704034: null, text_704035: null};
nimCopy(result_704048, newevent_704036(0, {Field0: 0.0, Field1: 0.0}, 0, 0, 0, 0), NTI704023);
return result_704048;
}
function sendaction_753032(c_753034) {
sendaction_753030(c_753034, newunknownevent_704046());
}
function viewshouldresignfirstresponder_765270(v_765272, newfirstresponder_765273) {
var result_765274 = false;
result_765274 = 1;
clear_764201(cursorupdatetimer_765010[0]);
cursorvisible_765009[0] = 0;
sendaction_753032(v_765272);
return result_765274;
}
function viewshouldresignfirstresponder_696201(v_696203, newfirstresponder_696204) {
var result_696205 = false;
result_696205 = 1;
return result_696205;
}
function viewshouldresignfirstresponder_696207(v_696203, newfirstresponder_696204) {
var result_696210 = false;
BeforeRet: do {
if (isObj(v_696203.m_type, NTI765003)) {
result_696210 = viewshouldresignfirstresponder_765270(v_696203, newfirstresponder_696204);
break BeforeRet;
}
else {
if (isObj(v_696203.m_type, NTI696021)) {
result_696210 = viewshouldresignfirstresponder_696201(v_696203, newfirstresponder_696204);
break BeforeRet;
}
}
} while (false); 
return result_696210;
}
function sendinputevent_709171(wnd_709173, evt_709175) {
var s_709176 = null;
    s_709176 = window.__nimx_textinput.value;
    window.__nimx_textinput.value = "";
    var e_709177 = /**/[newevent_704036(6, {Field0: 0.0, Field1: 0.0}, 0, 0, 0, 0)];
e_709177[0].window_704034 = wnd_709173;
e_709177[0].text_704035 = cstrToNimstr(s_709176);
handleevent_707104(mainapplication_707079(), e_709177[0]);
}
function newkeyboardevent_704091(keycode_704093, buttonstate_704094, repeat_704095) {
var result_704096 = {timestamp_704024: 0, kind_704025: 0, pointerid_704026: 0, position_704027: {Field0: 0.0, Field1: 0.0}, localposition_704028: {Field0: 0.0, Field1: 0.0}, offset_704029: {Field0: 0.0, Field1: 0.0}, keycode_704030: 0, buttonstate_704031: 0, rune_704032: 0, repeat_704033: false, window_704034: null, text_704035: null};
nimCopy(result_704096, newevent_704036(4, {Field0: 0.0, Field1: 0.0}, keycode_704093, buttonstate_704094, 0, 0), NTI704023);
result_704096.repeat_704033 = repeat_704095;
return result_704096;
}
function rawget_708460(t_708465, key_708467, hc_708469, hc_708469_Idx) {
var Tmp3;
var result_708470 = 0;
BeforeRet: do {
hc_708469[hc_708469_Idx] = hash_636801(key_708467);
if ((hc_708469[hc_708469_Idx] == 0)) {
hc_708469[hc_708469_Idx] = 314159265;
}

var h_708472 = (hc_708469[hc_708469_Idx] & (t_708465.data_708023 != null ? (t_708465.data_708023.length-1) : -1));
L1: do {
L2: while (true) {
if (!isfilled_639263(t_708465.data_708023[chckIndx(h_708472, 0, t_708465.data_708023.length)-0].Field0)) break L2;
if (!(t_708465.data_708023[chckIndx(h_708472, 0, t_708465.data_708023.length)-0].Field0 == hc_708469[hc_708469_Idx])) Tmp3 = false; else {Tmp3 = (t_708465.data_708023[chckIndx(h_708472, 0, t_708465.data_708023.length)-0].Field1 == key_708467); }if (Tmp3) {
result_708470 = h_708472;
break BeforeRet;
}

h_708472 = nexttry_639401(h_708472, (t_708465.data_708023 != null ? (t_708465.data_708023.length-1) : -1));
}
} while(false);
result_708470 = subInt(-1, h_708472);
} while (false); 
return result_708470;
}
function getordefault_709192(t_709198, key_709200) {
var result_709201 = 0;
var hc_709203 = [0];
var index_709205 = rawget_708460(t_709198, key_709200, hc_709203, 0);
if ((0 <= index_709205)) {
result_709201 = t_709198.data_708023[chckIndx(index_709205, 0, t_709198.data_708023.length)-0].Field2;
}

return result_709201;
}
function sendkeyevent_709186(wnd_709188, evt_709190) {
var Tmp1;
if ((evt_709190.type == "keyup")) {
Tmp1 = 1;
}
else {
if ((evt_709190.type == "keydown")) {
Tmp1 = 2;
}
else {
Tmp1 = 0;
}
}
var e_709220 = /**/[newkeyboardevent_704091(getordefault_709192({data_708023: [{Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 8, Field1: 8, Field2: 17}, {Field0: 9, Field1: 9, Field2: 18}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 13, Field1: 13, Field2: 97}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 16, Field1: 16, Field2: 57}, {Field0: 17, Field1: 17, Field2: 98}, {Field0: 18, Field1: 18, Field2: 101}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 20, Field1: 20, Field2: 61}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 27, Field1: 27, Field2: 4}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 32, Field1: 32, Field2: 60}, {Field0: 33, Field1: 33, Field2: 104}, {Field0: 34, Field1: 34, Field2: 109}, {Field0: 35, Field1: 35, Field2: 107}, {Field0: 36, Field1: 36, Field2: 102}, {Field0: 37, Field1: 37, Field2: 105}, {Field0: 38, Field1: 38, Field2: 103}, {Field0: 39, Field1: 39, Field2: 106}, {Field0: 40, Field1: 40, Field2: 108}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 42, Field1: 42, Field2: 100}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 45, Field1: 45, Field2: 110}, {Field0: 46, Field1: 46, Field2: 111}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 48, Field1: 48, Field2: 14}, {Field0: 49, Field1: 49, Field2: 5}, {Field0: 50, Field1: 50, Field2: 6}, {Field0: 51, Field1: 51, Field2: 7}, {Field0: 52, Field1: 52, Field2: 8}, {Field0: 53, Field1: 53, Field2: 9}, {Field0: 54, Field1: 54, Field2: 10}, {Field0: 55, Field1: 55, Field2: 11}, {Field0: 56, Field1: 56, Field2: 12}, {Field0: 57, Field1: 57, Field2: 13}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 65, Field1: 65, Field2: 33}, {Field0: 66, Field1: 66, Field2: 51}, {Field0: 67, Field1: 67, Field2: 49}, {Field0: 68, Field1: 68, Field2: 35}, {Field0: 69, Field1: 69, Field2: 21}, {Field0: 70, Field1: 70, Field2: 36}, {Field0: 71, Field1: 71, Field2: 37}, {Field0: 72, Field1: 72, Field2: 38}, {Field0: 73, Field1: 73, Field2: 26}, {Field0: 74, Field1: 74, Field2: 39}, {Field0: 75, Field1: 75, Field2: 40}, {Field0: 76, Field1: 76, Field2: 41}, {Field0: 77, Field1: 77, Field2: 53}, {Field0: 78, Field1: 78, Field2: 52}, {Field0: 79, Field1: 79, Field2: 27}, {Field0: 80, Field1: 80, Field2: 28}, {Field0: 81, Field1: 81, Field2: 19}, {Field0: 82, Field1: 82, Field2: 22}, {Field0: 83, Field1: 83, Field2: 34}, {Field0: 84, Field1: 84, Field2: 23}, {Field0: 85, Field1: 85, Field2: 25}, {Field0: 86, Field1: 86, Field2: 50}, {Field0: 87, Field1: 87, Field2: 20}, {Field0: 88, Field1: 88, Field2: 48}, {Field0: 89, Field1: 89, Field2: 24}, {Field0: 90, Field1: 90, Field2: 47}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 96, Field1: 96, Field2: 85}, {Field0: 97, Field1: 97, Field2: 82}, {Field0: 98, Field1: 98, Field2: 83}, {Field0: 99, Field1: 99, Field2: 84}, {Field0: 100, Field1: 100, Field2: 78}, {Field0: 101, Field1: 101, Field2: 79}, {Field0: 102, Field1: 102, Field2: 80}, {Field0: 103, Field1: 103, Field2: 74}, {Field0: 104, Field1: 104, Field2: 75}, {Field0: 105, Field1: 105, Field2: 76}, {Field0: 106, Field1: 106, Field2: 58}, {Field0: 107, Field1: 107, Field2: 81}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 109, Field1: 109, Field2: 77}, {Field0: 110, Field1: 110, Field2: 86}, {Field0: 111, Field1: 111, Field2: 99}, {Field0: 112, Field1: 112, Field2: 62}, {Field0: 113, Field1: 113, Field2: 63}, {Field0: 114, Field1: 114, Field2: 64}, {Field0: 115, Field1: 115, Field2: 65}, {Field0: 116, Field1: 116, Field2: 66}, {Field0: 117, Field1: 117, Field2: 67}, {Field0: 118, Field1: 118, Field2: 68}, {Field0: 119, Field1: 119, Field2: 69}, {Field0: 120, Field1: 120, Field2: 70}, {Field0: 121, Field1: 121, Field2: 71}, {Field0: 122, Field1: 122, Field2: 88}, {Field0: 123, Field1: 123, Field2: 89}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 144, Field1: 144, Field2: 72}, {Field0: 145, Field1: 145, Field2: 73}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 186, Field1: 186, Field2: 42}, {Field0: 187, Field1: 187, Field2: 16}, {Field0: 188, Field1: 188, Field2: 54}, {Field0: 189, Field1: 189, Field2: 15}, {Field0: 190, Field1: 190, Field2: 55}, {Field0: 191, Field1: 191, Field2: 56}, {Field0: 192, Field1: 192, Field2: 44}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 219, Field1: 219, Field2: 29}, {Field0: 220, Field1: 220, Field2: 46}, {Field0: 221, Field1: 221, Field2: 30}, {Field0: 222, Field1: 222, Field2: 43}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}], counter_708026: 96}, evt_709190.keyCode), Tmp1, 0)];
e_709220[0].window_704034 = wnd_709188;
handleevent_707104(mainapplication_707079(), e_709220[0]);
}
function starttextinput_709222(wnd_709224, r_709225) {
function HEX3Aanonymous_709227(evt_709230) {
sendinputevent_709171(wnd_709224, evt_709230);
}
function HEX3Aanonymous_709232(evt_709235) {
sendkeyevent_709186(wnd_709224, evt_709235);
}
var canvas_709226 = wnd_709224.canvas_709005;
var oninput_709231 = HEX3Aanonymous_709227;
var onkey_709236 = HEX3Aanonymous_709232;
    if (window.__nimx_textinput === undefined)
    {
        var i = window.__nimx_textinput = document.createElement('input');
        i.type = 'text';
    }
    window.__nimx_textinput.oninput = oninput_709231;
    window.__nimx_textinput.onkeydown = onkey_709236;
    window.__nimx_textinput.onkeyup = onkey_709236;
    window.__nimx_textinput.style.position = 'absolute';
    window.__nimx_textinput.style.top = '-99999px';
    document.body.appendChild(window.__nimx_textinput);
    setTimeout(function(){ window.__nimx_textinput.focus(); }, 1);
    }
function starttextinput_702069(w_702071, r_702072) {
}
function starttextinput_702074(w_702071, r_702072) {
if (isObj(w_702071.m_type, NTI709003)) {
starttextinput_709222(w_702071, r_702072);
}
else {
if (isObj(w_702071.m_type, NTI696034)) {
starttextinput_702069(w_702071, r_702072);
}
}
}
function convertrectotowindow_696182(v_696184, r_696185) {
var result_696186 = {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}};
nimCopy(result_696186.Field0, convertpointtowindow_696138(v_696184, r_696185.Field0), NTI20006);
nimCopy(result_696186.Field1, r_696185.Field1, NTI20010);
return result_696186;
}
function bounds_697649(v_697651) {
var result_697652 = {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}};
nimCopy(result_697652, v_697651.bounds_696024, NTI20014);
return result_697652;
}
function bounds_697654(v_697651) {
var result_697657 = {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}};
BeforeRet: do {
result_697657 = bounds_697649(v_697651);
break BeforeRet;
} while (false); 
return result_697657;
}
function modInt(a_12476, b_12477) {
    if (b_12477 == 0) raiseDivByZero();
    if (b_12477 == -1 && a_12476 == 2147483647) raiseOverflow();
    return Math.floor(a_12476 % b_12477);
  }
function haskeyimpl_651037(t_651040, k_651041) {
var result_651042 = false;
result_651042 = (k_651041 in t_651040);return result_651042;
}
function setval_651031(t_651034, k_651035, v_651036) {
t_651034[k_651035] = v_651036;}
function newpacker_643017(width_643019, height_643020) {
var result_643021 = null;
result_643021 = {c1_643012: null, c2_643013: null, rect_643014: {Field0: 0, Field1: 0, Field2: 0, Field3: 0}, occupied_643015: false};
result_643021.rect_643014.Field2 = width_643019;
result_643021.rect_643014.Field3 = height_643020;
return result_643021;
}
function pack_643045(p_643047, width_643048, height_643049) {
var Tmp1;
var Tmp2;
var Tmp3;
var result_643050 = {Field0: 0, Field1: 0};
BeforeRet: do {
if (!(p_643047.c1_643012 == null)) {
nimCopy(result_643050, pack_643045(p_643047.c1_643012, width_643048, height_643049), NTI643031);
if ((0 <= result_643050.Field0)) {
break BeforeRet;
}

nimCopy(result_643050, pack_643045(p_643047.c2_643013, width_643048, height_643049), NTI643031);
}
else {
if (p_643047.occupied_643015) Tmp2 = true; else {Tmp2 = (p_643047.rect_643014.Field2 < width_643048); }if (Tmp2) Tmp1 = true; else {Tmp1 = (p_643047.rect_643014.Field3 < height_643049); }if (Tmp1) {
nimCopy(result_643050, {Field0: -1, Field1: -1}, NTI643031);
break BeforeRet;
}

if (!(width_643048 == p_643047.rect_643014.Field2)) Tmp3 = false; else {Tmp3 = (height_643049 == p_643047.rect_643014.Field3); }if (Tmp3) {
p_643047.occupied_643015 = 1;
nimCopy(result_643050, {Field0: p_643047.rect_643014.Field0, Field1: p_643047.rect_643014.Field1}, NTI643031);
break BeforeRet;
}

p_643047.c1_643012 = {c1_643012: null, c2_643013: null, rect_643014: {Field0: 0, Field1: 0, Field2: 0, Field3: 0}, occupied_643015: false};
p_643047.c2_643013 = {c1_643012: null, c2_643013: null, rect_643014: {Field0: 0, Field1: 0, Field2: 0, Field3: 0}, occupied_643015: false};
var dw_643077 = subInt(p_643047.rect_643014.Field2, width_643048);
var dh_643078 = subInt(p_643047.rect_643014.Field3, height_643049);
if ((dh_643078 < dw_643077)) {
nimCopy(p_643047.c1_643012.rect_643014, {Field0: p_643047.rect_643014.Field0, Field1: p_643047.rect_643014.Field1, Field2: width_643048, Field3: p_643047.rect_643014.Field3}, NTI643004);
nimCopy(p_643047.c2_643013.rect_643014, {Field0: addInt(p_643047.rect_643014.Field0, width_643048), Field1: p_643047.rect_643014.Field1, Field2: subInt(p_643047.rect_643014.Field2, width_643048), Field3: p_643047.rect_643014.Field3}, NTI643004);
}
else {
nimCopy(p_643047.c1_643012.rect_643014, {Field0: p_643047.rect_643014.Field0, Field1: p_643047.rect_643014.Field1, Field2: p_643047.rect_643014.Field2, Field3: height_643049}, NTI643004);
nimCopy(p_643047.c2_643013.rect_643014, {Field0: p_643047.rect_643014.Field0, Field1: addInt(p_643047.rect_643014.Field1, height_643049), Field2: p_643047.rect_643014.Field2, Field3: subInt(p_643047.rect_643014.Field3, height_643049)}, NTI643004);
}

nimCopy(result_643050, pack_643045(p_643047.c1_643012, width_643048, height_643049), NTI643031);
}

} while (false); 
return result_643050;
}
function width_643037(p_643039) {
var result_643040 = 0;
result_643040 = p_643039.rect_643014.Field2;
return result_643040;
}
function height_643041(p_643043) {
var result_643044 = 0;
result_643044 = p_643043.rect_643014.Field3;
return result_643044;
}
function packandgrow_643083(p_643086, p_643086_Idx, width_643087, height_643088) {
var result_643089 = {Field0: 0, Field1: 0};
L1: do {
L2: while (true) {
if (!1) break L2;
nimCopy(result_643089, pack_643045(p_643086[p_643086_Idx], width_643087, height_643088), NTI643031);
if ((0 <= result_643089.Field0)) {
break L1;
}

var newp_643090 = null;
if ((width_643037(p_643086[p_643086_Idx]) < height_643041(p_643086[p_643086_Idx]))) {
newp_643090 = newpacker_643017(mulInt(width_643037(p_643086[p_643086_Idx]), 2), height_643041(p_643086[p_643086_Idx]));
newp_643090.c2_643013 = {c1_643012: null, c2_643013: null, rect_643014: {Field0: 0, Field1: 0, Field2: 0, Field3: 0}, occupied_643015: false};
newp_643090.c2_643013.rect_643014.Field0 = width_643037(p_643086[p_643086_Idx]);
newp_643090.c2_643013.rect_643014.Field2 = width_643037(p_643086[p_643086_Idx]);
newp_643090.c2_643013.rect_643014.Field1 = 0;
newp_643090.c2_643013.rect_643014.Field3 = height_643041(p_643086[p_643086_Idx]);
}
else {
newp_643090 = newpacker_643017(width_643037(p_643086[p_643086_Idx]), mulInt(height_643041(p_643086[p_643086_Idx]), 2));
newp_643090.c2_643013 = {c1_643012: null, c2_643013: null, rect_643014: {Field0: 0, Field1: 0, Field2: 0, Field3: 0}, occupied_643015: false};
newp_643090.c2_643013.rect_643014.Field0 = 0;
newp_643090.c2_643013.rect_643014.Field2 = width_643037(p_643086[p_643086_Idx]);
newp_643090.c2_643013.rect_643014.Field1 = height_643041(p_643086[p_643086_Idx]);
newp_643090.c2_643013.rect_643014.Field3 = height_643041(p_643086[p_643086_Idx]);
}

newp_643090.c1_643012 = p_643086[p_643086_Idx];
p_643086[p_643086_Idx] = newp_643090;
}
} while(false);
return result_643089;
}
function computegradient_649265(img_649270, w_649272, h_649274, gx_649278, gy_649282) {
var Tmp9;
L1: do {
var i_649309 = 0;
var HEX3Atmp_649360 = {a_14056: 0, b_14058: 0};
HEX3Atmp_649360 = HEX2EHEX2E_31611(1, (h_649274 - 1) - 1);
L2: do {
var x_649364 = 0;
var HEX3Atmp_649366 = 0;
var HEX3Atmp_649368 = 0;
HEX3Atmp_649366 = HEX3Atmp_649360.a_14056;
HEX3Atmp_649368 = HEX3Atmp_649360.b_14058;
var res_649370 = HEX3Atmp_649366;
L3: do {
L4: while (true) {
if (!(res_649370 <= HEX3Atmp_649368)) break L4;
x_649364 = res_649370;
i_649309 = x_649364;
L5: do {
var j_649335 = 0;
var HEX3Atmp_649346 = {a_14056: 0, b_14058: 0};
HEX3Atmp_649346 = HEX2EHEX2E_31611(1, (w_649272 - 1) - 1);
L6: do {
var x_649350 = 0;
var HEX3Atmp_649352 = 0;
var HEX3Atmp_649354 = 0;
HEX3Atmp_649352 = HEX3Atmp_649346.a_14056;
HEX3Atmp_649354 = HEX3Atmp_649346.b_14058;
var res_649356 = HEX3Atmp_649352;
L7: do {
L8: while (true) {
if (!(res_649356 <= HEX3Atmp_649354)) break L8;
x_649350 = res_649356;
j_649335 = x_649350;
var k_649336 = ((i_649309 * w_649272) + j_649335);
if (!(0.0 < img_649270[k_649336])) Tmp9 = false; else {Tmp9 = (img_649270[k_649336] < 1.0000000000000000e+00); }if (Tmp9) {
gx_649278[k_649336] = (((((-(img_649270[((k_649336 - w_649272) - 1)]) - (1.4142136000000001e+00 * img_649270[(k_649336 - 1)])) - img_649270[((k_649336 + w_649272) - 1)]) + img_649270[((k_649336 - w_649272) + 1)]) + (1.4142136000000001e+00 * img_649270[(k_649336 + 1)])) + img_649270[((k_649336 + w_649272) + 1)]);
gy_649282[k_649336] = (((((-(img_649270[((k_649336 - w_649272) - 1)]) - (1.4142136000000001e+00 * img_649270[(k_649336 - w_649272)])) - img_649270[((k_649336 + w_649272) - 1)]) + img_649270[((k_649336 - w_649272) + 1)]) + (1.4142136000000001e+00 * img_649270[(k_649336 + w_649272)])) + img_649270[((k_649336 + w_649272) + 1)]);
var glength_649339 = ((gx_649278[k_649336] * gx_649278[k_649336]) + (gy_649282[k_649336] * gy_649282[k_649336]));
if ((0.0 < glength_649339)) {
glength_649339 = Math.sqrt(glength_649339);
gx_649278[k_649336] = (gx_649278[k_649336] / glength_649339);
gy_649282[k_649336] = (gy_649282[k_649336] / glength_649339);
}

}

res_649356 += 1;
}
} while(false);
} while(false);
} while(false);
res_649370 += 1;
}
} while(false);
} while(false);
} while(false);
}
function edgedf_649458(gx_649462, gy_649464, a_649466) {
var result_649467 = 0.0;
if (((gx_649462 == 0.0) || (gy_649464 == 0.0))) {
result_649467 = (5.0000000000000000e-01 - a_649466);
}
else {
var glength_649470 = Math.sqrt(((gx_649462 * gx_649462) + (gy_649464 * gy_649464)));
var ggx_649471 = gx_649462;
var ggy_649472 = gy_649464;
if ((0.0 < glength_649470)) {
ggx_649471 = (ggx_649471 / glength_649470);
ggy_649472 = (ggy_649472 / glength_649470);
}

ggx_649471 = Math.abs(ggx_649471);
ggy_649472 = Math.abs(ggy_649472);
if ((ggx_649471 < ggy_649472)) {
var Tmp1 = ggx_649471; ggx_649471 = ggy_649472; ggy_649472 = Tmp1;}

var a1_649484 = ((5.0000000000000000e-01 * ggy_649472) / ggx_649471);
if ((a_649466 < a1_649484)) {
result_649467 = ((5.0000000000000000e-01 * (ggx_649471 + ggy_649472)) - Math.sqrt((((2.0000000000000000e+00 * ggx_649471) * ggy_649472) * a_649466)));
}
else {
if ((a_649466 < (1.0000000000000000e+00 - a1_649484))) {
result_649467 = ((5.0000000000000000e-01 - a_649466) * ggx_649471);
}
else {
result_649467 = ((-5.0000000000000000e-01 * (ggx_649471 + ggy_649472)) + Math.sqrt((((2.0000000000000000e+00 * ggx_649471) * ggy_649472) * (1.0000000000000000e+00 - a_649466))));
}
}
}

return result_649467;
}
function distaa3_649498(img_649503, gximg_649506, gyimg_649509, w_649511, c_649513, xc_649515, yc_649517, xi_649519, yi_649521) {
var result_649522 = 0.0;
BeforeRet: do {
var closest_649523 = ((c_649513 - xc_649515) - (yc_649517 * w_649511));
var a_649524 = img_649503[closest_649523];
var gx_649525 = gximg_649506[closest_649523];
var gy_649526 = gyimg_649509[closest_649523];
if ((1.0000000000000000e+00 < a_649524)) {
a_649524 = 1.0000000000000000e+00;
}

if ((a_649524 < 0.0)) {
a_649524 = 0.0;
}

if ((a_649524 == 0.0)) {
result_649522 = 1.0000000000000000e+06;
break BeforeRet;
}

var dx_649528 = xi_649519;
var dy_649530 = yi_649521;
var di_649531 = Math.sqrt(((dx_649528 * dx_649528) + (dy_649530 * dy_649530)));
if ((di_649531 == 0.0)) {
result_649522 = edgedf_649458(gx_649525, gy_649526, a_649524);
}
else {
result_649522 = edgedf_649458(dx_649528, dy_649530, a_649524);
}

result_649522 = (result_649522 + di_649531);
} while (false); 
return result_649522;
}
function edtaa3_649379(img_649384, gx_649387, gy_649390, w_649392, h_649394, distx_649396, disty_649398, dist_649402) {
var c_649403 = 0;
var olddist_649404 = 0.0;
var newdist_649405 = 0.0;
var cdistx_649406 = 0;
var cdisty_649407 = 0;
var newdistx_649408 = 0;
var newdisty_649409 = 0;
var offsetu_649419 = -(w_649392);
var offsetur_649420 = (-(w_649392) + 1);
var offsetr_649421 = 1;
var offsetrd_649422 = (w_649392 + 1);
var offsetd_649423 = w_649392;
var offsetdl_649424 = (w_649392 - 1);
var offsetl_649425 = -1;
var offsetlu_649426 = (-(w_649392) - 1);
var sz_649427 = (w_649392 * h_649394);
L1: do {
var i_649453 = 0;
var HEX3Atmp_650181 = {a_14056: 0, b_14058: 0};
HEX3Atmp_650181 = HEX2EHEX2E_31611(0, sz_649427 - 1);
L2: do {
var x_650185 = 0;
var HEX3Atmp_650187 = 0;
var HEX3Atmp_650189 = 0;
HEX3Atmp_650187 = HEX3Atmp_650181.a_14056;
HEX3Atmp_650189 = HEX3Atmp_650181.b_14058;
var res_650191 = HEX3Atmp_650187;
L3: do {
L4: while (true) {
if (!(res_650191 <= HEX3Atmp_650189)) break L4;
x_650185 = res_650191;
i_649453 = x_650185;
distx_649396[i_649453] = 0;
disty_649398[i_649453] = 0;
if ((img_649384[i_649453] <= 0.0)) {
dist_649402[i_649453] = 1.0000000000000000e+06;
}
else {
if ((img_649384[i_649453] < 1.0000000000000000e+00)) {
dist_649402[i_649453] = edgedf_649458(gx_649387[i_649453], gy_649390[i_649453], img_649384[i_649453]);
}
else {
dist_649402[i_649453] = 0.0;
}
}
res_650191 += 1;
}
} while(false);
} while(false);
} while(false);
var changed_649492 = 1;
L5: do {
L6: while (true) {
if (!changed_649492) break L6;
changed_649492 = 0;
var y_649493 = 1;
L7: do {
L8: while (true) {
if (!(y_649493 < h_649394)) break L8;
var i_649494 = (y_649493 * w_649392);
olddist_649404 = dist_649402[i_649494];
if ((0.0 < olddist_649404)) {
var c_649496 = (i_649494 + offsetu_649419);
cdistx_649406 = distx_649396[c_649496];
cdisty_649407 = disty_649398[c_649496];
newdistx_649408 = cdistx_649406;
newdisty_649409 = (cdisty_649407 + 1);
newdist_649405 = distaa3_649498(img_649384, gx_649387, gy_649390, w_649392, c_649496, (cdistx_649406|0), (cdisty_649407|0), (newdistx_649408|0), (newdisty_649409|0));
if ((newdist_649405 < (olddist_649404 - 1.0000000000000000e-03))) {
distx_649396[i_649494] = newdistx_649408;
disty_649398[i_649494] = newdisty_649409;
dist_649402[i_649494] = newdist_649405;
olddist_649404 = newdist_649405;
changed_649492 = 1;
}

c_649496 = (i_649494 + offsetur_649420);
cdistx_649406 = distx_649396[c_649496];
cdisty_649407 = disty_649398[c_649496];
newdistx_649408 = (cdistx_649406 - 1);
newdisty_649409 = (cdisty_649407 + 1);
newdist_649405 = distaa3_649498(img_649384, gx_649387, gy_649390, w_649392, c_649496, (cdistx_649406|0), (cdisty_649407|0), (newdistx_649408|0), (newdisty_649409|0));
if ((newdist_649405 < (olddist_649404 - 1.0000000000000000e-03))) {
distx_649396[i_649494] = newdistx_649408;
disty_649398[i_649494] = newdisty_649409;
dist_649402[i_649494] = newdist_649405;
changed_649492 = 1;
}

}

i_649494 += 1;
var x_649591 = 1;
L9: do {
L10: while (true) {
if (!(x_649591 < (w_649392 - 1))) break L10;
olddist_649404 = dist_649402[i_649494];
if ((0.0 < olddist_649404)) {
c_649403 = (i_649494 + offsetl_649425);
cdistx_649406 = distx_649396[c_649403];
cdisty_649407 = disty_649398[c_649403];
newdistx_649408 = (cdistx_649406 + 1);
newdisty_649409 = cdisty_649407;
newdist_649405 = distaa3_649498(img_649384, gx_649387, gy_649390, w_649392, c_649403, (cdistx_649406|0), (cdisty_649407|0), (newdistx_649408|0), (newdisty_649409|0));
if ((newdist_649405 < (olddist_649404 - 1.0000000000000000e-03))) {
distx_649396[i_649494] = newdistx_649408;
disty_649398[i_649494] = newdisty_649409;
dist_649402[i_649494] = newdist_649405;
olddist_649404 = newdist_649405;
changed_649492 = 1;
}

c_649403 = (i_649494 + offsetlu_649426);
cdistx_649406 = distx_649396[c_649403];
cdisty_649407 = disty_649398[c_649403];
newdistx_649408 = (cdistx_649406 + 1);
newdisty_649409 = (cdisty_649407 + 1);
newdist_649405 = distaa3_649498(img_649384, gx_649387, gy_649390, w_649392, c_649403, (cdistx_649406|0), (cdisty_649407|0), (newdistx_649408|0), (newdisty_649409|0));
if ((newdist_649405 < (olddist_649404 - 1.0000000000000000e-03))) {
distx_649396[i_649494] = newdistx_649408;
disty_649398[i_649494] = newdisty_649409;
dist_649402[i_649494] = newdist_649405;
olddist_649404 = newdist_649405;
changed_649492 = 1;
}

c_649403 = (i_649494 + offsetu_649419);
cdistx_649406 = distx_649396[c_649403];
cdisty_649407 = disty_649398[c_649403];
newdistx_649408 = cdistx_649406;
newdisty_649409 = (cdisty_649407 + 1);
newdist_649405 = distaa3_649498(img_649384, gx_649387, gy_649390, w_649392, c_649403, (cdistx_649406|0), (cdisty_649407|0), (newdistx_649408|0), (newdisty_649409|0));
if ((newdist_649405 < (olddist_649404 - 1.0000000000000000e-03))) {
distx_649396[i_649494] = newdistx_649408;
disty_649398[i_649494] = newdisty_649409;
dist_649402[i_649494] = newdist_649405;
olddist_649404 = newdist_649405;
changed_649492 = 1;
}

c_649403 = (i_649494 + offsetur_649420);
cdistx_649406 = distx_649396[c_649403];
cdisty_649407 = disty_649398[c_649403];
newdistx_649408 = (cdistx_649406 - 1);
newdisty_649409 = (cdisty_649407 + 1);
newdist_649405 = distaa3_649498(img_649384, gx_649387, gy_649390, w_649392, c_649403, (cdistx_649406|0), (cdisty_649407|0), (newdistx_649408|0), (newdisty_649409|0));
if ((newdist_649405 < (olddist_649404 - 1.0000000000000000e-03))) {
distx_649396[i_649494] = newdistx_649408;
disty_649398[i_649494] = newdisty_649409;
dist_649402[i_649494] = newdist_649405;
changed_649492 = 1;
}

}

x_649591 += 1;
i_649494 += 1;
}
} while(false);
olddist_649404 = dist_649402[i_649494];
if ((0.0 < olddist_649404)) {
c_649403 = (i_649494 + offsetl_649425);
cdistx_649406 = distx_649396[c_649403];
cdisty_649407 = disty_649398[c_649403];
newdistx_649408 = (cdistx_649406 + 1);
newdisty_649409 = cdisty_649407;
newdist_649405 = distaa3_649498(img_649384, gx_649387, gy_649390, w_649392, c_649403, (cdistx_649406|0), (cdisty_649407|0), (newdistx_649408|0), (newdisty_649409|0));
if ((newdist_649405 < (olddist_649404 - 1.0000000000000000e-03))) {
distx_649396[i_649494] = newdistx_649408;
disty_649398[i_649494] = newdisty_649409;
dist_649402[i_649494] = newdist_649405;
olddist_649404 = newdist_649405;
changed_649492 = 1;
}

c_649403 = (i_649494 + offsetlu_649426);
cdistx_649406 = distx_649396[c_649403];
cdisty_649407 = disty_649398[c_649403];
newdistx_649408 = (cdistx_649406 + 1);
newdisty_649409 = (cdisty_649407 + 1);
newdist_649405 = distaa3_649498(img_649384, gx_649387, gy_649390, w_649392, c_649403, (cdistx_649406|0), (cdisty_649407|0), (newdistx_649408|0), (newdisty_649409|0));
if ((newdist_649405 < (olddist_649404 - 1.0000000000000000e-03))) {
distx_649396[i_649494] = newdistx_649408;
disty_649398[i_649494] = newdisty_649409;
dist_649402[i_649494] = newdist_649405;
olddist_649404 = newdist_649405;
changed_649492 = 1;
}

c_649403 = (i_649494 + offsetu_649419);
cdistx_649406 = distx_649396[c_649403];
cdisty_649407 = disty_649398[c_649403];
newdistx_649408 = cdistx_649406;
newdisty_649409 = (cdisty_649407 + 1);
newdist_649405 = distaa3_649498(img_649384, gx_649387, gy_649390, w_649392, c_649403, (cdistx_649406|0), (cdisty_649407|0), (newdistx_649408|0), (newdisty_649409|0));
if ((newdist_649405 < (olddist_649404 - 1.0000000000000000e-03))) {
distx_649396[i_649494] = newdistx_649408;
disty_649398[i_649494] = newdisty_649409;
dist_649402[i_649494] = newdist_649405;
changed_649492 = 1;
}

}

i_649494 = (((y_649493 * w_649392) + w_649392) - 2);
x_649591 = (w_649392 - 2);
L11: do {
L12: while (true) {
if (!(0 <= x_649591)) break L12;
olddist_649404 = dist_649402[i_649494];
if ((0.0 < olddist_649404)) {
var c_649795 = (i_649494 + offsetr_649421);
cdistx_649406 = distx_649396[c_649795];
cdisty_649407 = disty_649398[c_649795];
newdistx_649408 = (cdistx_649406 - 1);
newdisty_649409 = cdisty_649407;
newdist_649405 = distaa3_649498(img_649384, gx_649387, gy_649390, w_649392, c_649795, (cdistx_649406|0), (cdisty_649407|0), (newdistx_649408|0), (newdisty_649409|0));
if ((newdist_649405 < (olddist_649404 - 1.0000000000000000e-03))) {
distx_649396[i_649494] = newdistx_649408;
disty_649398[i_649494] = newdisty_649409;
dist_649402[i_649494] = newdist_649405;
changed_649492 = 1;
}

}

x_649591 -= 1;
i_649494 -= 1;
}
} while(false);
y_649493 += 1;
}
} while(false);
y_649493 = (h_649394 - 2);
L13: do {
L14: while (true) {
if (!(0 <= y_649493)) break L14;
var i_649849 = (((y_649493 * w_649392) + w_649392) - 1);
olddist_649404 = dist_649402[i_649849];
if ((0.0 < olddist_649404)) {
c_649403 = (i_649849 + offsetd_649423);
cdistx_649406 = distx_649396[c_649403];
cdisty_649407 = disty_649398[c_649403];
newdistx_649408 = cdistx_649406;
newdisty_649409 = (cdisty_649407 - 1);
newdist_649405 = distaa3_649498(img_649384, gx_649387, gy_649390, w_649392, c_649403, (cdistx_649406|0), (cdisty_649407|0), (newdistx_649408|0), (newdisty_649409|0));
if ((newdist_649405 < (olddist_649404 - 1.0000000000000000e-03))) {
distx_649396[i_649849] = newdistx_649408;
disty_649398[i_649849] = newdisty_649409;
dist_649402[i_649849] = newdist_649405;
olddist_649404 = newdist_649405;
changed_649492 = 1;
}

c_649403 = (i_649849 + offsetdl_649424);
cdistx_649406 = distx_649396[c_649403];
cdisty_649407 = disty_649398[c_649403];
newdistx_649408 = (cdistx_649406 + 1);
newdisty_649409 = (cdisty_649407 - 1);
newdist_649405 = distaa3_649498(img_649384, gx_649387, gy_649390, w_649392, c_649403, (cdistx_649406|0), (cdisty_649407|0), (newdistx_649408|0), (newdisty_649409|0));
if ((newdist_649405 < (olddist_649404 - 1.0000000000000000e-03))) {
distx_649396[i_649849] = newdistx_649408;
disty_649398[i_649849] = newdisty_649409;
dist_649402[i_649849] = newdist_649405;
changed_649492 = 1;
}

}

i_649849 -= 1;
var x_649912 = (w_649392 - 2);
L15: do {
L16: while (true) {
if (!(0 < x_649912)) break L16;
olddist_649404 = dist_649402[i_649849];
if ((0.0 < olddist_649404)) {
c_649403 = (i_649849 + offsetr_649421);
cdistx_649406 = distx_649396[c_649403];
cdisty_649407 = disty_649398[c_649403];
newdistx_649408 = (cdistx_649406 - 1);
newdisty_649409 = cdisty_649407;
newdist_649405 = distaa3_649498(img_649384, gx_649387, gy_649390, w_649392, c_649403, (cdistx_649406|0), (cdisty_649407|0), (newdistx_649408|0), (newdisty_649409|0));
if ((newdist_649405 < (olddist_649404 - 1.0000000000000000e-03))) {
distx_649396[i_649849] = newdistx_649408;
disty_649398[i_649849] = newdisty_649409;
dist_649402[i_649849] = newdist_649405;
olddist_649404 = newdist_649405;
changed_649492 = 1;
}

c_649403 = (i_649849 + offsetrd_649422);
cdistx_649406 = distx_649396[c_649403];
cdisty_649407 = disty_649398[c_649403];
newdistx_649408 = (cdistx_649406 - 1);
newdisty_649409 = (cdisty_649407 - 1);
newdist_649405 = distaa3_649498(img_649384, gx_649387, gy_649390, w_649392, c_649403, (cdistx_649406|0), (cdisty_649407|0), (newdistx_649408|0), (newdisty_649409|0));
if ((newdist_649405 < (olddist_649404 - 1.0000000000000000e-03))) {
distx_649396[i_649849] = newdistx_649408;
disty_649398[i_649849] = newdisty_649409;
dist_649402[i_649849] = newdist_649405;
olddist_649404 = newdist_649405;
changed_649492 = 1;
}

c_649403 = (i_649849 + offsetd_649423);
cdistx_649406 = distx_649396[c_649403];
cdisty_649407 = disty_649398[c_649403];
newdistx_649408 = cdistx_649406;
newdisty_649409 = (cdisty_649407 - 1);
newdist_649405 = distaa3_649498(img_649384, gx_649387, gy_649390, w_649392, c_649403, (cdistx_649406|0), (cdisty_649407|0), (newdistx_649408|0), (newdisty_649409|0));
if ((newdist_649405 < (olddist_649404 - 1.0000000000000000e-03))) {
distx_649396[i_649849] = newdistx_649408;
disty_649398[i_649849] = newdisty_649409;
dist_649402[i_649849] = newdist_649405;
olddist_649404 = newdist_649405;
changed_649492 = 1;
}

c_649403 = (i_649849 + offsetdl_649424);
cdistx_649406 = distx_649396[c_649403];
cdisty_649407 = disty_649398[c_649403];
newdistx_649408 = (cdistx_649406 + 1);
newdisty_649409 = (cdisty_649407 - 1);
newdist_649405 = distaa3_649498(img_649384, gx_649387, gy_649390, w_649392, c_649403, (cdistx_649406|0), (cdisty_649407|0), (newdistx_649408|0), (newdisty_649409|0));
if ((newdist_649405 < (olddist_649404 - 1.0000000000000000e-03))) {
distx_649396[i_649849] = newdistx_649408;
disty_649398[i_649849] = newdisty_649409;
dist_649402[i_649849] = newdist_649405;
changed_649492 = 1;
}

}

x_649912 -= 1;
i_649849 -= 1;
}
} while(false);
olddist_649404 = dist_649402[i_649849];
if ((0.0 < olddist_649404)) {
c_649403 = (i_649849 + offsetr_649421);
cdistx_649406 = distx_649396[c_649403];
cdisty_649407 = disty_649398[c_649403];
newdistx_649408 = (cdistx_649406 - 1);
newdisty_649409 = cdisty_649407;
newdist_649405 = distaa3_649498(img_649384, gx_649387, gy_649390, w_649392, c_649403, (cdistx_649406|0), (cdisty_649407|0), (newdistx_649408|0), (newdisty_649409|0));
if ((newdist_649405 < (olddist_649404 - 1.0000000000000000e-03))) {
distx_649396[i_649849] = newdistx_649408;
disty_649398[i_649849] = newdisty_649409;
dist_649402[i_649849] = newdist_649405;
olddist_649404 = newdist_649405;
changed_649492 = 1;
}

c_649403 = (i_649849 + offsetrd_649422);
cdistx_649406 = distx_649396[c_649403];
cdisty_649407 = disty_649398[c_649403];
newdistx_649408 = (cdistx_649406 - 1);
newdisty_649409 = (cdisty_649407 - 1);
newdist_649405 = distaa3_649498(img_649384, gx_649387, gy_649390, w_649392, c_649403, (cdistx_649406|0), (cdisty_649407|0), (newdistx_649408|0), (newdisty_649409|0));
if ((newdist_649405 < (olddist_649404 - 1.0000000000000000e-03))) {
distx_649396[i_649849] = newdistx_649408;
disty_649398[i_649849] = newdisty_649409;
dist_649402[i_649849] = newdist_649405;
olddist_649404 = newdist_649405;
changed_649492 = 1;
}

c_649403 = (i_649849 + offsetd_649423);
cdistx_649406 = distx_649396[c_649403];
cdisty_649407 = disty_649398[c_649403];
newdistx_649408 = cdistx_649406;
newdisty_649409 = (cdisty_649407 - 1);
newdist_649405 = distaa3_649498(img_649384, gx_649387, gy_649390, w_649392, c_649403, (cdistx_649406|0), (cdisty_649407|0), (newdistx_649408|0), (newdisty_649409|0));
if ((newdist_649405 < (olddist_649404 - 1.0000000000000000e-03))) {
distx_649396[i_649849] = newdistx_649408;
disty_649398[i_649849] = newdisty_649409;
dist_649402[i_649849] = newdist_649405;
changed_649492 = 1;
}

}

i_649849 = ((y_649493 * w_649392) + 1);
x_649912 = 1;
L17: do {
L18: while (true) {
if (!(x_649912 < w_649392)) break L18;
olddist_649404 = dist_649402[i_649849];
if ((0.0 < olddist_649404)) {
c_649403 = (i_649849 + offsetl_649425);
cdistx_649406 = distx_649396[c_649403];
cdisty_649407 = disty_649398[c_649403];
newdistx_649408 = (cdistx_649406 + 1);
newdisty_649409 = cdisty_649407;
newdist_649405 = distaa3_649498(img_649384, gx_649387, gy_649390, w_649392, c_649403, (cdistx_649406|0), (cdisty_649407|0), (newdistx_649408|0), (newdisty_649409|0));
if ((newdist_649405 < (olddist_649404 - 1.0000000000000000e-03))) {
distx_649396[i_649849] = newdistx_649408;
disty_649398[i_649849] = newdisty_649409;
dist_649402[i_649849] = newdist_649405;
changed_649492 = 1;
}

}

x_649912 += 1;
i_649849 += 1;
}
} while(false);
y_649493 -= 1;
}
} while(false);
}
} while(false);
}
function makedistancemap_648032(data_648038, width_648040, height_648042) {
var sz_648043 = (width_648040 * height_648042);
var xdist_648201 = new Int16Array(sz_648043);
var ydist_648401 = new Int16Array(sz_648043);
var gx_648601 = new Float64Array(sz_648043);
var gy_648801 = new Float64Array(sz_648043);
var outside_649001 = new Float64Array(sz_648043);
var inside_649201 = new Float64Array(sz_648043);
var imgmin_649203 = 2.5500000000000000e+02;
var imgmax_649206 = -2.5500000000000000e+02;
L1: do {
var i_649232 = 0;
var HEX3Atmp_650439 = {a_14056: 0, b_14058: 0};
HEX3Atmp_650439 = HEX2EHEX2E_31611(0, sz_648043 - 1);
L2: do {
var x_650443 = 0;
var HEX3Atmp_650445 = 0;
var HEX3Atmp_650447 = 0;
HEX3Atmp_650445 = HEX3Atmp_650439.a_14056;
HEX3Atmp_650447 = HEX3Atmp_650439.b_14058;
var res_650449 = HEX3Atmp_650445;
L3: do {
L4: while (true) {
if (!(res_650449 <= HEX3Atmp_650447)) break L4;
x_650443 = res_650449;
i_649232 = x_650443;
var v_649233 = data_648038[i_649232];
if ((imgmax_649206 < v_649233)) {
imgmax_649206 = v_649233;
}

if ((v_649233 < imgmin_649203)) {
imgmin_649203 = v_649233;
}

res_650449 += 1;
}
} while(false);
} while(false);
} while(false);
L5: do {
var i_649259 = 0;
var HEX3Atmp_650454 = {a_14056: 0, b_14058: 0};
HEX3Atmp_650454 = HEX2EHEX2E_31611(0, sz_648043 - 1);
L6: do {
var x_650458 = 0;
var HEX3Atmp_650460 = 0;
var HEX3Atmp_650462 = 0;
HEX3Atmp_650460 = HEX3Atmp_650454.a_14056;
HEX3Atmp_650462 = HEX3Atmp_650454.b_14058;
var res_650464 = HEX3Atmp_650460;
L7: do {
L8: while (true) {
if (!(res_650464 <= HEX3Atmp_650462)) break L8;
x_650458 = res_650464;
i_649259 = x_650458;
data_648038[i_649259] = ((data_648038[i_649259] - imgmin_649203) / imgmax_649206);
res_650464 += 1;
}
} while(false);
} while(false);
} while(false);
computegradient_649265(data_648038, width_648040, height_648042, gx_648601, gy_648801);
edtaa3_649379(data_648038, gx_648601, gy_648801, width_648040, height_648042, xdist_648201, ydist_648401, outside_649001);
L9: do {
var i_650235 = 0;
var HEX3Atmp_650471 = {a_14056: 0, b_14058: 0};
HEX3Atmp_650471 = HEX2EHEX2E_31611(0, sz_648043 - 1);
L10: do {
var x_650475 = 0;
var HEX3Atmp_650477 = 0;
var HEX3Atmp_650479 = 0;
HEX3Atmp_650477 = HEX3Atmp_650471.a_14056;
HEX3Atmp_650479 = HEX3Atmp_650471.b_14058;
var res_650481 = HEX3Atmp_650477;
L11: do {
L12: while (true) {
if (!(res_650481 <= HEX3Atmp_650479)) break L12;
x_650475 = res_650481;
i_650235 = x_650475;
if ((outside_649001[i_650235] < 0.0)) {
outside_649001[i_650235] = 0.0;
}

res_650481 += 1;
}
} while(false);
} while(false);
} while(false);
L13: do {
var i_650238 = 0;
var HEX3Atmp_650487 = 0;
HEX3Atmp_650487 = (gx_648601 != null ? gx_648601.length : 0) - 1;
var res_650490 = 0;
L14: do {
L15: while (true) {
if (!(res_650490 <= HEX3Atmp_650487)) break L15;
i_650238 = res_650490;
var it_650264 = gx_648601[i_650238];
gx_648601[i_650238] = 0.0;
res_650490 += 1;
}
} while(false);
} while(false);
L16: do {
var i_650266 = 0;
var HEX3Atmp_650496 = 0;
HEX3Atmp_650496 = (gy_648801 != null ? gy_648801.length : 0) - 1;
var res_650499 = 0;
L17: do {
L18: while (true) {
if (!(res_650499 <= HEX3Atmp_650496)) break L18;
i_650266 = res_650499;
var it_650292 = gy_648801[i_650266];
gy_648801[i_650266] = 0.0;
res_650499 += 1;
}
} while(false);
} while(false);
L19: do {
var i_650318 = 0;
var HEX3Atmp_650505 = {a_14056: 0, b_14058: 0};
HEX3Atmp_650505 = HEX2EHEX2E_31611(0, sz_648043 - 1);
L20: do {
var x_650509 = 0;
var HEX3Atmp_650511 = 0;
var HEX3Atmp_650513 = 0;
HEX3Atmp_650511 = HEX3Atmp_650505.a_14056;
HEX3Atmp_650513 = HEX3Atmp_650505.b_14058;
var res_650515 = HEX3Atmp_650511;
L21: do {
L22: while (true) {
if (!(res_650515 <= HEX3Atmp_650513)) break L22;
x_650509 = res_650515;
i_650318 = x_650509;
data_648038[i_650318] = (1.0000000000000000e+00 - data_648038[i_650318]);
res_650515 += 1;
}
} while(false);
} while(false);
} while(false);
computegradient_649265(data_648038, width_648040, height_648042, gx_648601, gy_648801);
edtaa3_649379(data_648038, gx_648601, gy_648801, width_648040, height_648042, xdist_648201, ydist_648401, inside_649201);
L23: do {
var i_650397 = 0;
var HEX3Atmp_650522 = {a_14056: 0, b_14058: 0};
HEX3Atmp_650522 = HEX2EHEX2E_31611(0, sz_648043 - 1);
L24: do {
var x_650526 = 0;
var HEX3Atmp_650528 = 0;
var HEX3Atmp_650530 = 0;
HEX3Atmp_650528 = HEX3Atmp_650522.a_14056;
HEX3Atmp_650530 = HEX3Atmp_650522.b_14058;
var res_650532 = HEX3Atmp_650528;
L25: do {
L26: while (true) {
if (!(res_650532 <= HEX3Atmp_650530)) break L26;
x_650526 = res_650532;
i_650397 = x_650526;
if ((inside_649201[i_650397] < 0.0)) {
inside_649201[i_650397] = 0.0;
}

res_650532 += 1;
}
} while(false);
} while(false);
} while(false);
L27: do {
var i_650424 = 0;
var HEX3Atmp_650543 = {a_14056: 0, b_14058: 0};
HEX3Atmp_650543 = HEX2EHEX2E_31611(0, sz_648043 - 1);
L28: do {
var x_650547 = 0;
var HEX3Atmp_650549 = 0;
var HEX3Atmp_650551 = 0;
HEX3Atmp_650549 = HEX3Atmp_650543.a_14056;
HEX3Atmp_650551 = HEX3Atmp_650543.b_14058;
var res_650553 = HEX3Atmp_650549;
L29: do {
L30: while (true) {
if (!(res_650553 <= HEX3Atmp_650551)) break L30;
x_650547 = res_650553;
i_650424 = x_650547;
var o_650425 = outside_649001[i_650424];
o_650425 = (o_650425 - inside_649201[i_650424]);
o_650425 = (1.2800000000000000e+02 + (o_650425 * 1.6000000000000000e+01));
if ((o_650425 < 0.0)) {
o_650425 = 0.0;
}

if ((2.5500000000000000e+02 < o_650425)) {
o_650425 = 2.5500000000000000e+02;
}

data_648038[i_650424] = o_650425;
res_650553 += 1;
}
} while(false);
} while(false);
} while(false);
}
function sharedgl_652601() {
var result_652603 = null;
result_652603 = globalgl_652401[0];
return result_652603;
}
function preparetexture_656364(i_656367, i_656367_Idx) {
var result_656368 = null;
result_656368 = sharedgl_652601();
i_656367[i_656367_Idx].texture_656043 = result_656368.createTexture();
result_656368.bindTexture(result_656368.TEXTURE_2D, i_656367[i_656367_Idx].texture_656043);
result_656368.texParameteri(result_656368.TEXTURE_2D, result_656368.TEXTURE_MIN_FILTER, result_656368.LINEAR);
return result_656368;
}
function bakechars_656412(f_656414, start_656415) {
var Tmp4;
var Tmp5;
var Tmp9;
var Tmp10;
var result_656416 = [null];
result_656416[0] = {bakedchars_656042: arrayConstr(672, 0, NTI108), texture_656043: 0, texwidth_656044: 0, texheight_656045: 0};
var startchar_656425 = mulInt(start_656415, 96);
var endchar_656426 = addInt(startchar_656425, 96);
var fsize_656427 = 6.4000000000000000e+01;
var rectpacker_656428 = /**/[newpacker_643017(32, 32)];
var fname_656601 = toJSStr(f_656414.filepath_656316);
var fontname_656602 = toJSStr((cstrToNimstr(((fsize_656427|0))+"").slice(0,-1)).concat(cstrToNimstr("px ").slice(0,-1),f_656414.filepath_656316));
var canvas_656603 = document.createElement("canvas");
var ascent_656604 = 0;
var descent_656605 = 0;
        var ctx = canvas_656603.getContext('2d');
        ctx.font = fontname_656602;
        canvas_656603.style.font = fontname_656602;
        ctx.textBaseline = "top";
        var metrics = f_656414.__nimx_metrix;
        if (metrics === undefined) {
            var mt = nimx_calculateFontMetricsInCanvas(ctx, fname_656601, fsize_656427);
            metrics = {ascent: mt.ascent, descent: mt.descent};
            f_656414.__nimx_metrix = metrics;
        }
        ascent_656604 = metrics.ascent;
        descent_656605 = metrics.descent;
        f_656414.canvas_656325 = canvas_656603;
var h_656607 = addInt(ascent_656604, descent_656605);
L1: do {
var i_656815 = 0;
var HEX3Atmp_657012 = 0;
HEX3Atmp_657012 = subInt(endchar_656426, 1);
var res_657015 = (startchar_656425|0);
L2: do {
L3: while (true) {
if (!(res_657015 <= (HEX3Atmp_657012|0))) break L3;
i_656815 = res_657015;
if (((i_656815 <= 31) || (i_656815 == 127))) Tmp4 = true; else {if (!(128 <= i_656815)) Tmp5 = false; else {Tmp5 = (i_656815 <= 159); }Tmp4 = Tmp5; }if (!(Tmp4)) {
var w_656819 = 0;
var isspace_656820 = 0;
var s_656821 = null;
                var mt = ctx.measureText(String.fromCharCode(i_656815));
                s_656821 = String.fromCharCode(i_656815);
                isspace_656820 = s_656821 == " ";
                w_656819 = mt.width;
                if ((0 < w_656819)) {
var HEX3Atmp_797821 = {Field0: 0, Field1: 0};
var x_656823 = 0;
var y_656824 = 0;
nimCopy(HEX3Atmp_797821, packandgrow_643083(rectpacker_656428, 0, addInt(w_656819, 4), addInt(h_656607, 4)), NTI643031);
x_656823 = HEX3Atmp_797821["Field0"];
y_656824 = HEX3Atmp_797821["Field1"];
var c_656825 = (mulInt(subInt(i_656815, startchar_656425), 7)|0);
result_656416[0].bakedchars_656042[chckIndx(addInt(c_656825, 2), 0, result_656416[0].bakedchars_656042.length)-0] = chckRange(w_656819, -32768, 32767);
result_656416[0].bakedchars_656042[chckIndx(addInt(c_656825, 3), 0, result_656416[0].bakedchars_656042.length)-0] = chckRange(addInt(x_656823, 2), -32768, 32767);
result_656416[0].bakedchars_656042[chckIndx(addInt(c_656825, 4), 0, result_656416[0].bakedchars_656042.length)-0] = chckRange(addInt(y_656824, 2), -32768, 32767);
result_656416[0].bakedchars_656042[chckIndx(addInt(c_656825, 5), 0, result_656416[0].bakedchars_656042.length)-0] = chckRange(w_656819, -32768, 32767);
result_656416[0].bakedchars_656042[chckIndx(addInt(c_656825, 6), 0, result_656416[0].bakedchars_656042.length)-0] = chckRange(h_656607, -32768, 32767);
}

}

res_657015 = addInt(res_657015, 1);
}
} while(false);
} while(false);
var texwidth_656866 = width_643037(rectpacker_656428[0]);
var texheight_656867 = height_643041(rectpacker_656428[0]);
result_656416[0].texwidth_656044 = chckRange(texwidth_656866, 0, 65535);
result_656416[0].texheight_656045 = chckRange(texheight_656867, 0, 65535);
        canvas_656603.width = texwidth_656866;
        canvas_656603.height = texheight_656867;
        ctx.font = fontname_656602;
        ctx.textBaseline = "top";
        L6: do {
var i_656885 = 0;
var HEX3Atmp_657020 = 0;
HEX3Atmp_657020 = subInt(endchar_656426, 1);
var res_657023 = (startchar_656425|0);
L7: do {
L8: while (true) {
if (!(res_657023 <= (HEX3Atmp_657020|0))) break L8;
i_656885 = res_657023;
if (((i_656885 <= 31) || (i_656885 == 127))) Tmp9 = true; else {if (!(128 <= i_656885)) Tmp10 = false; else {Tmp10 = (i_656885 <= 159); }Tmp9 = Tmp10; }if (!(Tmp9)) {
var c_656889 = (mulInt(subInt(i_656885, startchar_656425), 7)|0);
var w_656898 = result_656416[0].bakedchars_656042[chckIndx(addInt(c_656889, 2), 0, result_656416[0].bakedchars_656042.length)-0];
if ((0 < w_656898)) {
var x_656907 = result_656416[0].bakedchars_656042[chckIndx(addInt(c_656889, 3), 0, result_656416[0].bakedchars_656042.length)-0];
var y_656916 = result_656416[0].bakedchars_656042[chckIndx(addInt(c_656889, 4), 0, result_656416[0].bakedchars_656042.length)-0];
ctx.fillText(String.fromCharCode(i_656885), x_656907, y_656916);}

}

res_657023 = addInt(res_657023, 1);
}
} while(false);
} while(false);
var data_656918 = null;
var bytedata_656920 = null;
        var sz = texwidth_656866 * texheight_656867;
        var imgData = ctx.getImageData(0, 0, texwidth_656866, texheight_656867).data;
        data_656918 = new Float32Array(sz);
        bytedata_656920 = new Uint8Array(sz);
        for (var i = 3, j = 0; j < sz; i += 4, ++j) {
            data_656918[j] = imgData[i];
        }
        makedistancemap_648032(data_656918, (texwidth_656866|0), (texheight_656867|0));
for (var i = 0; i < sz; ++i) bytedata_656920[i] = (255 - (data_656918[i]|0))|0;var gl_657002 = preparetexture_656364(result_656416, 0);
        gl_657002.texImage2D(gl_657002.TEXTURE_2D, 0, gl_657002.ALPHA, texwidth_656866, texheight_656867, 0, gl_657002.ALPHA, gl_657002.UNSIGNED_BYTE, bytedata_656920);
        gl_657002.texParameteri(gl_657002.TEXTURE_2D, gl_657002.TEXTURE_MAG_FILTER, gl_657002.LINEAR);
gl_657002.texParameteri(gl_657002.TEXTURE_2D, gl_657002.TEXTURE_MIN_FILTER, gl_657002.LINEAR_MIPMAP_NEAREST);
gl_657002.generateMipmap(gl_657002.TEXTURE_2D);
return result_656416[0];
}
function getval_651024(t_651027, k_651028) {
var result_651030 = null;
result_651030 = t_651027[k_651028];return result_651030;
}
function chunkandcharindexforrune_658089(f_658091, r_658092) {
var result_658096 = {Field0: null, Field1: 0};
var chunkstart_658097 = Math.floor(HEX2F_14010(r_658092, 96));
result_658096.Field1 = modInt(r_658092, 96);
if (!(haskeyimpl_651037(f_658091.chars_656312, chunkstart_658097))) {
setval_651031(f_658091.chars_656312, chunkstart_658097, bakechars_656412(f_658091, chunkstart_658097));
}

result_658096.Field0 = getval_651024(f_658091.chars_656312, chunkstart_658097);
return result_658096;
}
function getquaddataforrune_658132(f_658134, r_658135, quad_658139, texture_658141, texture_658141_Idx, pt_658143) {
var HEX3Atmp_797820 = {Field0: null, Field1: 0};
var chunk_658144 = null;
var charindexinchunk_658145 = 0;
nimCopy(HEX3Atmp_797820, chunkandcharindexforrune_658089(f_658134, r_658135), NTI658093);
chunk_658144 = HEX3Atmp_797820["Field0"];
charindexinchunk_658145 = HEX3Atmp_797820["Field1"];
var bc_658146 = arrayConstr(672, 0, NTI108);
bc_658146 = chunk_658144.bakedchars_656042;
var c_658147 = mulInt(charindexinchunk_658145, 7);
var w_658156 = bc_658146[chckIndx(addInt(c_658147, 5), 0, bc_658146.length)-0];
var h_658165 = bc_658146[chckIndx(addInt(c_658147, 6), 0, bc_658146.length)-0];
var x0_658174 = (pt_658143.Field0 + (bc_658146[chckIndx(addInt(c_658147, 0), 0, bc_658146.length)-0] * f_658134.scale_656315));
var x1_658175 = (x0_658174 + (w_658156 * f_658134.scale_656315));
var y0_658184 = (pt_658143.Field1 + (bc_658146[chckIndx(addInt(c_658147, 1), 0, bc_658146.length)-0] * f_658134.scale_656315));
var y1_658185 = (y0_658184 + (h_658165 * f_658134.scale_656315));
var s0_658194 = /**/[bc_658146[chckIndx(addInt(c_658147, 3), 0, bc_658146.length)-0]];
var t0_658203 = /**/[bc_658146[chckIndx(addInt(c_658147, 4), 0, bc_658146.length)-0]];
var s1_658204 = ((s0_658194[0] + w_658156) / chunk_658144.texwidth_656044);
var t1_658205 = ((t0_658203[0] + h_658165) / chunk_658144.texheight_656045);
HEX2FHEX3D_21188(s0_658194, 0, chunk_658144.texwidth_656044);
HEX2FHEX3D_21188(t0_658203, 0, chunk_658144.texheight_656045);
quad_658139[0] = x0_658174;
quad_658139[1] = y0_658184;
quad_658139[2] = s0_658194[0];
quad_658139[3] = t0_658203[0];
quad_658139[4] = x1_658175;
quad_658139[5] = y0_658184;
quad_658139[6] = s1_658204;
quad_658139[7] = t0_658203[0];
quad_658139[8] = x1_658175;
quad_658139[9] = y1_658185;
quad_658139[10] = s1_658204;
quad_658139[11] = t1_658205;
quad_658139[12] = x0_658174;
quad_658139[13] = y1_658185;
quad_658139[14] = s0_658194[0];
quad_658139[15] = t1_658205;
HEX2BHEX3D_20111(pt_658143, "Field0", (bc_658146[chckIndx(addInt(c_658147, 2), 0, bc_658146.length)-0] * f_658134.scale_656315));
texture_658141[texture_658141_Idx] = chunk_658144.texture_656043;
}
function cursoroffsetforpositioninstring_658350(f_658352, s_658353, position_658354) {
var Tmp4;
var result_658355 = 0.0;
var pt_658356 = /**/[{Field0: 0.0, Field1: 0.0}];
var quad_658359 = [[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]];
var i_658360 = 0;
var tex_658361 = [0];
L1: do {
var ch_658362 = 0;
var i_658390 = 0;
var result_658392 = 0;
L2: do {
L3: while (true) {
if (!(i_658390 < (s_658353 != null ? s_658353.length-1 : 0))) break L3;
if (leU(s_658353[chckIndx(i_658390, 0, s_658353.length)-0], 127)) {
result_658392 = s_658353[chckIndx(i_658390, 0, s_658353.length)-0];
i_658390 = addInt(i_658390, 1);
}
else {
if (((s_658353[chckIndx(i_658390, 0, s_658353.length)-0] >>> 5) == 6)) {
result_658392 = (((s_658353[chckIndx(i_658390, 0, s_658353.length)-0] & 31) << 6) | (s_658353[chckIndx(addInt(i_658390, 1), 0, s_658353.length)-0] & 63));
i_658390 = addInt(i_658390, 2);
}
else {
if (((s_658353[chckIndx(i_658390, 0, s_658353.length)-0] >>> 4) == 14)) {
result_658392 = ((((s_658353[chckIndx(i_658390, 0, s_658353.length)-0] & 15) << 12) | ((s_658353[chckIndx(addInt(i_658390, 1), 0, s_658353.length)-0] & 63) << 6)) | (s_658353[chckIndx(addInt(i_658390, 2), 0, s_658353.length)-0] & 63));
i_658390 = addInt(i_658390, 3);
}
else {
if (((s_658353[chckIndx(i_658390, 0, s_658353.length)-0] >>> 3) == 30)) {
result_658392 = (((((s_658353[chckIndx(i_658390, 0, s_658353.length)-0] & 7) << 18) | ((s_658353[chckIndx(addInt(i_658390, 1), 0, s_658353.length)-0] & 63) << 12)) | ((s_658353[chckIndx(addInt(i_658390, 2), 0, s_658353.length)-0] & 63) << 6)) | (s_658353[chckIndx(addInt(i_658390, 3), 0, s_658353.length)-0] & 63));
i_658390 = addInt(i_658390, 4);
}
else {
if (((s_658353[chckIndx(i_658390, 0, s_658353.length)-0] >>> 2) == 62)) {
result_658392 = ((((((s_658353[chckIndx(i_658390, 0, s_658353.length)-0] & 3) << 24) | ((s_658353[chckIndx(addInt(i_658390, 1), 0, s_658353.length)-0] & 63) << 18)) | ((s_658353[chckIndx(addInt(i_658390, 2), 0, s_658353.length)-0] & 63) << 12)) | ((s_658353[chckIndx(addInt(i_658390, 3), 0, s_658353.length)-0] & 63) << 6)) | (s_658353[chckIndx(addInt(i_658390, 4), 0, s_658353.length)-0] & 63));
i_658390 = addInt(i_658390, 5);
}
else {
if (((s_658353[chckIndx(i_658390, 0, s_658353.length)-0] >>> 1) == 126)) {
result_658392 = (((((((s_658353[chckIndx(i_658390, 0, s_658353.length)-0] & 1) << 30) | ((s_658353[chckIndx(addInt(i_658390, 1), 0, s_658353.length)-0] & 63) << 24)) | ((s_658353[chckIndx(addInt(i_658390, 2), 0, s_658353.length)-0] & 63) << 18)) | ((s_658353[chckIndx(addInt(i_658390, 3), 0, s_658353.length)-0] & 63) << 12)) | ((s_658353[chckIndx(addInt(i_658390, 4), 0, s_658353.length)-0] & 63) << 6)) | (s_658353[chckIndx(addInt(i_658390, 5), 0, s_658353.length)-0] & 63));
i_658390 = addInt(i_658390, 6);
}
else {
result_658392 = s_658353[chckIndx(i_658390, 0, s_658353.length)-0];
i_658390 = addInt(i_658390, 1);
}
}}}}}
ch_658362 = result_658392;
if ((i_658360 == position_658354)) {
break L1;
}

i_658360 = addInt(i_658360, 1);
getquaddataforrune_658132(f_658352, ch_658362, quad_658359[0], tex_658361, 0, pt_658356[0]);
HEX2BHEX3D_20111(pt_658356[0], "Field0", f_658352.horizontalspacing_656317);
}
} while(false);
} while(false);
if (f_658352.ishorizontal_656314) {
Tmp4 = pt_658356[0].Field0;
}
else {
Tmp4 = pt_658356[0].Field1;
}

result_658355 = Tmp4;
return result_658355;
}
var preferredfonts_657203 = nimCopy(null, [cstrToNimstr("Arial")], NTI657401);
function cachedcharsforfont_656222(face_656224, sz_656225) {
var result_656229 = null;
if (fontcache_656220[0] == null) {
fontcache_656220[0] = new Object();
}

var key_656257 = toJSStr((face_656224.slice(0,-1)).concat(cstrToNimstr("_64")));
if (haskeyimpl_651037(fontcache_656220[0], key_656257)) {
result_656229 = getval_651024(fontcache_656220[0], key_656257);
}
else {
result_656229 = new Object();
setval_651031(fontcache_656220[0], key_656257, result_656229);
}

return result_656229;
}
function lineardependency_656327(x_656329, x1_656330, y1_656331, x2_656332, y2_656333) {
var result_656334 = 0.0;
result_656334 = (y1_656331 + (((x_656329 - x1_656330) * (y2_656333 - y1_656331)) / (x2_656332 - x1_656330)));
return result_656334;
}
function gammawithsize_656335(x_656337) {
var result_656338 = 0.0;
if ((x_656337 < 6.0000000000000000e+01)) {
result_656338 = lineardependency_656327(x_656337, 1.4000000000000000e+01, 2.3000000000000001e-01, 6.0000000000000000e+01, 1.0000000000000001e-01);
}
else {
if ((x_656337 < 1.6000000000000000e+02)) {
result_656338 = lineardependency_656327(x_656337, 6.0000000000000000e+01, 1.0000000000000001e-01, 1.6000000000000000e+02, 2.9999999999999999e-02);
}
else {
result_656338 = lineardependency_656327(x_656337, 1.6000000000000000e+02, 2.9999999999999999e-02, 2.0000000000000000e+02, 2.0000000000000000e-02);
}
}
return result_656338;
}
function sizeHEX3D_656354(f_656356, s_656357) {
f_656356.msize_656313 = s_656357;
f_656356.scale_656315 = (s_656357 / 6.4000000000000000e+01);
f_656356.chars_656312 = cachedcharsforfont_656222(f_656356.filepath_656316, s_656357);
f_656356.base_656319 = 5.0000000000000000e-01;
f_656356.gamma_656318 = gammawithsize_656335(s_656357);
}
function newfontwithface_657801(face_657803, size_657804) {
var result_657805 = null;
result_657805 = {chars_656312: null, msize_656313: 0.0, ishorizontal_656314: false, scale_656315: 0.0, filepath_656316: null, horizontalspacing_656317: 0.0, gamma_656318: 0.0, base_656319: 0.0, ascent_656320: 0.0, descent_656321: 0.0, shadowx_656322: 0.0, shadowy_656323: 0.0, shadowblur_656324: 0.0, canvas_656325: null};
result_657805.filepath_656316 = face_657803;
result_657805.ishorizontal_656314 = 1;
sizeHEX3D_656354(result_657805, size_657804);
return result_657805;
}
function systemfontofsize_658013(size_658015) {
var result_658016 = null;
L1: do {
var f_658043 = null;
var i_658059 = 0;
if ((i_658059 <= 0)) {
L2: do {
L3: while (true) {
if (!1) break L3;
f_658043 = preferredfonts_657203[chckIndx(i_658059, 0, preferredfonts_657203.length)-0];
result_658016 = newfontwithface_657801(f_658043, size_658015);
if (!((result_658016 == null))) {
break L1;
}

if ((0 <= i_658059)) {
break L2;
}

i_658059 = addInt(i_658059, 1);
}
} while(false);
}

} while(false);
return result_658016;
}
function systemfontsize_658009() {
var result_658011 = 0.0;
result_658011 = 1.6000000000000000e+01;
return result_658011;
}
function systemfont_658060() {
var result_658062 = null;
if ((sysfont_657201[0] == null)) {
sysfont_657201[0] = systemfontofsize_658013(systemfontsize_658009());
}

result_658062 = sysfont_657201[0];
if ((result_658062 == null)) {
logi_33004([cstrToNimstr("WARNING: Could not create system font")]);
}

return result_658062;
}
function updatecursoroffset_765166(t_765168) {
cursoroffset_765012[0] = cursoroffsetforpositioninstring_658350(systemfont_658060(), t_765168.text_765004, cursorpos_765008[0]);
}
function newtimer_764601(interval_764603, repeat_764604, callback_764607) {
var result_764608 = null;
        result_764608 = repeat_764604 ? setInterval(callback_764607, interval_764603 * 1000) : setTimeout(callback_764607, interval_764603 * 1000);
        result_764608.__nimx_periodic = repeat_764604;
        return result_764608;
}
function setinterval_764808(interval_764810, callback_764813) {
var result_764814 = null;
result_764814 = newtimer_764601(interval_764810, 1, callback_764813);
return result_764814;
}
function bumpcursorvisibility_765095(t_765097) {
function HEX3Aanonymous_765110() {
cursorvisible_765009[0] = !(cursorvisible_765009[0]);
if (!((t_765097.window_696022 == null))) {
t_765097.window_696022.needsdisplay_696038 = 1;
}

}
cursorvisible_765009[0] = 1;
clear_764201(cursorupdatetimer_765010[0]);
if (!((t_765097.window_696022 == null))) {
t_765097.window_696022.needsdisplay_696038 = 1;
}

var p_765124 = HEX3Aanonymous_765110;
cursorupdatetimer_765010[0] = setinterval_764808(5.0000000000000000e-01, p_765124);
}
function viewdidbecomefirstresponder_765275(t_765277) {
var Tmp1;
starttextinput_702074(t_765277.window_696022, convertrectotowindow_696182(t_765277, bounds_697654(t_765277)));
if (t_765277.text_765004 == null) {
Tmp1 = 0;
}
else {
Tmp1 = (t_765277.text_765004 != null ? t_765277.text_765004.length-1 : 0);
}

cursorpos_765008[0] = Tmp1;
updatecursoroffset_765166(t_765277);
bumpcursorvisibility_765095(t_765277);
}
function viewdidbecomefirstresponder_696211(v_696213) {
}
function viewdidbecomefirstresponder_696215(v_696213) {
if (isObj(v_696213.m_type, NTI765003)) {
viewdidbecomefirstresponder_765275(v_696213);
}
else {
if (isObj(v_696213.m_type, NTI696021)) {
viewdidbecomefirstresponder_696211(v_696213);
}
}
}
function makefirstresponder_696217(w_696219, responder_696220) {
var Tmp1;
var result_696221 = false;
var shouldchange_696222 = 1;
if (responder_696220 == null) {
Tmp1 = w_696219;
}
else {
Tmp1 = responder_696220;
}

var r_696231 = Tmp1;
if (!(w_696219.firstresponder_696035 == null)) {
shouldchange_696222 = viewshouldresignfirstresponder_696207(w_696219.firstresponder_696035, r_696231);
}

if (shouldchange_696222) {
w_696219.firstresponder_696035 = r_696231;
viewdidbecomefirstresponder_696215(r_696231);
result_696221 = 1;
}

return result_696221;
}
function viewwillmovetowindow_696272(v_696274, w_696275) {
var Tmp1;
var Tmp2;
if (!!(v_696274.window_696022 == null)) Tmp2 = false; else {Tmp2 = (v_696274.window_696022.firstresponder_696035 == v_696274); }if (!Tmp2) Tmp1 = false; else {Tmp1 = !((w_696275 == v_696274.window_696022)); }if (Tmp1) {
makefirstresponder_696217(v_696274.window_696022, null);
}

L3: do {
var s_696402 = null;
var HEX3Atmp_696407 = null;
HEX3Atmp_696407 = v_696274.subviews_696026;
var i_696410 = 0;
var L_696412 = (HEX3Atmp_696407 != null ? HEX3Atmp_696407.length : 0);
L4: do {
L5: while (true) {
if (!(i_696410 < L_696412)) break L5;
s_696402 = HEX3Atmp_696407[chckIndx(i_696410, 0, HEX3Atmp_696407.length)-0];
s_696402.window_696022 = v_696274.window_696022;
viewwillmovetowindow_696405(s_696402, w_696275);
i_696410 = addInt(i_696410, 1);
if (!(((HEX3Atmp_696407 != null ? HEX3Atmp_696407.length : 0) == L_696412))) {
failedassertimpl_14716(cstrToNimstr("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
}
function movetowindow_731365(v_731367, w_731368) {
v_731367.window_696022 = w_731368;
L1: do {
var s_731377 = null;
var HEX3Atmp_731379 = null;
HEX3Atmp_731379 = v_731367.subviews_696026;
var i_731382 = 0;
var L_731384 = (HEX3Atmp_731379 != null ? HEX3Atmp_731379.length : 0);
L2: do {
L3: while (true) {
if (!(i_731382 < L_731384)) break L3;
s_731377 = HEX3Atmp_731379[chckIndx(i_731382, 0, HEX3Atmp_731379.length)-0];
movetowindow_731365(s_731377, w_731368);
i_731382 = addInt(i_731382, 1);
if (!(((HEX3Atmp_731379 != null ? HEX3Atmp_731379.length : 0) == L_731384))) {
failedassertimpl_14716(cstrToNimstr("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
}
function sceneviewwillmovetowindow_731409(c_731411, w_731412) {
if (!(c_731411.mview_713145 == null)) {
viewwillmovetowindow_696405(c_731411.mview_713145, w_731412);
movetowindow_731365(c_731411.mview_713145, w_731412);
}

}
function viewwillmovetowindow_732032(v_732034, w_732035) {
viewwillmovetowindow_696272(v_732034, w_732035);
L1: do {
var c_732044 = null;
var HEX3Atmp_732046 = null;
HEX3Atmp_732046 = v_732034.uicomponents_713128;
var i_732049 = 0;
var L_732051 = (HEX3Atmp_732046 != null ? HEX3Atmp_732046.length : 0);
L2: do {
L3: while (true) {
if (!(i_732049 < L_732051)) break L3;
c_732044 = HEX3Atmp_732046[chckIndx(i_732049, 0, HEX3Atmp_732046.length)-0];
sceneviewwillmovetowindow_731409(c_732044, w_732035);
i_732049 = addInt(i_732049, 1);
if (!(((HEX3Atmp_732046 != null ? HEX3Atmp_732046.length : 0) == L_732051))) {
failedassertimpl_14716(cstrToNimstr("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
}
function viewwillmovetowindow_696405(v_696274, w_696275) {
if (isObj(v_696274.m_type, NTI713090)) {
viewwillmovetowindow_732032(v_696274, w_696275);
}
else {
if (isObj(v_696274.m_type, NTI696021)) {
viewwillmovetowindow_696272(v_696274, w_696275);
}
else {
if (isObj(v_696274.m_type, NTI696021)) {
viewwillmovetowindow_696272(v_696274, w_696275);
}
}}
}
function viewwillmovetosuperview_696265(v_696267, s_696268) {
}
function viewwillmovetosuperview_696270(v_696267, s_696268) {
viewwillmovetosuperview_696265(v_696267, s_696268);
}
function delete_696488(x_696494, x_696494_Idx, i_696496) {
x_696494[x_696494_Idx].splice(i_696496, 1);}
function removesubview_696437(v_696439, s_696440) {
L1: do {
var i_696474 = 0;
var ss_696475 = null;
var HEX3Atmp_697023 = null;
HEX3Atmp_697023 = v_696439.subviews_696026;
var i_697026 = 0;
L2: do {
L3: while (true) {
if (!(i_697026 < (HEX3Atmp_697023 != null ? HEX3Atmp_697023.length : 0))) break L3;
i_696474 = i_697026;
ss_696475 = HEX3Atmp_697023[chckIndx(i_697026, 0, HEX3Atmp_697023.length)-0];
if ((ss_696475 == s_696440)) {
delete_696488(v_696439, "subviews_696026", chckRange(i_696474, 0, 2147483647));
if (!((v_696439.window_696022 == null))) {
v_696439.window_696022.needsdisplay_696038 = 1;
}

break L1;
}

i_697026 = addInt(i_697026, 1);
}
} while(false);
} while(false);
}
function movetowindow_696413(v_696415, w_696416) {
v_696415.window_696022 = w_696416;
L1: do {
var s_696425 = null;
var HEX3Atmp_696427 = null;
HEX3Atmp_696427 = v_696415.subviews_696026;
var i_696430 = 0;
var L_696432 = (HEX3Atmp_696427 != null ? HEX3Atmp_696427.length : 0);
L2: do {
L3: while (true) {
if (!(i_696430 < L_696432)) break L3;
s_696425 = HEX3Atmp_696427[chckIndx(i_696430, 0, HEX3Atmp_696427.length)-0];
movetowindow_696413(s_696425, w_696416);
i_696430 = addInt(i_696430, 1);
if (!(((HEX3Atmp_696427 != null ? HEX3Atmp_696427.length : 0) == L_696432))) {
failedassertimpl_14716(cstrToNimstr("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
}
function removefromsuperview_697027(v_697029, callhandlers_697030) {
if (!((v_697029.superview_696027 == null))) {
if (callhandlers_697030) {
if (!((v_697029.window_696022 == null))) {
viewwillmovetowindow_696405(v_697029, null);
}

viewwillmovetosuperview_696270(v_697029, null);
}

removesubview_696437(v_697029.superview_696027, v_697029);
movetowindow_696413(v_697029, null);
v_697029.superview_696027 = null;
}

}
function addsubview_697061(v_697063, s_697064) {
if (!(!(v_697063 == null))) {
failedassertimpl_14716(cstrToNimstr("not isNil(v) "));
}

if (!((s_697064.superview_696027 == v_697063))) {
if (!((v_697063.window_696022 == s_697064.window_696022))) {
viewwillmovetowindow_696405(s_697064, v_697063.window_696022);
}

viewwillmovetosuperview_696270(s_697064, v_697063);
removefromsuperview_697027(s_697064, 0);
if (v_697063.subviews_696026 != null) { v_697063.subviews_696026.push(s_697064); } else { v_697063.subviews_696026 = [s_697064]; };
s_697064.superview_696027 = v_697063;
movetowindow_696413(s_697064, v_697063.window_696022);
if (!((v_697063.window_696022 == null))) {
v_697063.window_696022.needsdisplay_696038 = 1;
}

}

}
function addsubview_697246(v_697063, s_697064) {
addsubview_697061(v_697063, s_697064);
}
function init_774006(i_774008, r_774009) {
init_755007(i_774008, r_774009);
var title_774011 = newlabel_765043(newrect_20072(2.0000000000000000e+00, 2.0000000000000000e+00, 1.0000000000000000e+02, 1.5000000000000000e+01));
title_774011.text_765004 = cstrToNimstr("Inspector");
addsubview_697246(i_774008, title_774011);
}
function init_765063(t_765065, r_765066) {
init_696040(t_765065, r_765066);
t_765065.editable_765005 = 1;
t_765065.selectable_765006 = 1;
}
function new_757050() {
var result_757055 = null;
BeforeRet: do {
var r_757201 = null;
r_757201 = {expanded_757004: false, expandable_757005: false, children_757007: null, item_757008: {typeid_714822: 0, val: null}, cell_757009: null};
result_757055 = r_757201;
break BeforeRet;
} while (false); 
return result_757055;
}
function init_757044(v_757046, r_757047) {
init_696040(v_757046, r_757047);
v_757046.rootitem_757014 = new_757050();
v_757046.tempindexpath_757042 = newseq_726217(0);
v_757046.selectedindexpath_757016 = newseq_726217(0);
}
function init_696078(v_696042, frame_696043) {
if (isObj(v_696042.m_type, NTI754014)) {
init_754080(v_696042, frame_696043);
}
else {
if (isObj(v_696042.m_type, NTI709003)) {
init_709148(v_696042, frame_696043);
}
else {
if (isObj(v_696042.m_type, NTI696034)) {
init_702001(v_696042, frame_696043);
}
else {
if (isObj(v_696042.m_type, NTI774003)) {
init_774006(v_696042, frame_696043);
}
else {
if (isObj(v_696042.m_type, NTI765003)) {
init_765063(v_696042, frame_696043);
}
else {
if (isObj(v_696042.m_type, NTI757013)) {
init_757044(v_696042, frame_696043);
}
else {
if (isObj(v_696042.m_type, NTI755005)) {
init_755007(v_696042, frame_696043);
}
else {
if (isObj(v_696042.m_type, NTI696021)) {
init_696040(v_696042, frame_696043);
}
}}}}}}}
}
function convertpointtoparent_731300(v_731302, p_731303) {
var result_731304 = {Field0: 0.0, Field1: 0.0};
nimCopy(result_731304, newpoint_20055(-9.9999990000000000e+06, -9.9999990000000000e+06), NTI20006);
logi_33004([cstrToNimstr("WARNING: UICompView.convertPointToParent not implemented")]);
return result_731304;
}
function HEX2B_20199(p1_20201, p2_20202) {
var result_20203 = {Field0: 0.0, Field1: 0.0};
nimCopy(result_20203, newpoint_20055((p1_20201.Field0 + p2_20202.Field0), (p1_20201.Field1 + p2_20202.Field1)), NTI20006);
return result_20203;
}
function convertpointtoparent_696118(v_696120, p_696121) {
var result_696122 = {Field0: 0.0, Field1: 0.0};
nimCopy(result_696122, HEX2B_20199(p_696121, v_696120.frame_696023.Field0), NTI20006);
return result_696122;
}
function convertpointtoparent_696124(v_696120, p_696121) {
var result_696127 = {Field0: 0.0, Field1: 0.0};
BeforeRet: do {
if (isObj(v_696120.m_type, NTI731188)) {
result_696127 = convertpointtoparent_731300(v_696120, p_696121);
break BeforeRet;
}
else {
if (isObj(v_696120.m_type, NTI696021)) {
result_696127 = convertpointtoparent_696118(v_696120, p_696121);
break BeforeRet;
}
}
} while (false); 
return result_696127;
}
function componentifavailable_718583(n_718585, name_718586) {
var result_718587 = null;
if (!(n_718585.components_713052 == null)) {
result_718587 = getordefault_718511(n_718585.components_713052, name_718586);
}

return result_718587;
}
function componentifavailable_730038(n_730042) {
var result_730045 = null;
result_730045 = componentifavailable_718583(n_730042, cstrToNimstr("Camera"));
return result_730045;
}
function camera_730020(v_730022) {
function HEX3Aanonymous_730032(n_730034) {
var result_730035 = false;
result_730035 = !(componentifavailable_730038(n_730034) == null);
return result_730035;
}
var result_730023 = null;
if (v_730022.mcamera_713091 == null) {
var nodewithcamera_730065 = findnode_720019(v_730022.mrootnode_713092, HEX3Aanonymous_730032);
if (!(nodewithcamera_730065 == null)) {
v_730022.mcamera_713091 = componentifavailable_730038(nodewithcamera_730065);
}

}

result_730023 = v_730022.mcamera_713091;
return result_730023;
}
function ortho_22584(dest_22587, left_22588, right_22589, bottom_22590, top_22591, near_22592, far_22593) {
var rl_22594 = (right_22589 - left_22588);
var tb_22595 = (top_22591 - bottom_22590);
var fn_22596 = (far_22593 - near_22592);
dest_22587[0] = (2.0000000000000000e+00 / rl_22594);
dest_22587[1] = 0.0;
dest_22587[2] = 0.0;
dest_22587[3] = 0.0;
dest_22587[4] = 0.0;
dest_22587[5] = (2.0000000000000000e+00 / tb_22595);
dest_22587[6] = 0.0;
dest_22587[7] = 0.0;
dest_22587[8] = 0.0;
dest_22587[9] = 0.0;
dest_22587[10] = (-2.0000000000000000e+00 / fn_22596);
dest_22587[11] = 0.0;
dest_22587[12] = (-((left_22588 + right_22589)) / rl_22594);
dest_22587[13] = (-((top_22591 + bottom_22590)) / tb_22595);
dest_22587[14] = (-((far_22593 + near_22592)) / fn_22596);
dest_22587[15] = 1.0000000000000000e+00;
}
function frustum_22561(dest_22564, left_22565, right_22566, bottom_22567, top_22568, near_22569, far_22570) {
var rl_22571 = (right_22566 - left_22565);
var tb_22572 = (top_22568 - bottom_22567);
var fn_22573 = (far_22570 - near_22569);
dest_22564[0] = ((near_22569 * 2.0000000000000000e+00) / rl_22571);
dest_22564[1] = 0.0;
dest_22564[2] = 0.0;
dest_22564[3] = 0.0;
dest_22564[4] = 0.0;
dest_22564[5] = ((near_22569 * 2.0000000000000000e+00) / tb_22572);
dest_22564[6] = 0.0;
dest_22564[7] = 0.0;
dest_22564[8] = ((right_22566 + left_22565) / rl_22571);
dest_22564[9] = ((top_22568 + bottom_22567) / tb_22572);
dest_22564[10] = (-((far_22570 + near_22569)) / fn_22573);
dest_22564[11] = -1.0000000000000000e+00;
dest_22564[12] = 0.0;
dest_22564[13] = 0.0;
dest_22564[14] = (-(((far_22570 * near_22569) * 2.0000000000000000e+00)) / fn_22573);
dest_22564[15] = 0.0;
}
function perspective_22574(dest_22577, fovy_22578, aspect_22579, near_22580, far_22581) {
var top_22582 = (near_22580 * Math.tan(((fovy_22578 * 3.1415926535897931e+00) / 3.6000000000000000e+02)));
var right_22583 = (top_22582 * aspect_22579);
frustum_22561(dest_22577, -(right_22583), right_22583, -(top_22582), top_22582, near_22580, far_22581);
}
function getprojectionmatrix_728007(c_728009, viewportbounds_728010, mat_728012) {
switch (c_728009.projectionmode_713134) {
case 0: ortho_22584(mat_728012, (-(width_20031(viewportbounds_728010)) / 2.0000000000000000e+00), (width_20031(viewportbounds_728010) / 2.0000000000000000e+00), (-(height_20035(viewportbounds_728010)) / 2.0000000000000000e+00), (height_20035(viewportbounds_728010) / 2.0000000000000000e+00), c_728009.znear_713135, c_728009.zfar_713136);

break;
case 1: perspective_22574(mat_728012, 3.0000000000000000e+01, (width_20031(viewportbounds_728010) / height_20035(viewportbounds_728010)), c_728009.znear_713135, c_728009.zfar_713136);

break;
case 2: if (!(!(c_728009.mmanualgetprojectionmatrix_713142 == null))) {
raiseassert_14693(cstrToNimstr("not isNil(c.mManualGetProjectionMatrix) "));
}

c_728009.mmanualgetprojectionmatrix_713142(viewportbounds_728010, mat_728012);

break;
}
}
function inverse_21830(mat_21833) {
inversed_21801(mat_21833, mat_21833);
}
function multiply_22058(mat_22060, vec_22061, dest_22063) {
var HEX3Atmp_797822 = {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0};
var x_22065 = 0.0;
var y_22066 = 0.0;
var z_22067 = 0.0;
var w_22068 = 0.0;
nimCopy(HEX3Atmp_797822, {Field0: vec_22061[0], Field1: vec_22061[1], Field2: vec_22061[2], Field3: vec_22061[3]}, NTI22064);
x_22065 = HEX3Atmp_797822["Field0"];
y_22066 = HEX3Atmp_797822["Field1"];
z_22067 = HEX3Atmp_797822["Field2"];
w_22068 = HEX3Atmp_797822["Field3"];
dest_22063[0] = ((((mat_22060[0] * x_22065) + (mat_22060[4] * y_22066)) + (mat_22060[8] * z_22067)) + (mat_22060[12] * w_22068));
dest_22063[1] = ((((mat_22060[1] * x_22065) + (mat_22060[5] * y_22066)) + (mat_22060[9] * z_22067)) + (mat_22060[13] * w_22068));
dest_22063[2] = ((((mat_22060[2] * x_22065) + (mat_22060[6] * y_22066)) + (mat_22060[10] * z_22067)) + (mat_22060[14] * w_22068));
dest_22063[3] = ((((mat_22060[3] * x_22065) + (mat_22060[7] * y_22066)) + (mat_22060[11] * z_22067)) + (mat_22060[15] * w_22068));
}
function HEX2A_22081(mat_22083, vec_22084) {
var result_22085 = [[0.0, 0.0, 0.0, 0.0]];
multiply_22058(mat_22083, vec_22084, result_22085[0]);
return result_22085[0];
}
function raywithscreencoords_730166(v_730168, coords_730169) {
var result_730170 = {origin_729005: [0.0, 0.0, 0.0], direction_729006: [0.0, 0.0, 0.0]};
nimCopy(result_730170.origin_729005, camera_730020(v_730168).node_713088.translation_713023, NTI21068);
var x_730171 = (((2.0000000000000000e+00 * coords_730169.Field0) / width_20031(bounds_697654(v_730168))) - 1.0000000000000000e+00);
var y_730172 = (1.0000000000000000e+00 - ((2.0000000000000000e+00 * coords_730169.Field1) / height_20035(bounds_697654(v_730168))));
var rayclip_730173 = newvector4_21144(x_730171, y_730172, -1.0000000000000000e+00, 1.0000000000000000e+00);
var proj_730174 = [[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]];
getprojectionmatrix_728007(v_730168.mcamera_713091, bounds_697654(v_730168), proj_730174[0]);
inverse_21830(proj_730174[0]);
var rayeye_730179 = HEX2A_22081(proj_730174[0], rayclip_730173);
rayeye_730179[2] = -1.0000000000000000e+00;
rayeye_730179[3] = 0.0;
var viewmat_730180 = worldtransform_720087(v_730168.mcamera_713091.node_713088);
nimCopy(rayeye_730179, HEX2A_22081(viewmat_730180, rayeye_730179), NTI21087);
nimCopy(result_730170.direction_729006, newvector3_21136(rayeye_730179[0], rayeye_730179[1], rayeye_730179[2]), NTI21068);
normalize_21182(result_730170.direction_729006);
return result_730170;
}
function HEX2DHEX3D_20240(x_20245, x_20245_Idx, y_20247) {
x_20245[x_20245_Idx] = (x_20245[x_20245_Idx] - y_20247);
}
function HEX2DHEX3D_731201(v1_731221, v2_731237) {
L1: do {
var i_731272 = 0;
var HEX3Atmp_731284 = {a_14056: 0, b_14058: 0};
HEX3Atmp_731284 = HEX2EHEX2E_31611(0, 2);
L2: do {
var x_731288 = 0;
var HEX3Atmp_731290 = 0;
var HEX3Atmp_731292 = 0;
HEX3Atmp_731290 = HEX3Atmp_731284.a_14056;
HEX3Atmp_731292 = HEX3Atmp_731284.b_14058;
var res_731294 = HEX3Atmp_731290;
L3: do {
L4: while (true) {
if (!(res_731294 <= HEX3Atmp_731292)) break L4;
x_731288 = res_731294;
i_731272 = x_731288;
HEX2DHEX3D_20240(v1_731221, chckIndx(i_731272, 0, v1_731221.length)-0, v2_731237[chckIndx(i_731272, 0, v2_731237.length)-0]);
res_731294 = addInt(res_731294, 1);
}
} while(false);
} while(false);
} while(false);
}
function dot_729016(v1_729035, v2_729051) {
var result_729052 = [0.0];
L1: do {
var i_729087 = 0;
var HEX3Atmp_729099 = {a_14056: 0, b_14058: 0};
HEX3Atmp_729099 = HEX2EHEX2E_31611(0, 2);
L2: do {
var x_729103 = 0;
var HEX3Atmp_729105 = 0;
var HEX3Atmp_729107 = 0;
HEX3Atmp_729105 = HEX3Atmp_729099.a_14056;
HEX3Atmp_729107 = HEX3Atmp_729099.b_14058;
var res_729109 = HEX3Atmp_729105;
L3: do {
L4: while (true) {
if (!(res_729109 <= HEX3Atmp_729107)) break L4;
x_729103 = res_729109;
i_729087 = x_729103;
HEX2BHEX3D_20111(result_729052, 0, (v1_729035[chckIndx(i_729087, 0, v1_729035.length)-0] * v2_729051[chckIndx(i_729087, 0, v2_729051.length)-0]));
res_729109 = addInt(res_729109, 1);
}
} while(false);
} while(false);
} while(false);
return result_729052[0];
}
function HEX2B_711525(v1_711544, v2_711560) {
var result_711575 = [0.0, 0.0, 0.0];
L1: do {
var i_711610 = 0;
var HEX3Atmp_711612 = {a_14056: 0, b_14058: 0};
HEX3Atmp_711612 = HEX2EHEX2E_31611(0, 2);
L2: do {
var x_711616 = 0;
var HEX3Atmp_711618 = 0;
var HEX3Atmp_711620 = 0;
HEX3Atmp_711618 = HEX3Atmp_711612.a_14056;
HEX3Atmp_711620 = HEX3Atmp_711612.b_14058;
var res_711622 = HEX3Atmp_711618;
L3: do {
L4: while (true) {
if (!(res_711622 <= HEX3Atmp_711620)) break L4;
x_711616 = res_711622;
i_711610 = x_711616;
result_711575[chckIndx(i_711610, 0, result_711575.length)-0] = (v1_711544[chckIndx(i_711610, 0, v1_711544.length)-0] + v2_711560[chckIndx(i_711610, 0, v2_711560.length)-0]);
res_711622 = addInt(res_711622, 1);
}
} while(false);
} while(false);
} while(false);
return result_711575;
}
function intersectwithplane_729007(r_729009, planenormal_729010, dist_729011, output_729013) {
var result_729014 = false;
BeforeRet: do {
var denom_729113 = dot_729016(r_729009.direction_729006, planenormal_729010);
if (!((denom_729113 == 0.0))) {
var t_729152 = (-((dot_729016(r_729009.origin_729005, planenormal_729010) + dist_729011)) / denom_729113);
if ((t_729152 < 0.0)) {
result_729014 = 0;
break BeforeRet;
}

nimCopy(output_729013, HEX2B_711525(r_729009.origin_729005, HEX2A_711437(r_729009.direction_729006, t_729152)), NTI711563);
result_729014 = 1;
break BeforeRet;
}
else {
if (((dot_729016(planenormal_729010, r_729009.origin_729005) + dist_729011) == 0.0)) {
nimCopy(output_729013, r_729009.origin_729005, NTI21068);
result_729014 = 1;
break BeforeRet;
}
else {
result_729014 = 0;
break BeforeRet;
}
}
} while (false); 
return result_729014;
}
function intersectwithplane_729281(r_729283, planenormal_729284, pointonplane_729285, output_729287) {
var result_729288 = false;
result_729288 = intersectwithplane_729007(r_729283, planenormal_729284, -(dot_729016(planenormal_729284, pointonplane_729285)), output_729287);
return result_729288;
}
function intersectswithuinode_731191(r_731193, n_731194, res_731196) {
var result_731197 = false;
var worldpointonplane_731198 = localtoworld_720101(n_731194, newvector3_21136(0.0, 0.0, 0.0));
var worldnormal_731199 = /**/[localtoworld_720101(n_731194, newvector3_21136(0.0, 0.0, 1.0000000000000000e+00))];
HEX2DHEX3D_731201(worldnormal_731199[0], worldpointonplane_731198);
normalize_21182(worldnormal_731199[0]);
result_731197 = intersectwithplane_729281(r_731193, worldnormal_731199[0], worldpointonplane_731198, res_731196);
return result_731197;
}
function tryworldtolocal_720115(n_720117, p_720118, res_720120) {
var result_720121 = false;
var m_720122 = [[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]];
if (tryinverse_21761(worldtransform_720087(n_720117), m_720122[0])) {
nimCopy(res_720120, HEX2A_22075(m_720122[0], p_720118), NTI21068);
result_720121 = 1;
}

return result_720121;
}
function convertpointfromparent_731311(v_731313, p_731314) {
var result_731315 = {Field0: 0.0, Field1: 0.0};
nimCopy(result_731315, newpoint_20055(-9.9999990000000000e+06, -9.9999990000000000e+06), NTI20006);
var r_731320 = raywithscreencoords_730166(sceneview_717001(v_731313.node_731189), p_731314);
var res_731321 = [[0.0, 0.0, 0.0]];
if (intersectswithuinode_731191(r_731320, v_731313.node_731189, res_731321[0])) {
if (tryworldtolocal_720115(v_731313.node_731189, res_731321[0], res_731321[0])) {
nimCopy(result_731315, newpoint_20055(res_731321[0][0], res_731321[0][1]), NTI20006);
}

}

return result_731315;
}
function HEX2D_20204(p1_20206, p2_20207) {
var result_20208 = {Field0: 0.0, Field1: 0.0};
nimCopy(result_20208, newpoint_20055((p1_20206.Field0 - p2_20207.Field0), (p1_20206.Field1 - p2_20207.Field1)), NTI20006);
return result_20208;
}
function convertpointfromparent_696128(v_696130, p_696131) {
var result_696132 = {Field0: 0.0, Field1: 0.0};
nimCopy(result_696132, HEX2D_20204(p_696131, v_696130.frame_696023.Field0), NTI20006);
return result_696132;
}
function convertpointfromparent_696134(v_696130, p_696131) {
var result_696137 = {Field0: 0.0, Field1: 0.0};
BeforeRet: do {
if (isObj(v_696130.m_type, NTI731188)) {
result_696137 = convertpointfromparent_731311(v_696130, p_696131);
break BeforeRet;
}
else {
if (isObj(v_696130.m_type, NTI696021)) {
result_696137 = convertpointfromparent_696128(v_696130, p_696131);
break BeforeRet;
}
}
} while (false); 
return result_696137;
}
function acceptsfirstresponder_696192(v_696194) {
var result_696195 = false;
result_696195 = 0;
return result_696195;
}
function acceptsfirstresponder_696197(v_696194) {
var result_696200 = false;
BeforeRet: do {
result_696200 = acceptsfirstresponder_696192(v_696194);
break BeforeRet;
} while (false); 
return result_696200;
}
function makefirstresponder_696240(v_696242) {
var result_696243 = false;
var w_696244 = v_696242.window_696022;
if (!(w_696244 == null)) {
result_696243 = makefirstresponder_696217(w_696244, v_696242);
}

return result_696243;
}
function makefirstresponder_696254(v_696242) {
var result_696257 = false;
BeforeRet: do {
result_696257 = makefirstresponder_696240(v_696242);
break BeforeRet;
} while (false); 
return result_696257;
}
function removefromsuperview_697055(v_697057) {
removefromsuperview_697027(v_697057, 1);
}
function removefromsuperview_697059(v_697057) {
removefromsuperview_697055(v_697057);
}
function cliptype_697248(v_697250) {
var result_697251 = 0;
result_697251 = 0;
return result_697251;
}
function cliptype_697253(v_697250) {
var result_697256 = 0;
BeforeRet: do {
result_697256 = cliptype_697248(v_697250);
break BeforeRet;
} while (false); 
return result_697256;
}
function compilecomposition_692022(gl_692024, comp_692026) {
var fragmentshadercode_692027 = comp_692026.fragshader_691907;
if (((fragmentshadercode_692027 != null ? fragmentshadercode_692027.length-1 : 0) == 0)) {
fragmentshadercode_692027 = cstrToNimstr("#ifdef GL_ES\x0A#extension GL_OES_standard_derivatives : enable\x0Aprecision mediump float;\x0A#endif\x0Avarying vec2 vPos;\x0Auniform vec4 bounds;\x0A");
if (fragmentshadercode_692027 != null) { fragmentshadercode_692027 = (fragmentshadercode_692027.slice(0, -1)).concat(cstrToNimstr("#define PI 3.14159265359\x0A#define TWO_PI 6.28318530718\x0A\x0Avec4 insetRect(vec4 rect, float by) {\x0A    return vec4(rect.xy + by, rect.zw - by * 2.0);\x0A}\x0A\x0Afloat sdAnd(float d1, float d2) {\x0A    return max(d1, d2);\x0A}\x0A\x0Afloat sdOr(float d1, float d2) {\x0A    return min(d1, d2);\x0A}\x0A\x0Afloat sdOr(float d1, float d2, float d3) {\x0A    return sdOr(sdOr(d1, d2), d3);\x0A}\x0A\x0Afloat sdOr(float d1, float d2, float d3, float d4) {\x0A    return sdOr(sdOr(d1, d2, d3), d4);\x0A}\x0A\x0Afloat sdOr(float d1, float d2, float d3, float d4, float d5) {\x0A    return sdOr(sdOr(d1, d2, d3, d4), d5);\x0A}\x0A\x0Afloat sdOr(float d1, float d2, float d3, float d4, float d5, float d6) {\x0A    return sdOr(sdOr(d1, d2, d3, d4, d5), d6);\x0A}\x0A\x0Afloat sdSub(float d1, float d2) {\x0A    return max(d1, -d2);\x0A}\x0Afloat sdRect(vec2 p, vec4 rect) {\x0A    vec2 b = rect.zw / 2.0;\x0A    p -= rect.xy + b;\x0A    vec2 d = abs(p) - b;\x0A    return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\x0A}\x0A\x0Afloat sdRect(vec4 rect) {\x0A    return sdRect(vPos, rect);\x0A}\x0A\x0Afloat sdCircle(vec2 pos, vec2 center, float radius) {\x0A    return distance(pos, center) - radius;\x0A}\x0A\x0Afloat sdCircle(vec2 center, float radius) {\x0A    return sdCircle(vPos, center, radius);\x0A}\x0A\x0Afloat sdRoundedRect(vec2 pos, vec4 rect, float radius) {\x0A    vec4 hRect = vec4(rect.x + radius, rect.y, rect.z - radius * 2.0, rect.w);\x0A    vec4 vRect = vec4(rect.x, rect.y + radius, rect.z, rect.w - radius * 2.0);\x0A    return sdOr(\x0A        sdRect(pos, hRect), sdRect(pos, vRect),\x0A        sdCircle(pos, rect.xy + radius, radius),\x0A        sdCircle(pos, vec2(rect.x + radius, rect.y + rect.w - radius), radius),\x0A        sdCircle(pos, rect.xy + rect.zw - radius, radius),\x0A        sdCircle(pos, vec2(rect.x + rect.z - radius, rect.y + radius), radius));\x0A}\x0A\x0Afloat sdRoundedRect(vec4 rect, float radius) {\x0A    return sdRoundedRect(vPos, rect, radius);\x0A}\x0A\x0Afloat sdEllipseInRect(vec2 pos, vec4 rect) {\x0A    vec2 ab = rect.zw / 2.0;\x0A    vec2 center = rect.xy + ab;\x0A    vec2 p = pos - center;\x0A    float res = dot(p * p, 1.0 / (ab * ab)) - 1.0;\x0A    res *= min(ab.x, ab.y);\x0A    return res;\x0A}\x0A\x0Afloat sdEllipseInRect(vec4 rect) {\x0A    return sdEllipseInRect(vPos, rect);\x0A}\x0A\x0Afloat sdRegularPolygon(vec2 st, vec2 center, float radius, int n, float angle) {\x0A    st -= center;\x0A    float innerAngle = float(n - 2) * PI / float(n);\x0A    float pointAngle = atan(st.y, st.x) - angle;\x0A\x0A    float s = floor(pointAngle / (PI - innerAngle));\x0A    float iiAngle = PI - innerAngle;\x0A    float startAngle = angle + iiAngle * s;\x0A    float endAngle = startAngle + iiAngle;\x0A\x0A    vec2 p1 = vec2(cos(startAngle), sin(startAngle));\x0A    vec2 p2 = vec2(cos(endAngle), sin(endAngle));\x0A\x0A    vec2 d = p2 - p1;\x0A\x0A    return ((d.y * st.x - d.x * st.y) + (p2.x * p1.y - p2.y * p1.x)*radius) / distance(p1, p2);\x0A}\x0A\x0Afloat sdRegularPolygon(vec2 center, float radius, int n) {\x0A    return sdRegularPolygon(vPos, center, radius, n, 0.0);\x0A}\x0A\x0Afloat sdRegularPolygon(vec2 center, float radius, int n, float angle) {\x0A    return sdRegularPolygon(vPos, center, radius, n, angle);\x0A}\x0A\x0Afloat sdStrokeRect(vec2 pos, vec4 rect, float width) {\x0A    return sdSub(sdRect(pos, rect),\x0A                 sdRect(pos, insetRect(rect, width)));\x0A}\x0A\x0Afloat sdStrokeRect(vec4 rect, float width) {\x0A    return sdStrokeRect(vPos, rect, width);\x0A}\x0A\x0Afloat sdStrokeRoundedRect(vec2 pos, vec4 rect, float radius, float width) {\x0A    return sdSub(sdRoundedRect(pos, rect, radius),\x0A                 sdRoundedRect(pos, insetRect(rect, width), radius - width));\x0A}\x0A\x0Afloat sdStrokeRoundedRect(vec4 rect, float radius, float width) {\x0A    return sdStrokeRoundedRect(vPos, rect, radius, width);\x0A}\x0Afloat fillAlpha(float dist) {\x0A    float d = fwidth(dist);\x0A    return 1.0 - smoothstep(-d, d, dist);\x0A//    return 1.0 - step(0.0, dist); // No antialiasing\x0A}\x0A\x0Avec4 composeDistanceFuncDebug(float dist) {\x0A    vec4 result = vec4(smoothstep(-30.0, -10.0, dist), 0, 0, 1.0);\x0A    if (dist > 0.0) {\x0A        result = vec4(0.5, 0.5, 1.0 - smoothstep(0.0, 30.0, dist), 1.0);\x0A    }\x0A    if (dist > -5.0 && dist <= 0.0) result = vec4(0.0, 1, 0, 1);\x0A    return result;\x0A}\x0A\x0Avoid drawShape(float dist, vec4 color) {\x0A    gl_FragColor = mix(gl_FragColor, color, fillAlpha(dist));\x0A}\x0A\x0A// Same as drawShape, but respects source alpha\x0Avoid blendShape(float dist, vec4 color) {\x0A    gl_FragColor = mix(gl_FragColor, color, fillAlpha(dist) * color.a);\x0A}\x0A\x0Avec4 newGrayColor(float v, float a) {\x0A    return vec4(v, v, v, a);\x0A}\x0A\x0Avec4 newGrayColor(float v) {\x0A    return newGrayColor(v, 1.0);\x0A}\x0A\x0Avec4 gradient(float pos, vec4 startColor, vec4 endColor) {\x0A    return mix(startColor, endColor, pos);\x0A}\x0A\x0Avec4 gradient(float pos, vec4 startColor, float sN, vec4 cN, vec4 endColor) {\x0A    return mix(gradient(pos / sN, startColor, cN),\x0A        endColor, smoothstep(sN, 1.0, pos));\x0A}\x0A\x0Avec4 gradient(float pos, vec4 startColor, float s1, vec4 c1, float sN, vec4 cN, vec4 endColor) {\x0A    return mix(gradient(pos / sN, startColor, s1 / sN, c1, cN),\x0A        endColor, smoothstep(sN, 1.0, pos));\x0A}\x0A\x0Avec4 gradient(float pos, vec4 startColor, float s1, vec4 c1, float s2, vec4 c2, float sN, vec4 cN, vec4 endColor) {\x0A    return mix(gradient(pos / sN, startColor, s1 / sN, c1, s2 / sN, c2, cN),\x0A        endColor, smoothstep(sN, 1.0, pos));\x0A}\x0A\x0A// Color conversions\x0A//http://gamedev.stackexchange.com/questions/59797/glsl-shader-change-hue-saturation-brightness\x0Avec3 rgb2hsv(vec3 c)\x0A{\x0A    vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\x0A    vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\x0A    vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\x0A\x0A    float d = q.x - min(q.w, q.y);\x0A    float e = 1.0e-10;\x0A    return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\x0A}\x0A\x0Avec3 hsv2rgb(vec3 c)\x0A{\x0A    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\x0A    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\x0A    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\x0A}\x0A")); } else { fragmentshadercode_692027 = cstrToNimstr("#define PI 3.14159265359\x0A#define TWO_PI 6.28318530718\x0A\x0Avec4 insetRect(vec4 rect, float by) {\x0A    return vec4(rect.xy + by, rect.zw - by * 2.0);\x0A}\x0A\x0Afloat sdAnd(float d1, float d2) {\x0A    return max(d1, d2);\x0A}\x0A\x0Afloat sdOr(float d1, float d2) {\x0A    return min(d1, d2);\x0A}\x0A\x0Afloat sdOr(float d1, float d2, float d3) {\x0A    return sdOr(sdOr(d1, d2), d3);\x0A}\x0A\x0Afloat sdOr(float d1, float d2, float d3, float d4) {\x0A    return sdOr(sdOr(d1, d2, d3), d4);\x0A}\x0A\x0Afloat sdOr(float d1, float d2, float d3, float d4, float d5) {\x0A    return sdOr(sdOr(d1, d2, d3, d4), d5);\x0A}\x0A\x0Afloat sdOr(float d1, float d2, float d3, float d4, float d5, float d6) {\x0A    return sdOr(sdOr(d1, d2, d3, d4, d5), d6);\x0A}\x0A\x0Afloat sdSub(float d1, float d2) {\x0A    return max(d1, -d2);\x0A}\x0Afloat sdRect(vec2 p, vec4 rect) {\x0A    vec2 b = rect.zw / 2.0;\x0A    p -= rect.xy + b;\x0A    vec2 d = abs(p) - b;\x0A    return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\x0A}\x0A\x0Afloat sdRect(vec4 rect) {\x0A    return sdRect(vPos, rect);\x0A}\x0A\x0Afloat sdCircle(vec2 pos, vec2 center, float radius) {\x0A    return distance(pos, center) - radius;\x0A}\x0A\x0Afloat sdCircle(vec2 center, float radius) {\x0A    return sdCircle(vPos, center, radius);\x0A}\x0A\x0Afloat sdRoundedRect(vec2 pos, vec4 rect, float radius) {\x0A    vec4 hRect = vec4(rect.x + radius, rect.y, rect.z - radius * 2.0, rect.w);\x0A    vec4 vRect = vec4(rect.x, rect.y + radius, rect.z, rect.w - radius * 2.0);\x0A    return sdOr(\x0A        sdRect(pos, hRect), sdRect(pos, vRect),\x0A        sdCircle(pos, rect.xy + radius, radius),\x0A        sdCircle(pos, vec2(rect.x + radius, rect.y + rect.w - radius), radius),\x0A        sdCircle(pos, rect.xy + rect.zw - radius, radius),\x0A        sdCircle(pos, vec2(rect.x + rect.z - radius, rect.y + radius), radius));\x0A}\x0A\x0Afloat sdRoundedRect(vec4 rect, float radius) {\x0A    return sdRoundedRect(vPos, rect, radius);\x0A}\x0A\x0Afloat sdEllipseInRect(vec2 pos, vec4 rect) {\x0A    vec2 ab = rect.zw / 2.0;\x0A    vec2 center = rect.xy + ab;\x0A    vec2 p = pos - center;\x0A    float res = dot(p * p, 1.0 / (ab * ab)) - 1.0;\x0A    res *= min(ab.x, ab.y);\x0A    return res;\x0A}\x0A\x0Afloat sdEllipseInRect(vec4 rect) {\x0A    return sdEllipseInRect(vPos, rect);\x0A}\x0A\x0Afloat sdRegularPolygon(vec2 st, vec2 center, float radius, int n, float angle) {\x0A    st -= center;\x0A    float innerAngle = float(n - 2) * PI / float(n);\x0A    float pointAngle = atan(st.y, st.x) - angle;\x0A\x0A    float s = floor(pointAngle / (PI - innerAngle));\x0A    float iiAngle = PI - innerAngle;\x0A    float startAngle = angle + iiAngle * s;\x0A    float endAngle = startAngle + iiAngle;\x0A\x0A    vec2 p1 = vec2(cos(startAngle), sin(startAngle));\x0A    vec2 p2 = vec2(cos(endAngle), sin(endAngle));\x0A\x0A    vec2 d = p2 - p1;\x0A\x0A    return ((d.y * st.x - d.x * st.y) + (p2.x * p1.y - p2.y * p1.x)*radius) / distance(p1, p2);\x0A}\x0A\x0Afloat sdRegularPolygon(vec2 center, float radius, int n) {\x0A    return sdRegularPolygon(vPos, center, radius, n, 0.0);\x0A}\x0A\x0Afloat sdRegularPolygon(vec2 center, float radius, int n, float angle) {\x0A    return sdRegularPolygon(vPos, center, radius, n, angle);\x0A}\x0A\x0Afloat sdStrokeRect(vec2 pos, vec4 rect, float width) {\x0A    return sdSub(sdRect(pos, rect),\x0A                 sdRect(pos, insetRect(rect, width)));\x0A}\x0A\x0Afloat sdStrokeRect(vec4 rect, float width) {\x0A    return sdStrokeRect(vPos, rect, width);\x0A}\x0A\x0Afloat sdStrokeRoundedRect(vec2 pos, vec4 rect, float radius, float width) {\x0A    return sdSub(sdRoundedRect(pos, rect, radius),\x0A                 sdRoundedRect(pos, insetRect(rect, width), radius - width));\x0A}\x0A\x0Afloat sdStrokeRoundedRect(vec4 rect, float radius, float width) {\x0A    return sdStrokeRoundedRect(vPos, rect, radius, width);\x0A}\x0Afloat fillAlpha(float dist) {\x0A    float d = fwidth(dist);\x0A    return 1.0 - smoothstep(-d, d, dist);\x0A//    return 1.0 - step(0.0, dist); // No antialiasing\x0A}\x0A\x0Avec4 composeDistanceFuncDebug(float dist) {\x0A    vec4 result = vec4(smoothstep(-30.0, -10.0, dist), 0, 0, 1.0);\x0A    if (dist > 0.0) {\x0A        result = vec4(0.5, 0.5, 1.0 - smoothstep(0.0, 30.0, dist), 1.0);\x0A    }\x0A    if (dist > -5.0 && dist <= 0.0) result = vec4(0.0, 1, 0, 1);\x0A    return result;\x0A}\x0A\x0Avoid drawShape(float dist, vec4 color) {\x0A    gl_FragColor = mix(gl_FragColor, color, fillAlpha(dist));\x0A}\x0A\x0A// Same as drawShape, but respects source alpha\x0Avoid blendShape(float dist, vec4 color) {\x0A    gl_FragColor = mix(gl_FragColor, color, fillAlpha(dist) * color.a);\x0A}\x0A\x0Avec4 newGrayColor(float v, float a) {\x0A    return vec4(v, v, v, a);\x0A}\x0A\x0Avec4 newGrayColor(float v) {\x0A    return newGrayColor(v, 1.0);\x0A}\x0A\x0Avec4 gradient(float pos, vec4 startColor, vec4 endColor) {\x0A    return mix(startColor, endColor, pos);\x0A}\x0A\x0Avec4 gradient(float pos, vec4 startColor, float sN, vec4 cN, vec4 endColor) {\x0A    return mix(gradient(pos / sN, startColor, cN),\x0A        endColor, smoothstep(sN, 1.0, pos));\x0A}\x0A\x0Avec4 gradient(float pos, vec4 startColor, float s1, vec4 c1, float sN, vec4 cN, vec4 endColor) {\x0A    return mix(gradient(pos / sN, startColor, s1 / sN, c1, cN),\x0A        endColor, smoothstep(sN, 1.0, pos));\x0A}\x0A\x0Avec4 gradient(float pos, vec4 startColor, float s1, vec4 c1, float s2, vec4 c2, float sN, vec4 cN, vec4 endColor) {\x0A    return mix(gradient(pos / sN, startColor, s1 / sN, c1, s2 / sN, c2, cN),\x0A        endColor, smoothstep(sN, 1.0, pos));\x0A}\x0A\x0A// Color conversions\x0A//http://gamedev.stackexchange.com/questions/59797/glsl-shader-change-hue-saturation-brightness\x0Avec3 rgb2hsv(vec3 c)\x0A{\x0A    vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\x0A    vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\x0A    vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\x0A\x0A    float d = q.x - min(q.w, q.y);\x0A    float e = 1.0e-10;\x0A    return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\x0A}\x0A\x0Avec3 hsv2rgb(vec3 c)\x0A{\x0A    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\x0A    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\x0A    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\x0A}\x0A");};
if (fragmentshadercode_692027 != null) { fragmentshadercode_692027 = (fragmentshadercode_692027.slice(0, -1)).concat(comp_692026.definition_691906); } else { fragmentshadercode_692027 = comp_692026.definition_691906;};
if (fragmentshadercode_692027 != null) { fragmentshadercode_692027 = (fragmentshadercode_692027.slice(0, -1)).concat(cstrToNimstr("    void main() { gl_FragColor = vec4(0.0); compose(); }\x0A    ")); } else { fragmentshadercode_692027 = cstrToNimstr("    void main() { gl_FragColor = vec4(0.0); compose(); }\x0A    ");};
}

comp_692026.definition_691906 = null;
comp_692026.fragshader_691907 = null;
comp_692026.program_691905 = newshaderprogram_690030(gl_692024, cstrToNimstr("attribute vec2 aPosition;uniform mat4 uModelViewProjectionMatrix;varying vec2 vPos;void main(){vec4 result=vec4(0.0);vPos=aPosition;result=(uModelViewProjectionMatrix*vec4(aPosition,0.0,1.0));gl_Position=result;}"), fragmentshadercode_692027, [{Field0: 0, Field1: cstrToNimstr("aPosition")}]);
}
function minx_20039(r_20041) {
var result_20042 = 0.0;
result_20042 = x_20023(r_20041);
return result_20042;
}
function miny_20047(r_20049) {
var result_20050 = 0.0;
result_20050 = y_20027(r_20049);
return result_20050;
}
function vertexattribpointer_654001(gl_654003, index_654004, size_654005, typ_654006, normalized_654007, stride_654008, offset_654009) {
gl_654003.vertexAttribPointer(index_654004, size_654005, typ_654006, normalized_654007, stride_654008, offset_654009);}
function vertexattribpointer_654201(gl_654203, index_654204, size_654205, normalized_654206, stride_654207, data_654209) {
        var buf = null;
        if (typeof(vertexattribpointer_654001.__nimxSharedBuffers) == "undefined")
        {
            vertexattribpointer_654001.__nimxSharedBuffers = {};
        }
        if (typeof(vertexattribpointer_654001.__nimxSharedBuffers[index_654204]) == "undefined")
        {
            buf = gl_654203.createBuffer();
            vertexattribpointer_654001.__nimxSharedBuffers[index_654204] = buf;
        }
        else
        {
            buf = vertexattribpointer_654001.__nimxSharedBuffers[index_654204];
        }

        gl_654203.bindBuffer(gl_654203.ARRAY_BUFFER, buf);
        gl_654203.bufferData(gl_654203.ARRAY_BUFFER, new Float32Array(data_654209), gl_654203.DYNAMIC_DRAW);
        vertexattribpointer_654001(gl_654203, index_654204, size_654205, gl_654203.FLOAT, normalized_654206, stride_654207, 0);
}
function setrectuniform_690808(c_690810, prog_690811, name_690812, r_690813) {
var loc_690814 = c_690810.gl_690204.getUniformLocation(prog_690811, name_690812);
c_690810.gl_690204.uniform4fv(loc_690814, [x_20023(r_690813), y_20027(r_690813), width_20031(r_690813), height_20035(r_690813)]);
}
function setcoloruniform_690611(c_690613, program_690614, name_690615, color_690616) {
var loc_690617 = c_690613.gl_690204.getUniformLocation(program_690614, name_690615);
c_690613.gl_690204.uniform4fv(loc_690617, [color_690616.Field0, color_690616.Field1, color_690616.Field2, (color_690616.Field3 * c_690613.alpha_690212)]);
}
function drawroundedrect_693011(c_693013, r_693014, radius_693015) {
var Tmp2;
var ctx_693017 = gcurrentcontext_690214[0];
var gl_693019 = ctx_693017.gl_690204;
if ((roundedrectcomposition_693010[0].program_691905 == 0)) {
compilecomposition_692022(gl_693019, roundedrectcomposition_693010[0]);
}

gl_693019.useProgram(roundedrectcomposition_693010[0].program_691905);
var vertexex_693021 = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0];
var points_693023 = nimCopy(null, [minx_20039(r_693014), miny_20047(r_693014), maxx_20043(r_693014), miny_20047(r_693014), maxx_20043(r_693014), maxy_20051(r_693014), minx_20039(r_693014), maxy_20051(r_693014)], NTI693074);
var componentcount_693025 = 2;
gl_693019.enableVertexAttribArray(0);
vertexattribpointer_654201(gl_693019, 0, componentcount_693025, 0, 0, points_693023);
gl_693019.uniformMatrix4fv(gl_693019.getUniformLocation(roundedrectcomposition_693010[0].program_691905, "uModelViewProjectionMatrix"), 0, ctx_693017.ptransform_690205);
var texindex_693055 = 0;
var thequad_693057 = [0.0, 0.0, 0.0, 0.0];
setrectuniform_690808(ctx_693017, roundedrectcomposition_693010[0].program_691905, "bounds", r_693014);
L1: do {
setcoloruniform_690611(ctx_693017, roundedrectcomposition_693010[0].program_691905, "uFillColor", c_693013.fillcolor_690206);
if ((c_693013.strokewidth_690208 == 0.0)) {
Tmp2 = c_693013.fillcolor_690206;
}
else {
Tmp2 = c_693013.strokecolor_690207;
}

setcoloruniform_690611(ctx_693017, roundedrectcomposition_693010[0].program_691905, "uStrokeColor", Tmp2);
gl_693019.uniform1f(gl_693019.getUniformLocation(roundedrectcomposition_693010[0].program_691905, "uStrokeWidth"), c_693013.strokewidth_690208);
gl_693019.uniform1f(gl_693019.getUniformLocation(roundedrectcomposition_693010[0].program_691905, "uRadius"), radius_693015);
} while(false);
gl_693019.drawArrays(gl_693019.TRIANGLE_FAN, 0, HEX2F_14010(8, (componentcount_693025|0)));
}
function inset_20141(r_20143, dx_20144, dy_20145) {
var result_20146 = {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}};
nimCopy(result_20146, newrect_20072((x_20023(r_20143) + dx_20144), (y_20027(r_20143) + dy_20145), (width_20031(r_20143) - (dx_20144 * 2.0000000000000000e+00)), (height_20035(r_20143) - (dy_20145 * 2.0000000000000000e+00))), NTI20014);
return result_20146;
}
function blackcolor_20162() {
var result_20164 = {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0};
nimCopy(result_20164, newgraycolor_20154(0.0, 1.0000000000000000e+00), NTI20018);
return result_20164;
}
function centerinrect_20302(s_20304, r_20305) {
var result_20306 = {Field0: 0.0, Field1: 0.0};
result_20306.Field0 = (r_20305.Field0.Field0 + ((width_20031(r_20305) - s_20304.Field0) / 2.0000000000000000e+00));
result_20306.Field1 = (r_20305.Field0.Field1 + ((height_20035(r_20305) - s_20304.Field1) / 2.0000000000000000e+00));
return result_20306;
}
function sizeofstring_658255(f_658257, s_658258) {
var result_658259 = {Field0: 0.0, Field1: 0.0};
var pt_658260 = [{Field0: 0.0, Field1: 0.0}];
var quad_658263 = [[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]];
var tex_658264 = [0];
var first_658265 = 1;
L1: do {
var ch_658266 = 0;
var i_658286 = 0;
var result_658288 = 0;
L2: do {
L3: while (true) {
if (!(i_658286 < (s_658258 != null ? s_658258.length-1 : 0))) break L3;
if (leU(s_658258[chckIndx(i_658286, 0, s_658258.length)-0], 127)) {
result_658288 = s_658258[chckIndx(i_658286, 0, s_658258.length)-0];
i_658286 = addInt(i_658286, 1);
}
else {
if (((s_658258[chckIndx(i_658286, 0, s_658258.length)-0] >>> 5) == 6)) {
result_658288 = (((s_658258[chckIndx(i_658286, 0, s_658258.length)-0] & 31) << 6) | (s_658258[chckIndx(addInt(i_658286, 1), 0, s_658258.length)-0] & 63));
i_658286 = addInt(i_658286, 2);
}
else {
if (((s_658258[chckIndx(i_658286, 0, s_658258.length)-0] >>> 4) == 14)) {
result_658288 = ((((s_658258[chckIndx(i_658286, 0, s_658258.length)-0] & 15) << 12) | ((s_658258[chckIndx(addInt(i_658286, 1), 0, s_658258.length)-0] & 63) << 6)) | (s_658258[chckIndx(addInt(i_658286, 2), 0, s_658258.length)-0] & 63));
i_658286 = addInt(i_658286, 3);
}
else {
if (((s_658258[chckIndx(i_658286, 0, s_658258.length)-0] >>> 3) == 30)) {
result_658288 = (((((s_658258[chckIndx(i_658286, 0, s_658258.length)-0] & 7) << 18) | ((s_658258[chckIndx(addInt(i_658286, 1), 0, s_658258.length)-0] & 63) << 12)) | ((s_658258[chckIndx(addInt(i_658286, 2), 0, s_658258.length)-0] & 63) << 6)) | (s_658258[chckIndx(addInt(i_658286, 3), 0, s_658258.length)-0] & 63));
i_658286 = addInt(i_658286, 4);
}
else {
if (((s_658258[chckIndx(i_658286, 0, s_658258.length)-0] >>> 2) == 62)) {
result_658288 = ((((((s_658258[chckIndx(i_658286, 0, s_658258.length)-0] & 3) << 24) | ((s_658258[chckIndx(addInt(i_658286, 1), 0, s_658258.length)-0] & 63) << 18)) | ((s_658258[chckIndx(addInt(i_658286, 2), 0, s_658258.length)-0] & 63) << 12)) | ((s_658258[chckIndx(addInt(i_658286, 3), 0, s_658258.length)-0] & 63) << 6)) | (s_658258[chckIndx(addInt(i_658286, 4), 0, s_658258.length)-0] & 63));
i_658286 = addInt(i_658286, 5);
}
else {
if (((s_658258[chckIndx(i_658286, 0, s_658258.length)-0] >>> 1) == 126)) {
result_658288 = (((((((s_658258[chckIndx(i_658286, 0, s_658258.length)-0] & 1) << 30) | ((s_658258[chckIndx(addInt(i_658286, 1), 0, s_658258.length)-0] & 63) << 24)) | ((s_658258[chckIndx(addInt(i_658286, 2), 0, s_658258.length)-0] & 63) << 18)) | ((s_658258[chckIndx(addInt(i_658286, 3), 0, s_658258.length)-0] & 63) << 12)) | ((s_658258[chckIndx(addInt(i_658286, 4), 0, s_658258.length)-0] & 63) << 6)) | (s_658258[chckIndx(addInt(i_658286, 5), 0, s_658258.length)-0] & 63));
i_658286 = addInt(i_658286, 6);
}
else {
result_658288 = s_658258[chckIndx(i_658286, 0, s_658258.length)-0];
i_658286 = addInt(i_658286, 1);
}
}}}}}
ch_658266 = result_658288;
if (first_658265) {
first_658265 = 0;
}
else {
HEX2BHEX3D_20111(pt_658260[0], "Field0", f_658257.horizontalspacing_656317);
}

getquaddataforrune_658132(f_658257, ch_658266, quad_658263[0], tex_658264, 0, pt_658260[0]);
}
} while(false);
} while(false);
nimCopy(result_658259, newsize_20061(pt_658260[0].Field0, f_658257.msize_656313), NTI20010);
return result_658259;
}
function settransformuniform_690607(c_690609, program_690610) {
c_690609.gl_690204.uniformMatrix4fv(c_690609.gl_690204.getUniformLocation(program_690610, "modelViewProjectionMatrix"), 0, c_690609.ptransform_690205);
}
function drawtext_693396(c_693398, font_693399, pt_693401, text_693402) {
c_693398.gl_690204.useProgram(c_693398.fontshaderprogram_690209);
setcoloruniform_690611(c_693398, c_693398.fontshaderprogram_690209, "fillColor", c_693398.fillcolor_690206);
c_693398.gl_690204.enableVertexAttribArray(0);
settransformuniform_690607(c_693398, c_693398.fontshaderprogram_690209);
c_693398.gl_690204.uniform1f(c_693398.gl_690204.getUniformLocation(c_693398.fontshaderprogram_690209, "uGamma"), font_693399.gamma_656318);
c_693398.gl_690204.uniform1f(c_693398.gl_690204.getUniformLocation(c_693398.fontshaderprogram_690209, "uBase"), font_693399.base_656319);
c_693398.gl_690204.enable(c_693398.gl_690204.BLEND);
c_693398.gl_690204.blendFunc(c_693398.gl_690204.SRC_ALPHA, c_693398.gl_690204.ONE_MINUS_SRC_ALPHA);
var vertexes_693405 = [[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]];
var texture_693406 = 0;
var newtexture_693407 = /**/[0];
L1: do {
var ch_693408 = 0;
var i_693440 = 0;
var result_693442 = 0;
L2: do {
L3: while (true) {
if (!(i_693440 < (text_693402 != null ? text_693402.length-1 : 0))) break L3;
if (leU(text_693402[chckIndx(i_693440, 0, text_693402.length)-0], 127)) {
result_693442 = text_693402[chckIndx(i_693440, 0, text_693402.length)-0];
i_693440 = addInt(i_693440, 1);
}
else {
if (((text_693402[chckIndx(i_693440, 0, text_693402.length)-0] >>> 5) == 6)) {
result_693442 = (((text_693402[chckIndx(i_693440, 0, text_693402.length)-0] & 31) << 6) | (text_693402[chckIndx(addInt(i_693440, 1), 0, text_693402.length)-0] & 63));
i_693440 = addInt(i_693440, 2);
}
else {
if (((text_693402[chckIndx(i_693440, 0, text_693402.length)-0] >>> 4) == 14)) {
result_693442 = ((((text_693402[chckIndx(i_693440, 0, text_693402.length)-0] & 15) << 12) | ((text_693402[chckIndx(addInt(i_693440, 1), 0, text_693402.length)-0] & 63) << 6)) | (text_693402[chckIndx(addInt(i_693440, 2), 0, text_693402.length)-0] & 63));
i_693440 = addInt(i_693440, 3);
}
else {
if (((text_693402[chckIndx(i_693440, 0, text_693402.length)-0] >>> 3) == 30)) {
result_693442 = (((((text_693402[chckIndx(i_693440, 0, text_693402.length)-0] & 7) << 18) | ((text_693402[chckIndx(addInt(i_693440, 1), 0, text_693402.length)-0] & 63) << 12)) | ((text_693402[chckIndx(addInt(i_693440, 2), 0, text_693402.length)-0] & 63) << 6)) | (text_693402[chckIndx(addInt(i_693440, 3), 0, text_693402.length)-0] & 63));
i_693440 = addInt(i_693440, 4);
}
else {
if (((text_693402[chckIndx(i_693440, 0, text_693402.length)-0] >>> 2) == 62)) {
result_693442 = ((((((text_693402[chckIndx(i_693440, 0, text_693402.length)-0] & 3) << 24) | ((text_693402[chckIndx(addInt(i_693440, 1), 0, text_693402.length)-0] & 63) << 18)) | ((text_693402[chckIndx(addInt(i_693440, 2), 0, text_693402.length)-0] & 63) << 12)) | ((text_693402[chckIndx(addInt(i_693440, 3), 0, text_693402.length)-0] & 63) << 6)) | (text_693402[chckIndx(addInt(i_693440, 4), 0, text_693402.length)-0] & 63));
i_693440 = addInt(i_693440, 5);
}
else {
if (((text_693402[chckIndx(i_693440, 0, text_693402.length)-0] >>> 1) == 126)) {
result_693442 = (((((((text_693402[chckIndx(i_693440, 0, text_693402.length)-0] & 1) << 30) | ((text_693402[chckIndx(addInt(i_693440, 1), 0, text_693402.length)-0] & 63) << 24)) | ((text_693402[chckIndx(addInt(i_693440, 2), 0, text_693402.length)-0] & 63) << 18)) | ((text_693402[chckIndx(addInt(i_693440, 3), 0, text_693402.length)-0] & 63) << 12)) | ((text_693402[chckIndx(addInt(i_693440, 4), 0, text_693402.length)-0] & 63) << 6)) | (text_693402[chckIndx(addInt(i_693440, 5), 0, text_693402.length)-0] & 63));
i_693440 = addInt(i_693440, 6);
}
else {
result_693442 = text_693402[chckIndx(i_693440, 0, text_693402.length)-0];
i_693440 = addInt(i_693440, 1);
}
}}}}}
ch_693408 = result_693442;
getquaddataforrune_658132(font_693399, ch_693408, vertexes_693405[0], newtexture_693407, 0, pt_693401);
if (!((texture_693406 == newtexture_693407[0]))) {
texture_693406 = newtexture_693407[0];
c_693398.gl_690204.bindTexture(c_693398.gl_690204.TEXTURE_2D, texture_693406);
}

vertexattribpointer_654201(c_693398.gl_690204, 0, 4, 0, 0, vertexes_693405[0]);
c_693398.gl_690204.drawArrays(c_693398.gl_690204.TRIANGLE_FAN, 0, 4);
HEX2BHEX3D_20111(pt_693401, "Field0", font_693399.horizontalspacing_656317);
}
} while(false);
} while(false);
}
function drawtitle_754084(b_754086, xoffset_754087) {
var Tmp1;
var Tmp2;
if (!(eqStrings(b_754086.title_754015, null))) {
var c_754088 = gcurrentcontext_690214[0];
if (!(b_754086.state_754016 == 2)) Tmp2 = false; else {Tmp2 = (b_754086.style_754020 == 0); }if (Tmp2) {
Tmp1 = whitecolor_20159();
}
else {
Tmp1 = blackcolor_20162();
}

nimCopy(c_754088.fillcolor_690206, Tmp1, NTI20018);
var font_754107 = systemfont_658060();
var titlerect_754108 = bounds_697654(b_754086);
var pt_754109 = /**/[centerinrect_20302(sizeofstring_658255(font_754107, b_754086.title_754015), titlerect_754108)];
if ((pt_754109[0].Field0 < xoffset_754087)) {
pt_754109[0].Field0 = xoffset_754087;
}

drawtext_693396(c_754088, font_754107, pt_754109[0], b_754086.title_754015);
}

}
function drawradioboxstyle_754248(b_754250, r_754251) {
var bezelrect_754252 = newrect_20072(0.0, 0.0, height_20035(bounds_697654(b_754250)), height_20035(bounds_697654(b_754250)));
var c_754253 = gcurrentcontext_690214[0];
nimCopy(c_754253.fillcolor_690206, whitecolor_20159(), NTI20018);
nimCopy(c_754253.strokecolor_690207, newgraycolor_20154(7.8000000000000003e-01, 1.0000000000000000e+00), NTI20018);
c_754253.strokewidth_690208 = 1.0000000000000000e+00;
drawroundedrect_693011(c_754253, bezelrect_754252, (height_20035(bezelrect_754252) / 2.0000000000000000e+00));
if (!((b_754250.value_754017 == 0))) {
var insetval_754254 = (height_20035(bezelrect_754252) * 1.7999999999999999e-01);
var checkmarkrect_754255 = inset_20141(bezelrect_754252, insetval_754254, insetval_754254);
c_754253.strokewidth_690208 = 0.0;
nimCopy(c_754253.fillcolor_690206, {Field0: 4.0000000000000002e-01, Field1: 5.8999999999999997e-01, Field2: 9.4999999999999996e-01, Field3: 1.0000000000000000e+00}, NTI20018);
drawroundedrect_693011(c_754253, checkmarkrect_754255, (height_20035(checkmarkrect_754255) / 2.0000000000000000e+00));
}

drawtitle_754084(b_754250, (width_20031(bezelrect_754252) + 1.0000000000000000e+00));
}
function drawcheckboxstyle_754240(b_754242, r_754243) {
var bezelrect_754244 = newrect_20072(0.0, 0.0, height_20035(bounds_697654(b_754242)), height_20035(bounds_697654(b_754242)));
var c_754245 = gcurrentcontext_690214[0];
nimCopy(c_754245.fillcolor_690206, whitecolor_20159(), NTI20018);
nimCopy(c_754245.strokecolor_690207, newgraycolor_20154(7.8000000000000003e-01, 1.0000000000000000e+00), NTI20018);
c_754245.strokewidth_690208 = 1.0000000000000000e+00;
drawroundedrect_693011(c_754245, bezelrect_754244, 2.0000000000000000e+00);
if (!((b_754242.value_754017 == 0))) {
var insetval_754246 = (height_20035(bezelrect_754244) * 1.7999999999999999e-01);
var checkmarkrect_754247 = inset_20141(bezelrect_754244, insetval_754246, insetval_754246);
c_754245.strokewidth_690208 = 0.0;
nimCopy(c_754245.fillcolor_690206, {Field0: 4.0000000000000002e-01, Field1: 5.8999999999999997e-01, Field2: 9.4999999999999996e-01, Field3: 1.0000000000000000e+00}, NTI20018);
drawroundedrect_693011(c_754245, checkmarkrect_754247, 1.0000000000000000e+00);
}

drawtitle_754084(b_754242, (width_20031(bezelrect_754244) + 1.0000000000000000e+00));
}
function graycolor_20165() {
var result_20167 = {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0};
nimCopy(result_20167, newgraycolor_20154(7.5000000000000000e-01, 1.0000000000000000e+00), NTI20018);
return result_20167;
}
function HEX3DHEX3D_693495(x_693499, y_693501) {
var result_693502 = false;
BeforeRet: do {
if (!((x_693499["Field0"] == y_693501["Field0"]))) {
result_693502 = 0;
break BeforeRet;
}

if (!((x_693499["Field1"] == y_693501["Field1"]))) {
result_693502 = 0;
break BeforeRet;
}

result_693502 = 1;
break BeforeRet;
} while (false); 
return result_693502;
}
function HEX3DHEX3D_693513(x_693517, y_693519) {
var result_693520 = false;
BeforeRet: do {
if (!((x_693517["Field0"] == y_693519["Field0"]))) {
result_693520 = 0;
break BeforeRet;
}

if (!((x_693517["Field1"] == y_693519["Field1"]))) {
result_693520 = 0;
break BeforeRet;
}

result_693520 = 1;
break BeforeRet;
} while (false); 
return result_693520;
}
function HEX3DHEX3D_693477(x_693481, y_693483) {
var result_693484 = false;
BeforeRet: do {
if (!(HEX3DHEX3D_693495(x_693481["Field0"], y_693483["Field0"]))) {
result_693484 = 0;
break BeforeRet;
}

if (!(HEX3DHEX3D_693513(x_693481["Field1"], y_693483["Field1"]))) {
result_693484 = 0;
break BeforeRet;
}

result_693484 = 1;
break BeforeRet;
} while (false); 
return result_693484;
}
function drawimage_693468(c_693470, i_693471, torect_693472, fromrect_693473, alpha_693474) {
if (isloaded_683846(i_693471)) {
var fr_693475 = newrect_20072(0.0, 0.0, 1.0000000000000000e+00, 1.0000000000000000e+00);
if (!(HEX3DHEX3D_693477(fromrect_693473, {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}}))) {
var s_693530 = size_684344(i_693471);
nimCopy(fr_693475, newrect_20072((x_20023(fromrect_693473) / s_693530.Field0), (y_20027(fromrect_693473) / s_693530.Field1), (maxx_20043(fromrect_693473) / s_693530.Field0), (maxy_20051(fromrect_693473) / s_693530.Field1)), NTI20014);
}

var ctx_693532 = gcurrentcontext_690214[0];
var gl_693534 = ctx_693532.gl_690204;
if ((imagecomposition_693467[0].program_691905 == 0)) {
compilecomposition_692022(gl_693534, imagecomposition_693467[0]);
}

gl_693534.useProgram(imagecomposition_693467[0].program_691905);
var vertexex_693536 = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0];
var points_693538 = nimCopy(null, [minx_20039(torect_693472), miny_20047(torect_693472), maxx_20043(torect_693472), miny_20047(torect_693472), maxx_20043(torect_693472), maxy_20051(torect_693472), minx_20039(torect_693472), maxy_20051(torect_693472)], NTI693589);
var componentcount_693540 = 2;
gl_693534.enableVertexAttribArray(0);
vertexattribpointer_654201(gl_693534, 0, componentcount_693540, 0, 0, points_693538);
gl_693534.uniformMatrix4fv(gl_693534.getUniformLocation(imagecomposition_693467[0].program_691905, "uModelViewProjectionMatrix"), 0, ctx_693532.ptransform_690205);
var texindex_693570 = 0;
var thequad_693572 = [[0.0, 0.0, 0.0, 0.0]];
setrectuniform_690808(ctx_693532, imagecomposition_693467[0].program_691905, "bounds", torect_693472);
L1: do {
gl_693534.activeTexture(addU(gl_693534.TEXTURE0, chckRange(texindex_693570, 0, 4294967295)));
gl_693534.bindTexture(gl_693534.TEXTURE_2D, gettexturequad_684038(i_693471, gl_693534, thequad_693572[0]));
gl_693534.uniform4fv(gl_693534.getUniformLocation(imagecomposition_693467[0].program_691905, "uImage_texCoords"), thequad_693572[0]);
gl_693534.uniform1i(gl_693534.getUniformLocation(imagecomposition_693467[0].program_691905, "uImage_tex"), texindex_693570);
texindex_693570 = addInt(texindex_693570, 1);
gl_693534.uniform1f(gl_693534.getUniformLocation(imagecomposition_693467[0].program_691905, "uAlpha"), (alpha_693474 * c_693470.alpha_690212));
setrectuniform_690808(ctx_693532, imagecomposition_693467[0].program_691905, "uFromRect", fr_693475);
} while(false);
gl_693534.drawArrays(gl_693534.TRIANGLE_FAN, 0, HEX2F_14010(8, (componentcount_693540|0)));
}

}
function drawimagestyle_754256(b_754258, r_754259) {
var Tmp2;
var Tmp3;
var ctx_754261 = gcurrentcontext_690214[0];
var gl_754263 = ctx_754261.gl_690204;
if ((regularbuttoncomposition_754120[0].program_691905 == 0)) {
compilecomposition_692022(gl_754263, regularbuttoncomposition_754120[0]);
}

gl_754263.useProgram(regularbuttoncomposition_754120[0].program_691905);
var vertexex_754265 = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0];
var points_754267 = nimCopy(null, [minx_20039(r_754259), miny_20047(r_754259), maxx_20043(r_754259), miny_20047(r_754259), maxx_20043(r_754259), maxy_20051(r_754259), minx_20039(r_754259), maxy_20051(r_754259)], NTI754318);
var componentcount_754269 = 2;
gl_754263.enableVertexAttribArray(0);
vertexattribpointer_654201(gl_754263, 0, componentcount_754269, 0, 0, points_754267);
gl_754263.uniformMatrix4fv(gl_754263.getUniformLocation(regularbuttoncomposition_754120[0].program_691905, "uModelViewProjectionMatrix"), 0, ctx_754261.ptransform_690205);
var texindex_754299 = 0;
var thequad_754301 = [0.0, 0.0, 0.0, 0.0];
setrectuniform_690808(ctx_754261, regularbuttoncomposition_754120[0].program_691905, "bounds", r_754259);
L1: do {
if ((b_754258.state_754016 == 1)) {
setcoloruniform_690611(ctx_754261, regularbuttoncomposition_754120[0].program_691905, "uStrokeColor", newgraycolor_20154(7.8000000000000003e-01, 1.0000000000000000e+00));
if (b_754258.enabled_754018) {
Tmp2 = b_754258.backgroundcolor_696030;
}
else {
Tmp2 = graycolor_20165();
}

setcoloruniform_690611(ctx_754261, regularbuttoncomposition_754120[0].program_691905, "uFillColorStart", Tmp2);
if (b_754258.enabled_754018) {
Tmp3 = b_754258.backgroundcolor_696030;
}
else {
Tmp3 = graycolor_20165();
}

setcoloruniform_690611(ctx_754261, regularbuttoncomposition_754120[0].program_691905, "uFillColorEnd", Tmp3);
}
else {
setcoloruniform_690611(ctx_754261, regularbuttoncomposition_754120[0].program_691905, "uStrokeColor", newcolor_20147(1.7999999999999999e-01, 5.0000000000000000e-01, 9.7999999999999998e-01, 1.0000000000000000e+00));
setcoloruniform_690611(ctx_754261, regularbuttoncomposition_754120[0].program_691905, "uFillColorStart", newcolor_20147(3.1000000000000000e-01, 5.9999999999999998e-01, 9.7999999999999998e-01, 1.0000000000000000e+00));
setcoloruniform_690611(ctx_754261, regularbuttoncomposition_754120[0].program_691905, "uFillColorEnd", newcolor_20147(8.9999999999999997e-02, 4.1999999999999998e-01, 8.8000000000000000e-01, 1.0000000000000000e+00));
}

} while(false);
gl_754263.drawArrays(gl_754263.TRIANGLE_FAN, 0, HEX2F_14010(8, (componentcount_754269|0)));
var c_754367 = gcurrentcontext_690214[0];
drawimage_693468(c_754367, b_754258.image_754022, newrect_20072((x_20023(r_754259) + 2.0000000000000000e+00), (y_20027(r_754259) + 2.0000000000000000e+00), (width_20031(r_754259) - 4.0000000000000000e+00), (height_20035(r_754259) - 4.0000000000000000e+00)), {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}}, 1.0000000000000000e+00);
}
function drawregularstyle_754121(b_754123, r_754124) {
var Tmp2;
var Tmp3;
if (b_754123.hasbezel_754019) {
var ctx_754126 = gcurrentcontext_690214[0];
var gl_754128 = ctx_754126.gl_690204;
if ((regularbuttoncomposition_754120[0].program_691905 == 0)) {
compilecomposition_692022(gl_754128, regularbuttoncomposition_754120[0]);
}

gl_754128.useProgram(regularbuttoncomposition_754120[0].program_691905);
var vertexex_754130 = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0];
var points_754132 = nimCopy(null, [minx_20039(r_754124), miny_20047(r_754124), maxx_20043(r_754124), miny_20047(r_754124), maxx_20043(r_754124), maxy_20051(r_754124), minx_20039(r_754124), maxy_20051(r_754124)], NTI754183);
var componentcount_754134 = 2;
gl_754128.enableVertexAttribArray(0);
vertexattribpointer_654201(gl_754128, 0, componentcount_754134, 0, 0, points_754132);
gl_754128.uniformMatrix4fv(gl_754128.getUniformLocation(regularbuttoncomposition_754120[0].program_691905, "uModelViewProjectionMatrix"), 0, ctx_754126.ptransform_690205);
var texindex_754164 = 0;
var thequad_754166 = [0.0, 0.0, 0.0, 0.0];
setrectuniform_690808(ctx_754126, regularbuttoncomposition_754120[0].program_691905, "bounds", r_754124);
L1: do {
if ((b_754123.state_754016 == 1)) {
setcoloruniform_690611(ctx_754126, regularbuttoncomposition_754120[0].program_691905, "uStrokeColor", newgraycolor_20154(7.8000000000000003e-01, 1.0000000000000000e+00));
if (b_754123.enabled_754018) {
Tmp2 = b_754123.backgroundcolor_696030;
}
else {
Tmp2 = graycolor_20165();
}

setcoloruniform_690611(ctx_754126, regularbuttoncomposition_754120[0].program_691905, "uFillColorStart", Tmp2);
if (b_754123.enabled_754018) {
Tmp3 = b_754123.backgroundcolor_696030;
}
else {
Tmp3 = graycolor_20165();
}

setcoloruniform_690611(ctx_754126, regularbuttoncomposition_754120[0].program_691905, "uFillColorEnd", Tmp3);
}
else {
setcoloruniform_690611(ctx_754126, regularbuttoncomposition_754120[0].program_691905, "uStrokeColor", newcolor_20147(1.7999999999999999e-01, 5.0000000000000000e-01, 9.7999999999999998e-01, 1.0000000000000000e+00));
setcoloruniform_690611(ctx_754126, regularbuttoncomposition_754120[0].program_691905, "uFillColorStart", newcolor_20147(3.1000000000000000e-01, 5.9999999999999998e-01, 9.7999999999999998e-01, 1.0000000000000000e+00));
setcoloruniform_690611(ctx_754126, regularbuttoncomposition_754120[0].program_691905, "uFillColorEnd", newcolor_20147(8.9999999999999997e-02, 4.1999999999999998e-01, 8.8000000000000000e-01, 1.0000000000000000e+00));
}

} while(false);
gl_754128.drawArrays(gl_754128.TRIANGLE_FAN, 0, HEX2F_14010(8, (componentcount_754134|0)));
}

drawtitle_754084(b_754123, 0.0);
}
function draw_754377(b_754379, r_754380) {
if ((b_754379.style_754020 == 2)) {
drawradioboxstyle_754248(b_754379, r_754380);
}
else {
if ((b_754379.style_754020 == 1)) {
drawcheckboxstyle_754240(b_754379, r_754380);
}
else {
if ((b_754379.style_754020 == 3)) {
drawimagestyle_754256(b_754379, r_754380);
}
else {
drawregularstyle_754121(b_754379, r_754380);
}
}}
}
function getviewport_655001(gl_655003) {
var result_655006 = [0, 0, 0, 0];
result_655006 = gl_655003.getParameter(gl_655003.VIEWPORT);return result_655006;
}
function prepareframebuffer_730089(v_730091, i_730093, i_730093_Idx, sz_730094) {
if (i_730093[i_730093_Idx] == null) {
rawEcho(cstrToNimstr("Creating buffer"));
i_730093[i_730093_Idx] = imagewithsize_683819(sz_730094);
}
else {
if (!(HEX3DHEX3D_693513(size_684344(i_730093[i_730093_Idx]), sz_730094))) {
rawEcho(cstrToNimstr("Recreating buffer"));
i_730093[i_730093_Idx] = imagewithsize_683819(sz_730094);
}
}
}
function getparami_654401(gl_654403, pname_654404) {
var result_654405 = 0;
result_654405 = gl_654403.getParameter(pname_654404);return result_654405;
}
function bindframebuffer_694003(gl_694005, i_694006) {
var Tmp1;
var Tmp2;
if ((i_694006.framebuffer_682211 == 0)) {
var texcoords_694018 = [[0.0, 0.0, 0.0, 0.0]];
var texture_694020 = gettexturequad_684038(i_694006, gl_694005, texcoords_694018[0]);
if ((texture_694020 == 0)) {
texture_694020 = gl_694005.createTexture();
i_694006.texture_682208 = texture_694020;
}

i_694006.framebuffer_682211 = gl_694005.createFramebuffer();
gl_694005.bindFramebuffer(gl_694005.FRAMEBUFFER, i_694006.framebuffer_682211);
gl_694005.bindTexture(gl_694005.TEXTURE_2D, texture_694020);
gl_694005.texParameteri(gl_694005.TEXTURE_2D, gl_694005.TEXTURE_MIN_FILTER, gl_694005.LINEAR);
if (ispoweroftwo_18625((size_684344(i_694006).Field0|0))) {
Tmp1 = (size_684344(i_694006).Field0|0);
}
else {
Tmp1 = nextpoweroftwo_18629((size_684344(i_694006).Field0|0));
}

var texwidth_694030 = Tmp1;
if (ispoweroftwo_18625((size_684344(i_694006).Field1|0))) {
Tmp2 = (size_684344(i_694006).Field1|0);
}
else {
Tmp2 = nextpoweroftwo_18629((size_684344(i_694006).Field1|0));
}

var texheight_694031 = Tmp2;
gl_694005.texImage2D(gl_694005.TEXTURE_2D, 0, chckRange(gl_694005.RGBA, -2147483648, 2147483647), texwidth_694030, texheight_694031, 0, gl_694005.RGBA, gl_694005.UNSIGNED_BYTE, null);
gl_694005.framebufferTexture2D(gl_694005.FRAMEBUFFER, gl_694005.COLOR_ATTACHMENT0, gl_694005.TEXTURE_2D, texture_694020, 0);
var depthbuffer_694032 = gl_694005.createRenderbuffer();
gl_694005.bindRenderbuffer(gl_694005.RENDERBUFFER, depthbuffer_694032);
var depthstencilformat_694201 = gl_694005.DEPTH_STENCIL;
gl_694005.renderbufferStorage(gl_694005.RENDERBUFFER, depthstencilformat_694201, texwidth_694030, texheight_694031);
gl_694005.framebufferRenderbuffer(gl_694005.FRAMEBUFFER, gl_694005.DEPTH_STENCIL_ATTACHMENT, gl_694005.RENDERBUFFER, depthbuffer_694032);
}
else {
gl_694005.bindFramebuffer(gl_694005.FRAMEBUFFER, i_694006.framebuffer_682211);
}

}
function prepareframebuffers_730116(v_730118) {
v_730118.numberofnodeswithbackcompositionincurrentframe_713094 = v_730118.numberofnodeswithbackcomposition_713093;
if ((0 < v_730118.numberofnodeswithbackcomposition_713093)) {
var gl_730119 = gcurrentcontext_690214[0].gl_690204;
var vp_730120 = getviewport_655001(gl_730119);
var sz_730121 = newsize_20061(vp_730120[2], vp_730120[3]);
prepareframebuffer_730089(v_730118, v_730118, "mactiveframebuffer_713095", sz_730121);
prepareframebuffer_730089(v_730118, v_730118, "mbackupframebuffer_713096", sz_730121);
v_730118.mscreenframebuffer_713097 = getparami_654401(gl_730119, gl_730119.FRAMEBUFFER_BINDING);
bindframebuffer_694003(gl_730119, v_730118.mactiveframebuffer_713095);
}

}
function transformtoref_690216(t_690218) {
var result_690219 = null;
result_690219 = t_690218;return result_690219;
}
function HEX2A_22069(mat_22071, mat2_22072) {
var result_22073 = [[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]];
multiply_22002(mat_22071, mat2_22072, result_22073[0]);
return result_22073[0];
}
function getviewmatrix_730127(v_730129) {
var result_730130 = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0];
var cam_730131 = camera_730020(v_730129);
if (!(!(cam_730131 == null))) {
raiseassert_14693(cstrToNimstr("not isNil(cam) "));
}

var viewtransform_730140 = inversed_21820(worldtransform_720087(v_730129.mcamera_713091.node_713088));
var projtransform_730141 = [[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]];
getprojectionmatrix_728007(cam_730131, bounds_697654(v_730129), projtransform_730141[0]);
nimCopy(result_730130, HEX2A_22069(projtransform_730141[0], viewtransform_730140), NTI21002);
return result_730130;
}
function draw_717656(c_717658) {
c_717658.drawproc_717619();
}
function aquiretempframebuffer_730185(v_730187) {
var Tmp1;
var result_730188 = null;
var vp_730189 = getviewport_655001(gcurrentcontext_690214[0].gl_690204);
var size_730190 = newsize_20061(vp_730189[2], vp_730189[3]);
if (!!(v_730187.tempframebuffers_713099 == null)) Tmp1 = false; else {Tmp1 = (0 < (v_730187.tempframebuffers_713099 != null ? v_730187.tempframebuffers_713099.length : 0)); }if (Tmp1) {
result_730188 = v_730187.tempframebuffers_713099[chckIndx(subInt((v_730187.tempframebuffers_713099 != null ? v_730187.tempframebuffers_713099.length : 0), 1), 0, v_730187.tempframebuffers_713099.length)-0];
v_730187.tempframebuffers_713099.length = chckRange(subInt((v_730187.tempframebuffers_713099 != null ? v_730187.tempframebuffers_713099.length : 0), 1), 0, 2147483647);
if (!(HEX3DHEX3D_693513(size_684344(result_730188), size_730190))) {
rawEcho(cstrToNimstr("REALLOCATING TEMP BUFFER"));
result_730188 = imagewithsize_683819(size_730190);
}

}
else {
rawEcho(cstrToNimstr("CREATING TEMP BUFFER"));
result_730188 = imagewithsize_683819(size_730190);
}

return result_730188;
}
function setpointuniform_691003(c_691005, prog_691006, name_691007, r_691008) {
var loc_691009 = c_691005.gl_690204.getUniformLocation(prog_691006, name_691007);
c_691005.gl_690204.uniform2fv(loc_691009, [r_691008.Field0, r_691008.Field1]);
}
function newseq_730263(len_730267) {
var result_730269 = null;
result_730269 = new Array(len_730267); for (var i=0;i<len_730267;++i) {result_730269[i]=null;}return result_730269;
}
function releasetempframebuffer_730248(v_730250, fb_730251) {
if (v_730250.tempframebuffers_713099 == null) {
v_730250.tempframebuffers_713099 = newseq_730263(0);
}

if (v_730250.tempframebuffers_713099 != null) { v_730250.tempframebuffers_713099.push(fb_730251); } else { v_730250.tempframebuffers_713099 = [fb_730251]; };
}
function draw_732099(cl_732101) {
var Tmp1;
var Tmp2;
var Tmp3;
var Tmp4;
if (!(cl_732101.inwhite_732059 == 1.0000000000000000e+00)) Tmp4 = false; else {Tmp4 = (cl_732101.inblack_732060 == 0.0); }if (!Tmp4) Tmp3 = false; else {Tmp3 = (cl_732101.ingamma_732061 == 1.0000000000000000e+00); }if (!Tmp3) Tmp2 = false; else {Tmp2 = (cl_732101.outwhite_732062 == 1.0000000000000000e+00); }if (!Tmp2) Tmp1 = false; else {Tmp1 = (cl_732101.outblack_732063 == 0.0); }if (!(Tmp1)) {
var vp_732102 = sceneview_717001(cl_732101.node_713088);
var c_732103 = gcurrentcontext_690214[0];
var gl_732104 = c_732103.gl_690204;
var oldbuf_732105 = getparami_654401(gl_732104, gl_732104.FRAMEBUFFER_BINDING);
var tmpbuf_732106 = aquiretempframebuffer_730185(vp_732102);
bindframebuffer_694003(gl_732104, tmpbuf_732106);
gl_732104.clear(((c_732103.gl_690204.COLOR_BUFFER_BIT | c_732103.gl_690204.STENCIL_BUFFER_BIT) | c_732103.gl_690204.DEPTH_BUFFER_BIT));
L5: do {
var c_732115 = null;
var HEX3Atmp_732265 = null;
HEX3Atmp_732265 = cl_732101.node_713088.children_713054;
var i_732268 = 0;
var L_732270 = (HEX3Atmp_732265 != null ? HEX3Atmp_732265.length : 0);
L6: do {
L7: while (true) {
if (!(i_732268 < L_732270)) break L7;
c_732115 = HEX3Atmp_732265[chckIndx(i_732268, 0, HEX3Atmp_732265.length)-0];
recursivedraw_719021(c_732115);
i_732268 = addInt(i_732268, 1);
if (!(((HEX3Atmp_732265 != null ? HEX3Atmp_732265.length : 0) == L_732270))) {
failedassertimpl_14716(cstrToNimstr("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
gl_732104.bindFramebuffer(gl_732104.FRAMEBUFFER, oldbuf_732105);
var vpbounds_732116 = getviewport_655001(gl_732104);
var vpsize_732117 = newsize_20061(vpbounds_732116[2], vpbounds_732116[3]);
var old_732239 = c_732103.ptransform_690205;
c_732103.ptransform_690205 = transformtoref_690216(getviewmatrix_730127(vp_732102));
var ctx_732121 = gcurrentcontext_690214[0];
var gl_732123 = ctx_732121.gl_690204;
if ((levelscomposition_732074[0].program_691905 == 0)) {
compilecomposition_692022(gl_732123, levelscomposition_732074[0]);
}

gl_732123.useProgram(levelscomposition_732074[0].program_691905);
var vertexex_732125 = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0];
var points_732127 = nimCopy(null, [minx_20039(newrect_20072(0.0, 0.0, 1.9200000000000000e+03, 1.0800000000000000e+03)), miny_20047(newrect_20072(0.0, 0.0, 1.9200000000000000e+03, 1.0800000000000000e+03)), maxx_20043(newrect_20072(0.0, 0.0, 1.9200000000000000e+03, 1.0800000000000000e+03)), miny_20047(newrect_20072(0.0, 0.0, 1.9200000000000000e+03, 1.0800000000000000e+03)), maxx_20043(newrect_20072(0.0, 0.0, 1.9200000000000000e+03, 1.0800000000000000e+03)), maxy_20051(newrect_20072(0.0, 0.0, 1.9200000000000000e+03, 1.0800000000000000e+03)), minx_20039(newrect_20072(0.0, 0.0, 1.9200000000000000e+03, 1.0800000000000000e+03)), maxy_20051(newrect_20072(0.0, 0.0, 1.9200000000000000e+03, 1.0800000000000000e+03))], NTI732242);
var componentcount_732129 = 2;
gl_732123.enableVertexAttribArray(0);
vertexattribpointer_654201(gl_732123, 0, componentcount_732129, 0, 0, points_732127);
gl_732123.uniformMatrix4fv(gl_732123.getUniformLocation(levelscomposition_732074[0].program_691905, "uModelViewProjectionMatrix"), 0, ctx_732121.ptransform_690205);
var texindex_732159 = 0;
var thequad_732161 = [[0.0, 0.0, 0.0, 0.0]];
setrectuniform_690808(ctx_732121, levelscomposition_732074[0].program_691905, "bounds", newrect_20072(0.0, 0.0, 1.9200000000000000e+03, 1.0800000000000000e+03));
L8: do {
gl_732123.uniform1f(gl_732123.getUniformLocation(levelscomposition_732074[0].program_691905, "inWhite"), cl_732101.inwhite_732059);
gl_732123.uniform1f(gl_732123.getUniformLocation(levelscomposition_732074[0].program_691905, "inBlack"), cl_732101.inblack_732060);
gl_732123.uniform1f(gl_732123.getUniformLocation(levelscomposition_732074[0].program_691905, "inGamma"), cl_732101.ingamma_732061);
gl_732123.uniform1f(gl_732123.getUniformLocation(levelscomposition_732074[0].program_691905, "outWhite"), cl_732101.outwhite_732062);
gl_732123.uniform1f(gl_732123.getUniformLocation(levelscomposition_732074[0].program_691905, "outBlack"), cl_732101.outblack_732063);
gl_732123.activeTexture(addU(gl_732123.TEXTURE0, chckRange(texindex_732159, 0, 4294967295)));
gl_732123.bindTexture(gl_732123.TEXTURE_2D, gettexturequad_684038(tmpbuf_732106, gl_732123, thequad_732161[0]));
gl_732123.uniform4fv(gl_732123.getUniformLocation(levelscomposition_732074[0].program_691905, "uForeground_texCoords"), thequad_732161[0]);
gl_732123.uniform1i(gl_732123.getUniformLocation(levelscomposition_732074[0].program_691905, "uForeground_tex"), texindex_732159);
texindex_732159 = addInt(texindex_732159, 1);
setpointuniform_691003(ctx_732121, levelscomposition_732074[0].program_691905, "viewportSize", newpoint_20055(vpsize_732117.Field0, vpsize_732117.Field1));
} while(false);
gl_732123.drawArrays(gl_732123.TRIANGLE_FAN, 0, HEX2F_14010(8, (componentcount_732129|0)));
c_732103.ptransform_690205 = old_732239;
releasetempframebuffer_730248(vp_732102, tmpbuf_732106);
}

}
function drawrect_693149(c_693151, r_693152) {
var Tmp2;
var ctx_693154 = gcurrentcontext_690214[0];
var gl_693156 = ctx_693154.gl_690204;
if ((rectcomposition_693148[0].program_691905 == 0)) {
compilecomposition_692022(gl_693156, rectcomposition_693148[0]);
}

gl_693156.useProgram(rectcomposition_693148[0].program_691905);
var vertexex_693158 = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0];
var points_693160 = nimCopy(null, [minx_20039(r_693152), miny_20047(r_693152), maxx_20043(r_693152), miny_20047(r_693152), maxx_20043(r_693152), maxy_20051(r_693152), minx_20039(r_693152), maxy_20051(r_693152)], NTI693211);
var componentcount_693162 = 2;
gl_693156.enableVertexAttribArray(0);
vertexattribpointer_654201(gl_693156, 0, componentcount_693162, 0, 0, points_693160);
gl_693156.uniformMatrix4fv(gl_693156.getUniformLocation(rectcomposition_693148[0].program_691905, "uModelViewProjectionMatrix"), 0, ctx_693154.ptransform_690205);
var texindex_693192 = 0;
var thequad_693194 = [0.0, 0.0, 0.0, 0.0];
setrectuniform_690808(ctx_693154, rectcomposition_693148[0].program_691905, "bounds", r_693152);
L1: do {
setcoloruniform_690611(ctx_693154, rectcomposition_693148[0].program_691905, "uFillColor", c_693151.fillcolor_690206);
if ((c_693151.strokewidth_690208 == 0.0)) {
Tmp2 = c_693151.fillcolor_690206;
}
else {
Tmp2 = c_693151.strokecolor_690207;
}

setcoloruniform_690611(ctx_693154, rectcomposition_693148[0].program_691905, "uStrokeColor", Tmp2);
gl_693156.uniform1f(gl_693156.getUniformLocation(rectcomposition_693148[0].program_691905, "uStrokeWidth"), c_693151.strokewidth_690208);
} while(false);
gl_693156.drawArrays(gl_693156.TRIANGLE_FAN, 0, HEX2F_14010(8, (componentcount_693162|0)));
}
function applyclippingrect_693830(c_693832, r_693833, on_693834) {
c_693832.gl_690204.enable(c_693832.gl_690204.STENCIL_TEST);
c_693832.gl_690204.colorMask(0, 0, 0, 0);
c_693832.gl_690204.depthMask(0);
c_693832.gl_690204.stencilMask(255);
if (on_693834) {
clippingdepth_693828[0] = addInt(clippingdepth_693828[0], 1);
c_693832.gl_690204.stencilOp(c_693832.gl_690204.INCR, c_693832.gl_690204.KEEP, c_693832.gl_690204.KEEP);
}
else {
clippingdepth_693828[0] = subInt(clippingdepth_693828[0], 1);
c_693832.gl_690204.stencilOp(c_693832.gl_690204.DECR, c_693832.gl_690204.KEEP, c_693832.gl_690204.KEEP);
}

c_693832.gl_690204.stencilFunc(c_693832.gl_690204.NEVER, 1, 255);
drawrect_693149(c_693832, r_693833);
c_693832.gl_690204.colorMask(1, 1, 1, 1);
c_693832.gl_690204.depthMask(1);
c_693832.gl_690204.stencilMask(0);
c_693832.gl_690204.stencilOp(c_693832.gl_690204.KEEP, c_693832.gl_690204.KEEP, c_693832.gl_690204.KEEP);
c_693832.gl_690204.stencilFunc(c_693832.gl_690204.EQUAL, clippingdepth_693828[0], 255);
if ((clippingdepth_693828[0] == 0)) {
c_693832.gl_690204.disable(c_693832.gl_690204.STENCIL_TEST);
}

}
function drawwithinsuperview_697260(v_697262) {
var c_697263 = gcurrentcontext_690214[0];
var tmptransform_697264 = /**/[nimCopy(null, c_697263.ptransform_690205, NTI21002)];
if (HEX3DHEX3D_693513(v_697262.bounds_696024.Field1, v_697262.frame_696023.Field1)) {
translate_22112(tmptransform_697264[0], newvector3_21136((x_20023(v_697262.frame_696023) - x_20023(v_697262.bounds_696024)), (y_20027(v_697262.frame_696023) - y_20027(v_697262.bounds_696024)), 0.0));
}
else {
if (1) {
failedassertimpl_14716(cstrToNimstr("false Not implemented"));
}

}

var old_697413 = c_697263.ptransform_690205;
c_697263.ptransform_690205 = transformtoref_690216(tmptransform_697264[0]);
if ((cliptype_697253(v_697262) == 1)) {
applyclippingrect_693830(c_697263, v_697262.bounds_696024, 1);
recursivedrawsubviews_697257(v_697262);
applyclippingrect_693830(c_697263, v_697262.bounds_696024, 0);
}
else {
recursivedrawsubviews_697257(v_697262);
}

c_697263.ptransform_690205 = old_697413;
}
function drawsubviews_697422(view_697424) {
L1: do {
var i_697433 = null;
var HEX3Atmp_697435 = null;
HEX3Atmp_697435 = view_697424.subviews_696026;
var i_697438 = 0;
var L_697440 = (HEX3Atmp_697435 != null ? HEX3Atmp_697435.length : 0);
L2: do {
L3: while (true) {
if (!(i_697438 < L_697440)) break L3;
i_697433 = HEX3Atmp_697435[chckIndx(i_697438, 0, HEX3Atmp_697435.length)-0];
drawwithinsuperview_697260(i_697433);
i_697438 = addInt(i_697438, 1);
if (!(((HEX3Atmp_697435 != null ? HEX3Atmp_697435.length : 0) == L_697440))) {
failedassertimpl_14716(cstrToNimstr("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
}
function recursivedrawsubviews_697257(view_697259) {
draw_697420(view_697259, view_697259.bounds_696024);
drawsubviews_697422(view_697259);
}
function draw_731329(c_731331) {
if (!(c_731331.mview_713145 == null)) {
recursivedrawsubviews_697257(c_731331.mview_713145);
}

}
function ortho_22598(left_22600, right_22601, bottom_22602, top_22603, near_22604, far_22605) {
var result_22606 = [[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]];
ortho_22584(result_22606[0], left_22600, right_22601, bottom_22602, top_22603, near_22604, far_22605);
return result_22606[0];
}
function swapcompositingbuffers_730147(v_730149) {
if (!((0 < v_730149.numberofnodeswithbackcompositionincurrentframe_713094))) {
failedassertimpl_14716(cstrToNimstr("\x0A  0 < v.numberOfNodesWithBackCompositionInCurrentFrame "));
}

v_730149.numberofnodeswithbackcompositionincurrentframe_713094 = subInt(v_730149.numberofnodeswithbackcompositionincurrentframe_713094, 1);
var boundssize_730410 = nimCopy(null, bounds_697654(v_730149).Field1, NTI20010);
var c_730411 = gcurrentcontext_690214[0];
var gl_730412 = c_730411.gl_690204;
var vp_730413 = getviewport_655001(gl_730412);
var mat_730601 = ortho_22598(0.0, vp_730413[2], 0.0, vp_730413[3], -1.0000000000000000e+00, 1.0000000000000000e+00);
var old_730604 = c_730411.ptransform_690205;
c_730411.ptransform_690205 = transformtoref_690216(mat_730601);
if ((v_730149.numberofnodeswithbackcompositionincurrentframe_713094 == 0)) {
gl_730412.bindFramebuffer(gl_730412.FRAMEBUFFER, v_730149.mscreenframebuffer_713097);
}
else {
gl_730412.bindFramebuffer(gl_730412.FRAMEBUFFER, v_730149.mbackupframebuffer_713096.framebuffer_682211);
}

drawimage_693468(c_730411, v_730149.mactiveframebuffer_713095, newrect_20072(0.0, 0.0, vp_730413[2], vp_730413[3]), {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}}, 1.0000000000000000e+00);
c_730411.ptransform_690205 = old_730604;
var Tmp1 = v_730149.mactiveframebuffer_713095; v_730149.mactiveframebuffer_713095 = v_730149.mbackupframebuffer_713096; v_730149.mbackupframebuffer_713096 = Tmp1;}
function draw_743017(o_743019) {
var vp_743020 = sceneview_717001(o_743019.node_713088);
var tmpbuf_743021 = aquiretempframebuffer_730185(vp_743020);
var c_743022 = gcurrentcontext_690214[0];
bindframebuffer_694003(c_743022.gl_690204, tmpbuf_743021);
c_743022.gl_690204.clear(((c_743022.gl_690204.COLOR_BUFFER_BIT | c_743022.gl_690204.STENCIL_BUFFER_BIT) | c_743022.gl_690204.DEPTH_BUFFER_BIT));
L1: do {
var c_743031 = null;
var HEX3Atmp_743199 = null;
HEX3Atmp_743199 = o_743019.node_713088.children_713054;
var i_743202 = 0;
var L_743204 = (HEX3Atmp_743199 != null ? HEX3Atmp_743199.length : 0);
L2: do {
L3: while (true) {
if (!(i_743202 < L_743204)) break L3;
c_743031 = HEX3Atmp_743199[chckIndx(i_743202, 0, HEX3Atmp_743199.length)-0];
recursivedraw_719021(c_743031);
i_743202 = addInt(i_743202, 1);
if (!(((HEX3Atmp_743199 != null ? HEX3Atmp_743199.length : 0) == L_743204))) {
failedassertimpl_14716(cstrToNimstr("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
swapcompositingbuffers_730147(vp_743020);
var vpbounds_743032 = getviewport_655001(c_743022.gl_690204);
var vpsize_743033 = newsize_20061(vpbounds_743032[2], vpbounds_743032[3]);
var old_743174 = c_743022.ptransform_690205;
c_743022.ptransform_690205 = transformtoref_690216(getviewmatrix_730127(vp_743020));
var ctx_743037 = gcurrentcontext_690214[0];
var gl_743039 = ctx_743037.gl_690204;
if ((overlaycomposition_743016[0].program_691905 == 0)) {
compilecomposition_692022(gl_743039, overlaycomposition_743016[0]);
}

gl_743039.useProgram(overlaycomposition_743016[0].program_691905);
var vertexex_743041 = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0];
var points_743043 = nimCopy(null, [minx_20039(newrect_20072(0.0, 0.0, 1.9200000000000000e+03, 1.0800000000000000e+03)), miny_20047(newrect_20072(0.0, 0.0, 1.9200000000000000e+03, 1.0800000000000000e+03)), maxx_20043(newrect_20072(0.0, 0.0, 1.9200000000000000e+03, 1.0800000000000000e+03)), miny_20047(newrect_20072(0.0, 0.0, 1.9200000000000000e+03, 1.0800000000000000e+03)), maxx_20043(newrect_20072(0.0, 0.0, 1.9200000000000000e+03, 1.0800000000000000e+03)), maxy_20051(newrect_20072(0.0, 0.0, 1.9200000000000000e+03, 1.0800000000000000e+03)), minx_20039(newrect_20072(0.0, 0.0, 1.9200000000000000e+03, 1.0800000000000000e+03)), maxy_20051(newrect_20072(0.0, 0.0, 1.9200000000000000e+03, 1.0800000000000000e+03))], NTI743177);
var componentcount_743045 = 2;
gl_743039.enableVertexAttribArray(0);
vertexattribpointer_654201(gl_743039, 0, componentcount_743045, 0, 0, points_743043);
gl_743039.uniformMatrix4fv(gl_743039.getUniformLocation(overlaycomposition_743016[0].program_691905, "uModelViewProjectionMatrix"), 0, ctx_743037.ptransform_690205);
var texindex_743075 = 0;
var thequad_743077 = [[0.0, 0.0, 0.0, 0.0]];
setrectuniform_690808(ctx_743037, overlaycomposition_743016[0].program_691905, "bounds", newrect_20072(0.0, 0.0, 1.9200000000000000e+03, 1.0800000000000000e+03));
L4: do {
gl_743039.activeTexture(addU(gl_743039.TEXTURE0, chckRange(texindex_743075, 0, 4294967295)));
gl_743039.bindTexture(gl_743039.TEXTURE_2D, gettexturequad_684038(vp_743020.mbackupframebuffer_713096, gl_743039, thequad_743077[0]));
gl_743039.uniform4fv(gl_743039.getUniformLocation(overlaycomposition_743016[0].program_691905, "uBackground_texCoords"), thequad_743077[0]);
gl_743039.uniform1i(gl_743039.getUniformLocation(overlaycomposition_743016[0].program_691905, "uBackground_tex"), texindex_743075);
texindex_743075 = addInt(texindex_743075, 1);
gl_743039.activeTexture(addU(gl_743039.TEXTURE0, chckRange(texindex_743075, 0, 4294967295)));
gl_743039.bindTexture(gl_743039.TEXTURE_2D, gettexturequad_684038(tmpbuf_743021, gl_743039, thequad_743077[0]));
gl_743039.uniform4fv(gl_743039.getUniformLocation(overlaycomposition_743016[0].program_691905, "uForeground_texCoords"), thequad_743077[0]);
gl_743039.uniform1i(gl_743039.getUniformLocation(overlaycomposition_743016[0].program_691905, "uForeground_tex"), texindex_743075);
texindex_743075 = addInt(texindex_743075, 1);
setpointuniform_691003(ctx_743037, overlaycomposition_743016[0].program_691905, "viewportSize", newpoint_20055(vpsize_743033.Field0, vpsize_743033.Field1));
} while(false);
gl_743039.drawArrays(gl_743039.TRIANGLE_FAN, 0, HEX2F_14010(8, (componentcount_743045|0)));
c_743022.ptransform_690205 = old_743174;
releasetempframebuffer_730248(vp_743020, tmpbuf_743021);
}
function load_741907(mc_741909) {
if (!(mc_741909.loadfunc_741210 == null)) {
mc_741909.loadfunc_741210();
mc_741909.loadfunc_741210 = null;
}

}
function updatevertexattributessetup_738809(m_738811, vertinfo_738812) {
var c_738813 = gcurrentcontext_690214[0];
var gl_738814 = c_738813.gl_690204;
var offset_738815 = 0;
if (!((vertinfo_738812.numofcoordpervert_737005 == 0))) {
gl_738814.enableVertexAttribArray(0);
vertexattribpointer_654001(gl_738814, 0, vertinfo_738812.numofcoordpervert_737005, gl_738814.FLOAT, 0, vertinfo_738812.stride_737010, offset_738815);
offset_738815 = addInt(offset_738815, mulInt((vertinfo_738812.numofcoordpervert_737005|0), 4));
}

if (!((vertinfo_738812.numofcoordpertexcoord_737007 == 0))) {
if ((m_738811.shader_738662 == 0)) {
m_738811.shadermacroflags_738665[1] = true;
}

gl_738814.enableVertexAttribArray(1);
vertexattribpointer_654001(gl_738814, 1, vertinfo_738812.numofcoordpertexcoord_737007, gl_738814.FLOAT, 0, vertinfo_738812.stride_737010, offset_738815);
offset_738815 = addInt(offset_738815, mulInt((vertinfo_738812.numofcoordpertexcoord_737007|0), 4));
}

if (!((vertinfo_738812.numofcoordpernormal_737006 == 0))) {
if ((m_738811.shader_738662 == 0)) {
m_738811.shadermacroflags_738665[2] = true;
m_738811.shadermacroflags_738665[0] = true;
}

gl_738814.enableVertexAttribArray(2);
vertexattribpointer_654001(gl_738814, 2, vertinfo_738812.numofcoordpernormal_737006, gl_738814.FLOAT, 0, vertinfo_738812.stride_737010, offset_738815);
offset_738815 = addInt(offset_738815, mulInt((vertinfo_738812.numofcoordpernormal_737006|0), 4));
}

if (!((vertinfo_738812.numofcoordpertangent_737009 == 0))) {
if ((m_738811.shader_738662 == 0)) {
m_738811.shadermacroflags_738665[4] = true;
}

gl_738814.enableVertexAttribArray(4);
vertexattribpointer_654001(gl_738814, 4, vertinfo_738812.numofcoordpertangent_737009, gl_738814.FLOAT, 0, vertinfo_738812.stride_737010, offset_738815);
offset_738815 = addInt(offset_738815, mulInt((vertinfo_738812.numofcoordpertangent_737009|0), 4));
}

if (!((vertinfo_738812.numofcoordperbinormal_737008 == 0))) {
if ((m_738811.shader_738662 == 0)) {
m_738811.shadermacroflags_738665[3] = true;
}

gl_738814.enableVertexAttribArray(3);
vertexattribpointer_654001(gl_738814, 3, vertinfo_738812.numofcoordperbinormal_737008, gl_738814.FLOAT, 0, vertinfo_738812.stride_737010, offset_738815);
offset_738815 = addInt(offset_738815, mulInt((vertinfo_738812.numofcoordperbinormal_737008|0), 4));
}

}
function HEX3DHEX3D_738302(x_738308, y_738311) {
var result_738312 = false;
BeforeRet: do {
L1: do {
var f_738414 = 0;
var res_738418 = 0;
L2: do {
L3: while (true) {
if (!(res_738418 <= 2)) break L3;
f_738414 = chckRange(res_738418, 0, 2);
if (!((x_738308[chckIndx(f_738414, 0, x_738308.length)-0] == y_738311[chckIndx(f_738414, 0, y_738311.length)-0]))) {
break BeforeRet;
}

res_738418 = addInt(res_738418, 1);
}
} while(false);
} while(false);
result_738312 = 1;
} while (false); 
return result_738312;
}
function HEX3DHEX3D_738428(x_738434, y_738437) {
var result_738438 = false;
BeforeRet: do {
L1: do {
var f_738614 = 0;
var res_738618 = 0;
L2: do {
L3: while (true) {
if (!(res_738618 <= 3)) break L3;
f_738614 = chckRange(res_738618, 0, 3);
if (!((x_738434[chckIndx(f_738614, 0, x_738434.length)-0] == y_738437[chckIndx(f_738614, 0, y_738437.length)-0]))) {
break BeforeRet;
}

res_738618 = addInt(res_738618, 1);
}
} while(false);
} while(false);
result_738438 = 1;
} while (false); 
return result_738438;
}
function toinversedmatrix3_21848(mat_21850, dest_21852) {
BeforeRet: do {
var HEX3Atmp_797823 = {Field0: 0.0, Field1: 0.0, Field2: 0.0};
var a00_21854 = 0.0;
var a01_21855 = 0.0;
var a02_21856 = 0.0;
nimCopy(HEX3Atmp_797823, {Field0: mat_21850[0], Field1: mat_21850[1], Field2: mat_21850[2]}, NTI21853);
a00_21854 = HEX3Atmp_797823["Field0"];
a01_21855 = HEX3Atmp_797823["Field1"];
a02_21856 = HEX3Atmp_797823["Field2"];
var HEX3Atmp_797824 = {Field0: 0.0, Field1: 0.0, Field2: 0.0};
var a10_21858 = 0.0;
var a11_21859 = 0.0;
var a12_21860 = 0.0;
nimCopy(HEX3Atmp_797824, {Field0: mat_21850[4], Field1: mat_21850[5], Field2: mat_21850[6]}, NTI21857);
a10_21858 = HEX3Atmp_797824["Field0"];
a11_21859 = HEX3Atmp_797824["Field1"];
a12_21860 = HEX3Atmp_797824["Field2"];
var HEX3Atmp_797825 = {Field0: 0.0, Field1: 0.0, Field2: 0.0};
var a20_21862 = 0.0;
var a21_21863 = 0.0;
var a22_21864 = 0.0;
nimCopy(HEX3Atmp_797825, {Field0: mat_21850[8], Field1: mat_21850[9], Field2: mat_21850[10]}, NTI21861);
a20_21862 = HEX3Atmp_797825["Field0"];
a21_21863 = HEX3Atmp_797825["Field1"];
a22_21864 = HEX3Atmp_797825["Field2"];
var b01_21865 = ((a22_21864 * a11_21859) - (a12_21860 * a21_21863));
var b11_21866 = ((-(a22_21864) * a10_21858) + (a12_21860 * a20_21862));
var b21_21867 = ((a21_21863 * a10_21858) - (a11_21859 * a20_21862));
var d_21868 = (((a00_21854 * b01_21865) + (a01_21855 * b11_21866)) + (a02_21856 * b21_21867));
if ((d_21868 == 0.0)) {
if (1) {
failedassertimpl_14716(cstrToNimstr("false "));
}

break BeforeRet;
}

var id_22001 = (1.0000000000000000e+00 / d_21868);
dest_21852[0] = (b01_21865 * id_22001);
dest_21852[1] = (((-(a22_21864) * a01_21855) + (a02_21856 * a21_21863)) * id_22001);
dest_21852[2] = (((a12_21860 * a01_21855) - (a02_21856 * a11_21859)) * id_22001);
dest_21852[3] = (b11_21866 * id_22001);
dest_21852[4] = (((a22_21864 * a00_21854) - (a02_21856 * a20_21862)) * id_22001);
dest_21852[5] = (((-(a12_21860) * a00_21854) + (a02_21856 * a10_21858)) * id_22001);
dest_21852[6] = (b21_21867 * id_22001);
dest_21852[7] = (((-(a21_21863) * a00_21854) + (a01_21855 * a20_21862)) * id_22001);
dest_21852[8] = (((a11_21859 * a00_21854) - (a01_21855 * a10_21858)) * id_22001);
} while (false); 
}
function transpose_21725(mat_21728) {
var HEX3Atmp_797826 = {Field0: 0.0, Field1: 0.0};
var a01_21730 = 0.0;
var a02_21731 = 0.0;
nimCopy(HEX3Atmp_797826, {Field0: mat_21728[1], Field1: mat_21728[2]}, NTI21729);
a01_21730 = HEX3Atmp_797826["Field0"];
a02_21731 = HEX3Atmp_797826["Field1"];
var a12_21732 = mat_21728[5];
mat_21728[1] = mat_21728[3];
mat_21728[2] = mat_21728[6];
mat_21728[3] = a01_21730;
mat_21728[5] = mat_21728[7];
mat_21728[6] = a02_21731;
mat_21728[7] = a12_21732;
}
function fromscalerotationtranslation_738292(t_738294, scale_738295, rotation_738296, translation_738297) {
var Tmp1;
var Tmp2;
var Tmp3;
var btransl_738298 = false;
var bscale_738299 = false;
var brot_738300 = false;
if (!!(HEX3DHEX3D_738302(t_738294.scale_738275, scale_738295))) Tmp3 = false; else {Tmp3 = !((scale_738295[0] == 0.0)); }if (!Tmp3) Tmp2 = false; else {Tmp2 = !((scale_738295[1] == 0.0)); }if (!Tmp2) Tmp1 = false; else {Tmp1 = !((scale_738295[2] == 0.0)); }if (Tmp1) {
nimCopy(t_738294.scale_738275, scale_738295, NTI21068);
bscale_738299 = 1;
}

if (!(HEX3DHEX3D_738428(t_738294.rotation_738276, rotation_738296))) {
nimCopy(t_738294.rotation_738276, rotation_738296, NTI21087);
brot_738300 = 1;
}

if (!(HEX3DHEX3D_738302(t_738294.translation_738277, translation_738297))) {
nimCopy(t_738294.translation_738277, translation_738297, NTI21068);
btransl_738298 = 1;
}

if (((bscale_738299 || brot_738300) || btransl_738298)) {
loadidentity_21698(t_738294.modelmatrix_738273);
translate_22112(t_738294.modelmatrix_738273, t_738294.translation_738277);
multiply_22002(t_738294.modelmatrix_738273, tomatrix4_711734(t_738294.rotation_738276), t_738294.modelmatrix_738273);
scale_22131(t_738294.modelmatrix_738273, t_738294.scale_738275);
toinversedmatrix3_21848(t_738294.modelmatrix_738273, t_738294.normalmatrix_738274);
transpose_21725(t_738294.normalmatrix_738274);
}

}
function updatetransformsetup_739792(m_739794, translation_739795, rotation_739796, scale_739797) {
fromscalerotationtranslation_738292(m_739794.transform_738653, scale_739797, rotation_739796, translation_739795);
}
function setupsamplerattributes_738973(m_738975) {
var c_738976 = gcurrentcontext_690214[0];
var gl_738977 = c_738976.gl_690204;
var thequad_738980 = [[0.0, 0.0, 0.0, 0.0]];
var textureindex_738981 = 0;
if (!(m_738975.albedotexture_738645 == null)) {
if ((m_738975.shader_738662 == 0)) {
m_738975.shadermacroflags_738665[5] = true;
}
else {
if (isloaded_683846(m_738975.albedotexture_738645)) {
gl_738977.activeTexture(addU(gl_738977.TEXTURE0, chckRange(textureindex_738981, 0, 4294967295)));
gl_738977.bindTexture(gl_738977.TEXTURE_2D, gettexturequad_684038(m_738975.albedotexture_738645, gl_738977, thequad_738980[0]));
gl_738977.uniform4fv(gl_738977.getUniformLocation(m_738975.shader_738662, "uTexUnitCoords"), thequad_738980[0]);
gl_738977.uniform1i(gl_738977.getUniformLocation(m_738975.shader_738662, "texUnit"), textureindex_738981);
textureindex_738981 = addInt(textureindex_738981, 1);
}

}

}

if (!(m_738975.glosstexture_738646 == null)) {
if ((m_738975.shader_738662 == 0)) {
m_738975.shadermacroflags_738665[6] = true;
}
else {
if (isloaded_683846(m_738975.glosstexture_738646)) {
gl_738977.activeTexture(addU(gl_738977.TEXTURE0, chckRange(textureindex_738981, 0, 4294967295)));
gl_738977.bindTexture(gl_738977.TEXTURE_2D, gettexturequad_684038(m_738975.glosstexture_738646, gl_738977, thequad_738980[0]));
gl_738977.uniform4fv(gl_738977.getUniformLocation(m_738975.shader_738662, "uGlossUnitCoords"), thequad_738980[0]);
gl_738977.uniform1i(gl_738977.getUniformLocation(m_738975.shader_738662, "glossMapUnit"), textureindex_738981);
textureindex_738981 = addInt(textureindex_738981, 1);
}

}

}

if (!(m_738975.speculartexture_738647 == null)) {
if ((m_738975.shader_738662 == 0)) {
m_738975.shadermacroflags_738665[7] = true;
}
else {
if (isloaded_683846(m_738975.speculartexture_738647)) {
gl_738977.activeTexture(addU(gl_738977.TEXTURE0, chckRange(textureindex_738981, 0, 4294967295)));
gl_738977.bindTexture(gl_738977.TEXTURE_2D, gettexturequad_684038(m_738975.speculartexture_738647, gl_738977, thequad_738980[0]));
gl_738977.uniform4fv(gl_738977.getUniformLocation(m_738975.shader_738662, "uSpecularUnitCoords"), thequad_738980[0]);
gl_738977.uniform1i(gl_738977.getUniformLocation(m_738975.shader_738662, "specularMapUnit"), textureindex_738981);
textureindex_738981 = addInt(textureindex_738981, 1);
}

}

}

if (!(m_738975.normaltexture_738648 == null)) {
if ((m_738975.shader_738662 == 0)) {
m_738975.shadermacroflags_738665[9] = true;
m_738975.shadermacroflags_738665[0] = true;
}
else {
if (isloaded_683846(m_738975.normaltexture_738648)) {
gl_738977.activeTexture(addU(gl_738977.TEXTURE0, chckRange(textureindex_738981, 0, 4294967295)));
gl_738977.bindTexture(gl_738977.TEXTURE_2D, gettexturequad_684038(m_738975.normaltexture_738648, gl_738977, thequad_738980[0]));
gl_738977.uniform4fv(gl_738977.getUniformLocation(m_738975.shader_738662, "uNormalUnitCoords"), thequad_738980[0]);
gl_738977.uniform1i(gl_738977.getUniformLocation(m_738975.shader_738662, "normalMapUnit"), textureindex_738981);
textureindex_738981 = addInt(textureindex_738981, 1);
}

}

}

if (!(m_738975.bumptexture_738649 == null)) {
if ((m_738975.shader_738662 == 0)) {
m_738975.shadermacroflags_738665[10] = true;
m_738975.shadermacroflags_738665[0] = true;
}
else {
if (isloaded_683846(m_738975.bumptexture_738649)) {
gl_738977.activeTexture(addU(gl_738977.TEXTURE0, chckRange(textureindex_738981, 0, 4294967295)));
gl_738977.bindTexture(gl_738977.TEXTURE_2D, gettexturequad_684038(m_738975.bumptexture_738649, gl_738977, thequad_738980[0]));
gl_738977.uniform4fv(gl_738977.getUniformLocation(m_738975.shader_738662, "uBumpUnitCoords"), thequad_738980[0]);
gl_738977.uniform1i(gl_738977.getUniformLocation(m_738975.shader_738662, "bumpMapUnit"), textureindex_738981);
textureindex_738981 = addInt(textureindex_738981, 1);
}

}

}

if (!(m_738975.reflectiontexture_738650 == null)) {
if ((m_738975.shader_738662 == 0)) {
m_738975.shadermacroflags_738665[8] = true;
m_738975.shadermacroflags_738665[0] = true;
}
else {
if (isloaded_683846(m_738975.reflectiontexture_738650)) {
gl_738977.activeTexture(addU(gl_738977.TEXTURE0, chckRange(textureindex_738981, 0, 4294967295)));
gl_738977.bindTexture(gl_738977.TEXTURE_2D, gettexturequad_684038(m_738975.reflectiontexture_738650, gl_738977, thequad_738980[0]));
gl_738977.uniform4fv(gl_738977.getUniformLocation(m_738975.shader_738662, "uReflectUnitCoords"), thequad_738980[0]);
gl_738977.uniform1i(gl_738977.getUniformLocation(m_738975.shader_738662, "reflectMapUnit"), textureindex_738981);
gl_738977.uniform1f(gl_738977.getUniformLocation(m_738975.shader_738662, "uReflectivity"), m_738975.color_738652.reflectivity_738251);
textureindex_738981 = addInt(textureindex_738981, 1);
}

}

}

if (!(m_738975.fallofftexture_738651 == null)) {
if ((m_738975.shader_738662 == 0)) {
m_738975.shadermacroflags_738665[11] = true;
m_738975.shadermacroflags_738665[0] = true;
}
else {
if (isloaded_683846(m_738975.fallofftexture_738651)) {
gl_738977.activeTexture(addU(gl_738977.TEXTURE0, chckRange(textureindex_738981, 0, 4294967295)));
gl_738977.bindTexture(gl_738977.TEXTURE_2D, gettexturequad_684038(m_738975.fallofftexture_738651, gl_738977, thequad_738980[0]));
gl_738977.uniform4fv(gl_738977.getUniformLocation(m_738975.shader_738662, "uFallofUnitCoords"), thequad_738980[0]);
gl_738977.uniform1i(gl_738977.getUniformLocation(m_738975.shader_738662, "falloffMapUnit"), textureindex_738981);
textureindex_738981 = addInt(textureindex_738981, 1);
}

}

}

}
function setupmaterialattributes_739346(m_739348) {
if (!(m_739348.color_738652 == null)) {
var c_739357 = gcurrentcontext_690214[0];
var gl_739358 = c_739357.gl_690204;
if (m_739348.color_738652.ambientinited_738252) {
if ((m_739348.shader_738662 == 0)) {
m_739348.shadermacroflags_738665[12] = true;
}
else {
setcoloruniform_690611(c_739357, m_739348.shader_738662, "uMaterialAmbient", newcolor_20147(m_739348.color_738652.ambient_738246[0], m_739348.color_738652.ambient_738246[1], m_739348.color_738652.ambient_738246[2], m_739348.color_738652.ambient_738246[3]));
}

}

if (m_739348.color_738652.emissioninited_738253) {
if ((m_739348.shader_738662 == 0)) {
m_739348.shadermacroflags_738665[13] = true;
}
else {
gl_739358.uniform4fv(gl_739358.getUniformLocation(m_739348.shader_738662, "uMaterialEmission"), m_739348.color_738652.emission_738247);
}

}

if (m_739348.color_738652.diffuseinited_738254) {
if ((m_739348.shader_738662 == 0)) {
m_739348.shadermacroflags_738665[14] = true;
}
else {
gl_739358.uniform4fv(gl_739358.getUniformLocation(m_739348.shader_738662, "uMaterialDiffuse"), m_739348.color_738652.diffuse_738248);
}

}

if (m_739348.color_738652.specularinited_738255) {
if ((m_739348.shader_738662 == 0)) {
m_739348.shadermacroflags_738665[15] = true;
}
else {
gl_739358.uniform4fv(gl_739358.getUniformLocation(m_739348.shader_738662, "uMaterialSpecular"), m_739348.color_738652.specular_738249);
}

}

if (m_739348.color_738652.shininessinited_738256) {
if ((m_739348.shader_738662 == 0)) {
m_739348.shadermacroflags_738665[16] = true;
}
else {
gl_739358.uniform1f(gl_739358.getUniformLocation(m_739348.shader_738662, "uMaterialShininess"), m_739348.color_738652.shininess_738250);
}

}

}

}
function len_731072(t_731078) {
var result_731079 = 0;
result_731079 = t_731078.counter_713125;
return result_731079;
}
function setuplightattributes_739454(m_739456, v_739457) {
var Tmp1;
var Tmp6;
var Tmp7;
var lightscount_739458 = 0;
if (!!(v_739457.lightsources_713126 == null)) Tmp1 = false; else {Tmp1 = !((len_731072(v_739457.lightsources_713126) == 0)); }if (Tmp1) {
var c_739476 = gcurrentcontext_690214[0];
var gl_739477 = c_739476.gl_690204;
L2: do {
var ls_739504 = null;
var HEX3Atmp_739734 = null;
HEX3Atmp_739734 = v_739457.lightsources_713126;
L3: do {
var h_739738 = 0;
var HEX3Atmp_739740 = 0;
HEX3Atmp_739740 = (HEX3Atmp_739734.data_713122 != null ? (HEX3Atmp_739734.data_713122.length-1) : -1);
var res_739742 = 0;
L4: do {
L5: while (true) {
if (!(res_739742 <= HEX3Atmp_739740)) break L5;
h_739738 = res_739742;
if (isfilled_639263(HEX3Atmp_739734.data_713122[chckIndx(h_739738, 0, HEX3Atmp_739734.data_713122.length)-0].Field0)) {
ls_739504 = HEX3Atmp_739734.data_713122[chckIndx(h_739738, 0, HEX3Atmp_739734.data_713122.length)-0].Field2;
if ((m_739456.shader_738662 == 0)) {
m_739456.shadermacroflags_738665[17] = true;
}
else {
var lightposition_739530 = newvector4_21144(ls_739504.node_713088.translation_713023[0], ls_739504.node_713088.translation_713023[1], ls_739504.node_713088.translation_713023[2], 0.0);
gl_739477.uniform4fv(gl_739477.getUniformLocation(m_739456.shader_738662, toJSStr((cstrToNimstr("uLightPosition").slice(0,-1)).concat(cstrToNimstr((lightscount_739458)+"")))), lightposition_739530);
}

if (ls_739504.lightambientinited_713156) {
if ((m_739456.shader_738662 == 0)) {
m_739456.shadermacroflags_738665[18] = true;
}
else {
gl_739477.uniform1f(gl_739477.getUniformLocation(m_739456.shader_738662, toJSStr((cstrToNimstr("uLightAmbient").slice(0,-1)).concat(cstrToNimstr((lightscount_739458)+"")))), ls_739504.mlightambient_713148);
}

}

if (ls_739504.lightdiffuseinited_713157) {
if ((m_739456.shader_738662 == 0)) {
m_739456.shadermacroflags_738665[19] = true;
}
else {
gl_739477.uniform1f(gl_739477.getUniformLocation(m_739456.shader_738662, toJSStr((cstrToNimstr("uLightDiffuse").slice(0,-1)).concat(cstrToNimstr((lightscount_739458)+"")))), ls_739504.mlightdiffuse_713149);
}

}

if (ls_739504.lightspecularinited_713158) {
if ((m_739456.shader_738662 == 0)) {
m_739456.shadermacroflags_738665[20] = true;
}
else {
gl_739477.uniform1f(gl_739477.getUniformLocation(m_739456.shader_738662, toJSStr((cstrToNimstr("uLightSpecular").slice(0,-1)).concat(cstrToNimstr((lightscount_739458)+"")))), ls_739504.mlightspecular_713150);
}

}

if (ls_739504.lightattenuationinited_713162) {
if ((m_739456.shader_738662 == 0)) {
m_739456.shadermacroflags_738665[22] = true;
}
else {
gl_739477.uniform1f(gl_739477.getUniformLocation(m_739456.shader_738662, toJSStr((cstrToNimstr("uAttenuation").slice(0,-1)).concat(cstrToNimstr((lightscount_739458)+"")))), ls_739504.mlightattenuation_713154);
}

}
else {
if (!ls_739504.lightconstantinited_713159) Tmp7 = false; else {Tmp7 = ls_739504.lightlinearinited_713160; }if (!Tmp7) Tmp6 = false; else {Tmp6 = ls_739504.lightquadraticinited_713161; }if (Tmp6) {
if ((m_739456.shader_738662 == 0)) {
m_739456.shadermacroflags_738665[21] = true;
}
else {
gl_739477.uniform1f(gl_739477.getUniformLocation(m_739456.shader_738662, toJSStr((cstrToNimstr("uLightConstant").slice(0,-1)).concat(cstrToNimstr((lightscount_739458)+"")))), ls_739504.mlightconstant_713151);
gl_739477.uniform1f(gl_739477.getUniformLocation(m_739456.shader_738662, toJSStr((cstrToNimstr("uLightLinear").slice(0,-1)).concat(cstrToNimstr((lightscount_739458)+"")))), ls_739504.mlightlinear_713152);
gl_739477.uniform1f(gl_739477.getUniformLocation(m_739456.shader_738662, toJSStr((cstrToNimstr("uLightQuadratic").slice(0,-1)).concat(cstrToNimstr((lightscount_739458)+"")))), ls_739504.mlightquadratic_713153);
}

}
}
lightscount_739458 = addInt(lightscount_739458, 1);
}

res_739742 = addInt(res_739742, 1);
}
} while(false);
} while(false);
} while(false);
}

if (!((m_739456.currentlightsourcescount_738659 == lightscount_739458))) {
shaderneedupdate_738667(m_739456);
L8: do {
L9: while (true) {
if (!!((lightscount_739458 == m_739456.currentlightsourcescount_738659))) break L9;
if ((m_739456.currentlightsourcescount_738659 < lightscount_739458)) {
m_739456.shadermacroflags_738665[chckRange(addInt(23, m_739456.currentlightsourcescount_738659), 0, 32)] = true;
m_739456.currentlightsourcescount_738659 = addInt(m_739456.currentlightsourcescount_738659, 1);
}
else {
m_739456.currentlightsourcescount_738659 = subInt(m_739456.currentlightsourcescount_738659, 1);
delete m_739456.shadermacroflags_738665[chckRange(addInt(23, m_739456.currentlightsourcescount_738659), 0, 32)];
}

}
} while(false);
if ((lightscount_739458 == 0)) {
delete m_739456.shadermacroflags_738665[17];
delete m_739456.shadermacroflags_738665[18];
delete m_739456.shadermacroflags_738665[19];
delete m_739456.shadermacroflags_738665[20];
delete m_739456.shadermacroflags_738665[22];
delete m_739456.shadermacroflags_738665[21];
}

}

}
function setupnormalmappingtechniquewithoutprecomputedtangents_739748(m_739750) {
if ((m_739750.shader_738662 == 0)) {
m_739750.shadermacroflags_738665[31] = true;
}

}
function setuprimlighttechnique_739770(m_739772) {
if ((m_739772.shader_738662 == 0)) {
m_739772.shadermacroflags_738665[32] = true;
}

}
function createshader_739798(m_739800) {
var c_739801 = gcurrentcontext_690214[0];
var gl_739802 = c_739801.gl_690204;
if (!((m_739800.shader_738662 == 0))) {
gl_739802.deleteProgram(m_739800.shader_738662);
m_739800.shader_738662 = 0;
m_739800.vertexshader_738660 = cstrToNimstr("");
m_739800.fragmentshader_738661 = cstrToNimstr("");
}

var commonshaderdefines_739812 = cstrToNimstr("");
L1: do {
var macros_739849 = 0;
var HEX3Atmp_739900 = {};
HEX3Atmp_739900 = m_739800.shadermacroflags_738665;
var i_739903 = 0;
L2: do {
L3: while (true) {
if (!(i_739903 <= 32)) break L3;
if ((HEX3Atmp_739900[chckRange(i_739903, 0, 32)] != undefined)) {
macros_739849 = chckRange(i_739903, 0, 32);
if (commonshaderdefines_739812 != null) { commonshaderdefines_739812 = (commonshaderdefines_739812.slice(0, -1)).concat((cstrToNimstr("#define ").slice(0,-1)).concat(cstrToNimstr(NTI738209.node.sons[macros_739849].name).slice(0,-1),cstrToNimstr("\x0A"))); } else { commonshaderdefines_739812 = (cstrToNimstr("#define ").slice(0,-1)).concat(cstrToNimstr(NTI738209.node.sons[macros_739849].name).slice(0,-1),cstrToNimstr("\x0A"));};
}

i_739903 = addInt(i_739903, 1);
}
} while(false);
} while(false);
if (((m_739800.vertexshader_738660 != null ? m_739800.vertexshader_738660.length-1 : 0) == 0)) {
m_739800.vertexshader_738660 = (commonshaderdefines_739812.slice(0,-1)).concat(cstrToNimstr("attribute vec4 aPosition;\x0Aattribute vec4 aNormal;\x0Aattribute vec4 aTangent;\x0Aattribute vec4 aBinormal;\x0Aattribute vec2 aTexCoord;\x0A\x0A#ifdef WITH_V_POSITION\x0Avarying vec3 vPosition;\x0A#endif\x0A#ifdef WITH_V_NORMAL\x0Avarying vec3 vNormal;\x0A#endif\x0A#ifdef WITH_V_TANGENT\x0Avarying vec3 vTangent;\x0Avarying vec3 vBinormal;\x0A#endif\x0A#ifdef WITH_V_TEXCOORD\x0Avarying vec2 vTexCoord;\x0A#endif\x0A\x0Auniform mat4 modelViewProjectionMatrix;\x0Auniform mat4 modelMatrix;\x0Auniform mat3 normalMatrix;\x0A\x0Avoid main() {\x0A#ifdef WITH_V_POSITION\x0A    vPosition = vec4(modelMatrix * aPosition).xyz;\x0A#endif\x0A#ifdef WITH_V_NORMAL\x0A    vNormal = normalize(normalMatrix * aNormal.xyz);\x0A#endif\x0A#ifdef WITH_V_TANGENT\x0A    vTangent = normalize(normalMatrix * aTangent.xyz);\x0A    #ifdef WITH_V_BINORMAL\x0A        vBinormal = normalize(normalMatrix * aBinormal.xyz);\x0A    #else\x0A        vec3 bitangent = cross(vTangent.xyz, vNormal.xyz);\x0A        vBinormal = normalize(bitangent);\x0A    #endif\x0A#endif\x0A#ifdef WITH_V_TEXCOORD\x0A    vTexCoord = aTexCoord;\x0A#endif\x0A    gl_Position = modelViewProjectionMatrix * vec4(aPosition.xyz, 1.0);\x0A}\x0A"));
}
else {
m_739800.vertexshader_738660 = (commonshaderdefines_739812.slice(0,-1)).concat(m_739800.vertexshader_738660);
}

if (((m_739800.fragmentshader_738661 != null ? m_739800.fragmentshader_738661.length-1 : 0) == 0)) {
m_739800.fragmentshader_738661 = (commonshaderdefines_739812.slice(0,-1)).concat(cstrToNimstr("#ifdef GL_ES\x0A#extension GL_OES_standard_derivatives : enable\x0Aprecision mediump float;\x0A#endif\x0A\x0A#ifdef WITH_V_POSITION\x0Avarying vec3 vPosition;\x0A#endif\x0A#ifdef WITH_V_NORMAL\x0Avarying vec3 vNormal;\x0A#endif\x0A#ifdef WITH_V_TANGENT\x0Avarying vec3 vTangent;\x0Avarying vec3 vBinormal;\x0A#endif\x0A#ifdef WITH_V_TEXCOORD\x0Avarying vec2 vTexCoord;\x0A#endif\x0A\x0A#ifdef WITH_MATERIAL_DIFFUSE\x0Auniform sampler2D texUnit;\x0Auniform vec4 uTexUnitCoords;\x0A#endif\x0A#ifdef WITH_GLOSS_SAMPLER\x0Auniform sampler2D glossMapUnit;\x0Auniform vec4 uGlossUnitCoords;\x0A#endif\x0A#ifdef WITH_SPECULAR_SAMPLER\x0Auniform sampler2D specularMapUnit;\x0Auniform vec4 uSpecularUnitCoords;\x0A#endif\x0A#ifdef WITH_BUMP_SAMPLER\x0Auniform sampler2D bumpMapUnit;\x0Auniform vec4 uBumpUnitCoords;\x0A#endif\x0A#ifdef WITH_NORMAL_SAMPLER\x0Auniform sampler2D normalMapUnit;\x0Auniform vec4 uNormalUnitCoords;\x0A#endif\x0A#ifdef WITH_REFLECTION_SAMPLER\x0Auniform sampler2D reflectMapUnit;\x0Auniform vec4 uReflectUnitCoords;\x0Auniform float uReflectivity;\x0A#endif\x0A#ifdef WITH_FALLOF_SAMPLER\x0Auniform sampler2D falloffMapUnit;\x0Auniform vec4 uFallofUnitCoords;\x0A#endif\x0A\x0A#ifdef WITH_MATERIAL_AMBIENT\x0Auniform vec4 uMaterialAmbient;\x0A#endif\x0A#ifdef WITH_MATERIAL_EMISSION\x0Auniform vec4 uMaterialEmission;\x0A#endif\x0A#ifdef WITH_MATERIAL_DIFFUSE\x0Auniform vec4 uMaterialDiffuse;\x0A#endif\x0A#ifdef WITH_MATERIAL_SPECULAR\x0Auniform vec4 uMaterialSpecular;\x0A#endif\x0A#ifdef WITH_MATERIAL_SHININESS\x0Auniform float uMaterialShininess;\x0A#endif\x0A\x0A#ifdef WITH_LIGHT_0\x0Auniform vec4 uLightPosition0;\x0Auniform float uLightAmbient0;\x0Auniform float uLightDiffuse0;\x0Auniform float uLightSpecular0;\x0Auniform float uLightConstant0;\x0Auniform float uLightLinear0;\x0Auniform float uLightQuadratic0;\x0Auniform float uAttenuation0;\x0A#endif\x0A#ifdef WITH_LIGHT_1\x0Auniform vec4 uLightPosition1;\x0Auniform float uLightAmbient1;\x0Auniform float uLightDiffuse1;\x0Auniform float uLightSpecular1;\x0Auniform float uLightConstant1;\x0Auniform float uLightLinear1;\x0Auniform float uLightQuadratic1;\x0Auniform float uAttenuation1;\x0A#endif\x0A#ifdef WITH_LIGHT_2\x0Auniform vec4 uLightPosition2;\x0Auniform float uLightAmbient2;\x0Auniform float uLightDiffuse2;\x0Auniform float uLightSpecular2;\x0Auniform float uLightConstant2;\x0Auniform float uLightLinear2;\x0Auniform float uLightQuadratic2;\x0Auniform float uAttenuation2;\x0A#endif\x0A#ifdef WITH_LIGHT_3\x0Auniform vec4 uLightPosition3;\x0Auniform float uLightAmbient3;\x0Auniform float uLightDiffuse3;\x0Auniform float uLightSpecular3;\x0Auniform float uLightConstant3;\x0Auniform float uLightLinear3;\x0Auniform float uLightQuadratic3;\x0Auniform float uAttenuation3;\x0A#endif\x0A#ifdef WITH_LIGHT_4\x0Auniform vec4 uLightPosition4;\x0Auniform float uLightAmbient4;\x0Auniform float uLightDiffuse4;\x0Auniform float uLightSpecular4;\x0Auniform float uLightConstant4;\x0Auniform float uLightLinear4;\x0Auniform float uLightQuadratic4;\x0Auniform float uAttenuation4;\x0A#endif\x0A#ifdef WITH_LIGHT_5\x0Auniform vec4 uLightPosition5;\x0Auniform float uLightAmbient5;\x0Auniform float uLightDiffuse5;\x0Auniform float uLightSpecular5;\x0Auniform float uLightConstant5;\x0Auniform float uLightLinear5;\x0Auniform float uLightQuadratic5;\x0Auniform float uAttenuation5;\x0A#endif\x0A#ifdef WITH_LIGHT_6\x0Auniform vec4 uLightPosition6;\x0Auniform float uLightAmbient6;\x0Auniform float uLightDiffuse6;\x0Auniform float uLightSpecular6;\x0Auniform float uLightConstant6;\x0Auniform float uLightLinear6;\x0Auniform float uLightQuadratic6;\x0Auniform float uAttenuation6;\x0A#endif\x0A#ifdef WITH_LIGHT_7\x0Auniform vec4 uLightPosition7;\x0Auniform float uLightAmbient7;\x0Auniform float uLightDiffuse7;\x0Auniform float uLightSpecular7;\x0Auniform float uLightConstant7;\x0Auniform float uLightLinear7;\x0Auniform float uLightQuadratic7;\x0Auniform float uAttenuation7;\x0A#endif\x0A\x0Amat3 cotangent_frame( vec3 N, vec3 p, vec2 uv ) {\x0A    vec3 dp1 = vec3(dFdx(p.x),dFdx(p.y),dFdx(p.z));\x0A    vec3 dp2 = vec3(dFdy(p.x),dFdy(p.y),dFdy(p.z));\x0A    vec2 duv1 = vec2(dFdx(uv.x),dFdx(uv.y));\x0A    vec2 duv2 = vec2(dFdy(uv.x),dFdy(uv.y));\x0A#ifdef GL_ES\x0A    highp vec3 dp2perp = cross( dp2, N );\x0A    highp vec3 dp1perp = cross( N, dp1 );\x0A    highp vec3 T = dp2perp * duv1.x + dp1perp * duv2.x;\x0A    highp vec3 B = dp2perp * duv1.y + dp1perp * duv2.y;\x0A#else\x0A    vec3 dp2perp = cross( dp2, N );\x0A    vec3 dp1perp = cross( N, dp1 );\x0A    vec3 T = dp2perp * duv1.x + dp1perp * duv2.x;\x0A    vec3 B = dp2perp * duv1.y + dp1perp * duv2.y;\x0A#endif\x0A    float invmax = inversesqrt( max( dot(T,T), dot(B,B) ) );\x0A    return mat3( T * invmax, B * invmax, N );\x0A}\x0A\x0A#ifdef WITH_NORMAL_SAMPLER\x0A#define WITH_NORMALMAP_UNSIGNED\x0A\x0Avec3 perturb_normal( vec3 N, vec3 V, vec2 texcoord ){\x0A    vec3 map = texture2D(normalMapUnit, texcoord).xyz;\x0A#ifdef WITH_NORMALMAP_UNSIGNED\x0A    map = map * 255.0/127.0 - 128.0/127.0;\x0A#endif\x0A#ifdef WITH_NORMALMAP_2CHANNEL\x0A    map.z = sqrt(1.0 - dot( map.xy, map.xy ) );\x0A#endif\x0A#ifdef WITH_NORMALMAP_GREEN_UP\x0A    map.y = -map.y;\x0A#endif\x0A    mat3 TBN = cotangent_frame( N, -V, texcoord );\x0A    return normalize( TBN * map );\x0A}\x0A#endif\x0A\x0Avec3 computePointLight(vec3 texel, vec3 normal, vec3 pos, vec3 lPos,\x0A                        float lAmb, float lDif, float lSpec, float lConst, float lLin, float lQuad, float lAtt,\x0A                        vec3 mAmb, vec3 mDif, vec3 mSpec, float mShin) {\x0A\x0A    vec3 bivector = lPos - pos;\x0A\x0A    float specularity = 1.0;\x0A\x0A    #ifdef WITH_MATERIAL_SHININESS\x0A        specularity = mShin;\x0A    #endif\x0A\x0A    float attenuation = 1.0;\x0A\x0A    #ifdef WITH_LIGHT_PRECOMPUTED_ATTENUATION\x0A        attenuation = lAtt;\x0A    #else\x0A        #ifdef WITH_LIGHT_DYNAMIC_ATTENUATION\x0A            float distance = length(bivector);\x0A            attenuation = 1.0 / (lConst + lLin * distance + lQuad * (distance * distance));\x0A        #endif\x0A    #endif\x0A\x0A    #ifdef WITH_GLOSS_SAMPLER\x0A        vec2  roughnessV = texture2D(glossMapUnit, uGlossUnitCoords.xy + (uGlossUnitCoords.zw - uGlossUnitCoords.xy) * vTexCoord).rg;\x0A        float roughness = (1-roughnessV.r) + uMaterialDiffuse.z * (1.0 - roughnessV.g);\x0A    #endif\x0A    #ifdef WITH_SPECULAR_SAMPLER\x0A        specularity = texture2D(specularMapUnit, uSpecularUnitCoords.xy + (uSpecularUnitCoords.zw - uSpecularUnitCoords.xy) * vTexCoord).r * 255.0;\x0A    #endif\x0A\x0A    vec3 L = normalize(bivector);\x0A    vec3 E = normalize(-pos);\x0A    vec3 R = normalize(-reflect(L, normal));\x0A\x0A    vec3 ambient = texel;\x0A    #ifdef WITH_LIGHT_AMBIENT\x0A        ambient *= lAmb;\x0A    #endif\x0A\x0A    vec3 diffuse = texel;\x0A    #ifdef WITH_MATERIAL_DIFFUSE\x0A       diffuse += mDif;\x0A    #endif\x0A    #ifdef WITH_LIGHT_DIFFUSE\x0A        diffuse *= lDif;\x0A    #endif\x0A    #ifdef WITH_GLOSS_SAMPLER\x0A        diffuse *= roughness;\x0A    #endif\x0A\x0A    diffuse *= max(dot(normal, L), 0.0);\x0A    diffuse *= attenuation;\x0A\x0A    vec3 specular = texel;\x0A    #ifdef WITH_MATERIAL_SPECULAR\x0A        specular += mSpec;\x0A    #endif\x0A    #ifdef WITH_LIGHT_SPECULAR\x0A        specular *= lSpec;\x0A    #endif\x0A    #ifdef WITH_GLOSS_SAMPLER\x0A        specular *= roughness;\x0A    #endif\x0A\x0A    specular *= pow(max(dot(R, E), 0.0), specularity);\x0A    specular *= attenuation;\x0A\x0A    texel = clamp((ambient + diffuse + specular), 0.0, 1.0);\x0A\x0A\x0A    #ifdef WITH_REFLECTION_SAMPLER\x0A        vec3 r = reflect( -pos, normal );\x0A        float m = 2.0 * sqrt( r.x*r.x + r.y*r.y + (r.z+1.0)*(r.z+1.0) );\x0A        vec2 vReflCoord = vec2(r.x/m + 0.5, r.y/m + 0.5);\x0A        vec3 reflectColor = texture2D(reflectMapUnit, uReflectUnitCoords.xy + (uReflectUnitCoords.zw - uReflectUnitCoords.xy) * vReflCoord).xyz * uReflectivity;\x0A\x0A        #ifdef WITH_FALLOF_SAMPLER\x0A            float rampPercent = 0.05;\x0A\x0A            vec2 rampTexCoord = uFallofUnitCoords.xy + (uFallofUnitCoords.zw - uFallofUnitCoords.xy);\x0A            float rampR = texture2D(falloffMapUnit, rampTexCoord * vec2((1.0-reflectColor.r+rampPercent), 0)).r;\x0A            float rampG = texture2D(falloffMapUnit, rampTexCoord * vec2((1.0-reflectColor.g+rampPercent), 0)).g;\x0A            float rampB = texture2D(falloffMapUnit, rampTexCoord * vec2((1.0-reflectColor.b+rampPercent), 0)).b;\x0A\x0A            reflectColor = vec3(rampR, rampG, rampB);\x0A        #endif\x0A\x0A        texel += reflectColor;\x0A    #endif\x0A\x0A    return texel;\x0A}\x0A\x0Avec4 computeTexel() {\x0A    vec4 texel = vec4(0.0, 0.0, 0.0, 0.0);\x0A\x0A    #ifdef WITH_MATERIAL_EMISSION\x0A        texel += uMaterialEmission;\x0A    #endif\x0A\x0A    #ifdef WITH_MATERIAL_AMBIENT\x0A       texel += uMaterialAmbient;\x0A    #endif\x0A\x0A    #ifdef WITH_AMBIENT_SAMPLER\x0A        texel += texture2D(texUnit, uTexUnitCoords.xy + (uTexUnitCoords.zw - uTexUnitCoords.xy) * vTexCoord);\x0A    #endif\x0A\x0A    #ifdef WITH_V_POSITION\x0A        #ifdef WITH_V_TANGENT\x0A            mat3 TBN = mat3(vTangent, vBinormal, vNormal);\x0A            vec2 normalTexcoord = vec2(uNormalUnitCoords.xy + (uNormalUnitCoords.zw - uNormalUnitCoords.xy) * vTexCoord);\x0A            vec3 bumpNormal = vec4(texture2D(normalMapUnit, normalTexcoord)).xyz * 255.0/127.0 - 128.0/127.0;\x0A            vec3 normal = TBN * bumpNormal;\x0A            normal = normalize(normal);\x0A        #else\x0A            #ifdef WITH_V_NORMAL\x0A                vec3 normal = normalize(vNormal);\x0A\x0A                #ifdef WITH_NORMAL_SAMPLER\x0A                    #ifdef WITH_TBN_FROM_NORMALS\x0A                        normal = perturb_normal(normal, vPosition, uNormalUnitCoords.xy + (uNormalUnitCoords.zw - uNormalUnitCoords.xy) * vTexCoord);\x0A                    #endif\x0A                #endif\x0A            #endif\x0A        #endif\x0A\x0A        #ifdef WITH_RIM_LIGHT\x0A            float vdn = 1.0 - max(dot(normalize(-vPosition), normal), 0.0);\x0A            vec4 rim = vec4(smoothstep(0.0, 1.0, vdn));\x0A            texel += rim;\x0A        #endif\x0A\x0A        #ifdef WITH_LIGHT_POSITION\x0A            #ifdef WITH_LIGHT_0\x0A            texel = vec4(computePointLight(texel.xyz, normal, vPosition.xyz, uLightPosition0.xyz,\x0A                                            uLightAmbient0, uLightDiffuse0, uLightSpecular0, uLightConstant0, uLightLinear0, uLightQuadratic0, uAttenuation0,\x0A                                            uMaterialAmbient.xyz, uMaterialDiffuse.xyz, uMaterialSpecular.xyz, uMaterialShininess), texel.w);\x0A            #endif\x0A            #ifdef WITH_LIGHT_1\x0A            texel = vec4(computePointLight(texel.xyz, normal, vPosition.xyz, uLightPosition1.xyz,\x0A                                            uLightAmbient1, uLightDiffuse1, uLightSpecular1, uLightConstant1, uLightLinear1, uLightQuadratic1, uAttenuation1,\x0A                                            uMaterialAmbient.xyz, uMaterialDiffuse.xyz, uMaterialSpecular.xyz, uMaterialShininess), texel.w);\x0A            #endif\x0A            #ifdef WITH_LIGHT_2\x0A            texel = vec4(computePointLight(texel.xyz, normal, vPosition.xyz, uLightPosition2.xyz,\x0A                                            uLightAmbient2, uLightDiffuse2, uLightSpecular2, uLightConstant2, uLightLinear2, uLightQuadratic2, uAttenuation2,\x0A                                            uMaterialAmbient.xyz, uMaterialDiffuse.xyz, uMaterialSpecular.xyz, uMaterialShininess), texel.w);\x0A            #endif\x0A            #ifdef WITH_LIGHT_3\x0A            texel = vec4(computePointLight(texel.xyz, normal, vPosition.xyz, uLightPosition3.xyz,\x0A                                            uLightAmbient3, uLightDiffuse3, uLightSpecular3, uLightConstant3, uLightLinear3, uLightQuadratic3, uAttenuation3,\x0A                                            uMaterialAmbient.xyz, uMaterialDiffuse.xyz, uMaterialSpecular.xyz, uMaterialShininess), texel.w);\x0A            #endif\x0A            #ifdef WITH_LIGHT_4\x0A            texel = vec4(computePointLight(texel.xyz, normal, vPosition.xyz, uLightPosition4.xyz,\x0A                                            uLightAmbient4, uLightDiffuse4, uLightSpecular4, uLightConstant4, uLightLinear4, uLightQuadratic4, uAttenuation4,\x0A                                            uMaterialAmbient.xyz, uMaterialDiffuse.xyz, uMaterialSpecular.xyz, uMaterialShininess), texel.w);\x0A            #endif\x0A            #ifdef WITH_LIGHT_5\x0A            texel = vec4(computePointLight(texel.xyz, normal, vPosition.xyz, uLightPosition5.xyz,\x0A                                            uLightAmbient5, uLightDiffuse5, uLightSpecular5, uLightConstant5, uLightLinear5, uLightQuadratic5, uAttenuation5,\x0A                                            uMaterialAmbient.xyz, uMaterialDiffuse.xyz, uMaterialSpecular.xyz, uMaterialShininess), texel.w);\x0A            #endif\x0A            #ifdef WITH_LIGHT_6\x0A            texel = vec4(computePointLight(texel.xyz, normal, vPosition.xyz, uLightPosition6.xyz,\x0A                                            uLightAmbient6, uLightDiffuse6, uLightSpecular6, uLightConstant6, uLightLinear6, uLightQuadratic6, uAttenuation6,\x0A                                            uMaterialAmbient.xyz, uMaterialDiffuse.xyz, uMaterialSpecular.xyz, uMaterialShininess), texel.w);\x0A            #endif\x0A            #ifdef WITH_LIGHT_7\x0A            texel = vec4(computePointLight(texel.xyz, normal, vPosition.xyz, uLightPosition7.xyz,\x0A                                            uLightAmbient7, uLightDiffuse7, uLightSpecular7, uLightConstant7, uLightLinear7, uLightQuadratic7, uAttenuation7,\x0A                                            uMaterialAmbient.xyz, uMaterialDiffuse.xyz, uMaterialSpecular.xyz, uMaterialShininess), texel.w);\x0A            #endif\x0A\x0A            // #ifdef WITH_REFLECTION_SAMPLER\x0A            //     vec3 r = -reflect( vPosition.xyz, normal.xyz );\x0A            //     float m = 2.0 * sqrt( r.x*r.x + r.y*r.y + (r.z+1.0)*(r.z+1.0) );\x0A            //     vec2 vReflCoord= vec2(r.x/m + 0.5, r.y/m + 0.5);\x0A            //     texel += texture2D(reflectMapUnit, uReflectUnitCoords.xy + (uReflectUnitCoords.zw - uReflectUnitCoords.xy) * vReflCoord) * uReflectivity;\x0A            // #endif\x0A        #endif\x0A    #endif\x0A\x0A    return texel;\x0A}\x0A\x0Avoid main() {\x0A    gl_FragColor = computeTexel();\x0A\x0A    // vec3 gamma = vec3(1.0/2.2);\x0A    // vec4 linearColor = computeTexel();\x0A    // gl_FragColor = vec4(pow(linearColor.rgb, gamma), linearColor.a);\x0A}\x0A"));
}
else {
m_739800.fragmentshader_738661 = (commonshaderdefines_739812.slice(0,-1)).concat(m_739800.fragmentshader_738661);
}

m_739800.shader_738662 = newshaderprogram_690030(gl_739802, m_739800.vertexshader_738660, m_739800.fragmentshader_738661, [{Field0: 0, Field1: cstrToNimstr("aPosition")}, {Field0: 1, Field1: cstrToNimstr("aTexCoord")}, {Field0: 2, Field1: cstrToNimstr("aNormal")}, {Field0: 4, Field1: cstrToNimstr("aTangent")}, {Field0: 3, Field1: cstrToNimstr("aBinormal")}]);
m_739800.bshaderneedupdate_738663 = 0;
}
function updatesetup_739931(m_739933, v_739934) {
var Tmp1;
var c_739935 = gcurrentcontext_690214[0];
var gl_739936 = c_739935.gl_690204;
if ((m_739933.shader_738662 == 0)) Tmp1 = true; else {Tmp1 = m_739933.bshaderneedupdate_738663; }if (Tmp1) {
setupsamplerattributes_738973(m_739933);
setupmaterialattributes_739346(m_739933);
if (m_739933.islightreceiver_738654) {
setuplightattributes_739454(m_739933, v_739934);
}

setupnormalmappingtechniquewithoutprecomputedtangents_739748(m_739933);
setuprimlighttechnique_739770(m_739933);
createshader_739798(m_739933);
}

gl_739936.useProgram(m_739933.shader_738662);
setupsamplerattributes_738973(m_739933);
setupmaterialattributes_739346(m_739933);
if (m_739933.islightreceiver_738654) {
setuplightattributes_739454(m_739933, v_739934);
}

settransformuniform_690607(c_739935, m_739933.shader_738662);
if (!(m_739933.transform_738653 == null)) {
gl_739936.uniformMatrix4fv(gl_739936.getUniformLocation(m_739933.shader_738662, "modelMatrix"), 0, m_739933.transform_738653.modelmatrix_738273);
gl_739936.uniformMatrix3fv(gl_739936.getUniformLocation(m_739933.shader_738662, "normalMatrix"), 0, m_739933.transform_738653.normalmatrix_738274);
}

if (m_739933.blendenable_738655) {
gl_739936.enable(gl_739936.BLEND);
gl_739936.blendFunc(gl_739936.SRC_ALPHA, gl_739936.ONE_MINUS_SRC_ALPHA);
}
else {
gl_739936.disable(gl_739936.BLEND);
}

if (m_739933.depthenable_738656) {
gl_739936.enable(gl_739936.DEPTH_TEST);
}

}
function updatesetup_740002(m_739933, v_739934) {
updatesetup_739931(m_739933, v_739934);
}
function draw_741918(m_741920) {
BeforeRet: do {
var c_741921 = gcurrentcontext_690214[0];
var gl_741922 = c_741921.gl_690204;
if ((m_741920.indexbuffer_741205 == 0)) {
load_741907(m_741920);
if ((m_741920.indexbuffer_741205 == 0)) {
break BeforeRet;
}

}

gl_741922.bindBuffer(gl_741922.ARRAY_BUFFER, m_741920.vertexbuffer_741206);
gl_741922.bindBuffer(gl_741922.ELEMENT_ARRAY_BUFFER, m_741920.indexbuffer_741205);
updatevertexattributessetup_738809(m_741920.material_741212, m_741920.vertinfo_741211);
updatetransformsetup_739792(m_741920.material_741212, m_741920.node_713088.translation_713023, m_741920.node_713088.rotation_713024, m_741920.node_713088.scale_713025);
updatesetup_740002(m_741920.material_741212, sceneview_717001(m_741920.node_713088));
if (m_741920.material_741212.benablebackfaceculling_738658) {
gl_741922.enable(gl_741922.CULL_FACE);
gl_741922.cullFace(gl_741922.BACK);
}

gl_741922.drawElements(gl_741922.TRIANGLES, m_741920.numberofindices_741207, gl_741922.UNSIGNED_SHORT, 0);
gl_741922.disable(gl_741922.CULL_FACE);
        gl_741922.bindBuffer(gl_741922.ELEMENT_ARRAY_BUFFER, null);
        gl_741922.bindBuffer(gl_741922.ARRAY_BUFFER, null);
        gl_741922.disable(gl_741922.DEPTH_TEST);
gl_741922.activeTexture(gl_741922.TEXTURE0);
gl_741922.enable(gl_741922.BLEND);
} while (false); 
}
function draw_747050(s_747052) {
var c_747053 = gcurrentcontext_690214[0];
var r_747054 = {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}};
nimCopy(r_747054.Field1, s_747052.size_747006, NTI20010);
nimCopy(c_747053.fillcolor_690206, s_747052.color_747007, NTI20018);
c_747053.strokewidth_690208 = 0.0;
drawrect_693149(c_747053, r_747054);
}
function newseq_744118(len_744122) {
var result_744124 = null;
result_744124 = new Array(len_744122); for (var i=0;i<len_744122;++i) {result_744124[i]={Field0: [0.0, 0.0, 0.0], Field1: [0.0, 0.0, 0.0, 0.0], Field2: [0.0, 0.0, 0.0], Field3: [0.0, 0.0, 0.0], Field4: [0.0, 0.0, 0.0, 0.0], Field5: 0.0, Field6: 0.0};}return result_744124;
}
function random_19308(max_19310) {
var result_19421 = 0.0;
result_19421 = (Math.random() * max_19310);
return result_19421;
}
function degtorad_711163(d_711167) {
var result_711168 = 0.0;
result_711168 = (d_711167 * 1.7453292519943295e-02);
return result_711168;
}
function newquaternion_711155(angle_711157, axis_711158) {
var result_711159 = [0.0, 0.0, 0.0, 0.0];
var normaxis_711160 = /**/[nimCopy(null, axis_711158, NTI21068)];
normalize_21182(normaxis_711160[0]);
var rangle_711170 = (degtorad_711163(angle_711157) / 2.0000000000000000e+00);
var sinangle_711171 = Math.sin(rangle_711170);
var cosangle_711172 = Math.cos(rangle_711170);
result_711159[3] = cosangle_711172;
result_711159[0] = (normaxis_711160[0][0] * sinangle_711171);
result_711159[1] = (normaxis_711160[0][1] * sinangle_711171);
result_711159[2] = (normaxis_711160[0][2] * sinangle_711171);
return result_711159;
}
var Forwardvector_711005 = nimCopy(null, [0.0, 0.0, -1.0000000000000000e+00], NTI21068);
function HEX2DHEX3D_40927(x_40932, x_40932_Idx, y_40934) {
x_40932[x_40932_Idx] = (x_40932[x_40932_Idx] - y_40934);
}
function HEX2BHEX3D_744227(v1_744247, v2_744263) {
L1: do {
var i_744298 = 0;
var HEX3Atmp_744310 = {a_14056: 0, b_14058: 0};
HEX3Atmp_744310 = HEX2EHEX2E_31611(0, 2);
L2: do {
var x_744314 = 0;
var HEX3Atmp_744316 = 0;
var HEX3Atmp_744318 = 0;
HEX3Atmp_744316 = HEX3Atmp_744310.a_14056;
HEX3Atmp_744318 = HEX3Atmp_744310.b_14058;
var res_744320 = HEX3Atmp_744316;
L3: do {
L4: while (true) {
if (!(res_744320 <= HEX3Atmp_744318)) break L4;
x_744314 = res_744320;
i_744298 = x_744314;
HEX2BHEX3D_20111(v1_744247, chckIndx(i_744298, 0, v1_744247.length)-0, v2_744263[chckIndx(i_744298, 0, v2_744263.length)-0]);
res_744320 = addInt(res_744320, 1);
}
} while(false);
} while(false);
} while(false);
}
function lengthsquared_711807(q_711809) {
var result_711810 = 0.0;
result_711810 = ((((q_711809[3] * q_711809[3]) + (q_711809[0] * q_711809[0])) + (q_711809[1] * q_711809[1])) + (q_711809[2] * q_711809[2]));
return result_711810;
}
function isaround_711827(lhs_711829, rhs_711830) {
var Tmp1;
var result_711831 = false;
if (!(rhs_711830 <= (lhs_711829 + 9.9999999999999995e-07))) Tmp1 = false; else {Tmp1 = ((lhs_711829 - 9.9999999999999995e-07) <= rhs_711830); }result_711831 = Tmp1;
return result_711831;
}
function HEX2A_711840(v_711859, scalar_711861) {
var result_711876 = [0.0, 0.0, 0.0, 0.0];
L1: do {
var i_711911 = 0;
var HEX3Atmp_711913 = {a_14056: 0, b_14058: 0};
HEX3Atmp_711913 = HEX2EHEX2E_31611(0, 3);
L2: do {
var x_711917 = 0;
var HEX3Atmp_711919 = 0;
var HEX3Atmp_711921 = 0;
HEX3Atmp_711919 = HEX3Atmp_711913.a_14056;
HEX3Atmp_711921 = HEX3Atmp_711913.b_14058;
var res_711923 = HEX3Atmp_711919;
L3: do {
L4: while (true) {
if (!(res_711923 <= HEX3Atmp_711921)) break L4;
x_711917 = res_711923;
i_711911 = x_711917;
result_711876[chckIndx(i_711911, 0, result_711876.length)-0] = (v_711859[chckIndx(i_711911, 0, v_711859.length)-0] * scalar_711861);
res_711923 = addInt(res_711923, 1);
}
} while(false);
} while(false);
} while(false);
return result_711876;
}
function normalized_711833(q_711835) {
var Tmp1;
var result_711836 = [0.0, 0.0, 0.0, 0.0];
BeforeRet: do {
var lensquared_711837 = lengthsquared_711807(q_711835);
if (!(0.0 < lensquared_711837)) Tmp1 = false; else {Tmp1 = !(isaround_711827(lensquared_711837, 1.0000000000000000e+00)); }if (Tmp1) {
var invlen_711838 = (1.0000000000000000e+00 / Math.sqrt(lensquared_711837));
nimCopy(result_711836, HEX2A_711840(q_711835, invlen_711838), NTI711864);
break BeforeRet;
}
else {
nimCopy(result_711836, q_711835, NTI21087);
break BeforeRet;
}

} while (false); 
return result_711836;
}
function multiply_711243(q1_711245, rhs_711246, res_711248) {
res_711248[3] = ((((q1_711245[3] * rhs_711246[3]) - (q1_711245[0] * rhs_711246[0])) - (q1_711245[1] * rhs_711246[1])) - (q1_711245[2] * rhs_711246[2]));
res_711248[0] = ((((q1_711245[3] * rhs_711246[0]) + (q1_711245[0] * rhs_711246[3])) + (q1_711245[1] * rhs_711246[2])) - (q1_711245[2] * rhs_711246[1]));
res_711248[1] = ((((q1_711245[3] * rhs_711246[1]) + (q1_711245[1] * rhs_711246[3])) + (q1_711245[2] * rhs_711246[0])) - (q1_711245[0] * rhs_711246[2]));
res_711248[2] = ((((q1_711245[3] * rhs_711246[2]) + (q1_711245[2] * rhs_711246[3])) + (q1_711245[0] * rhs_711246[1])) - (q1_711245[1] * rhs_711246[0]));
}
function HEX2A_711321(lhs_711323, rhs_711324) {
var result_711325 = [[0.0, 0.0, 0.0, 0.0]];
multiply_711243(lhs_711323, rhs_711324, result_711325[0]);
return result_711325[0];
}
function component_744369(n_744373) {
var result_744376 = null;
result_744376 = component_718042(n_744373, cstrToNimstr("Particle"));
return result_744376;
}
function update_717653(c_717655) {
c_717655.updateproc_717612();
}
function update_717565(c_717567) {
}
function update_717569(c_717567) {
if (isObj(c_717567.m_type, NTI717609)) {
update_717653(c_717567);
}
else {
if (isObj(c_717567.m_type, NTI713087)) {
update_717565(c_717567);
}
}
}
function update_718771(n_718773) {
if (!(n_718773.components_713052 == null)) {
L1: do {
var k_718810 = null;
var v_718811 = null;
var HEX3Atmp_718813 = null;
HEX3Atmp_718813 = n_718773.components_713052;
L2: do {
var h_718817 = 0;
var HEX3Atmp_718819 = 0;
HEX3Atmp_718819 = (HEX3Atmp_718813.data_713048 != null ? (HEX3Atmp_718813.data_713048.length-1) : -1);
var res_718821 = 0;
L3: do {
L4: while (true) {
if (!(res_718821 <= HEX3Atmp_718819)) break L4;
h_718817 = res_718821;
if (isfilled_639263(HEX3Atmp_718813.data_713048[chckIndx(h_718817, 0, HEX3Atmp_718813.data_713048.length)-0].Field0)) {
k_718810 = HEX3Atmp_718813.data_713048[chckIndx(h_718817, 0, HEX3Atmp_718813.data_713048.length)-0].Field1;
v_718811 = HEX3Atmp_718813.data_713048[chckIndx(h_718817, 0, HEX3Atmp_718813.data_713048.length)-0].Field2;
update_717569(v_718811);
}

res_718821 = addInt(res_718821, 1);
}
} while(false);
} while(false);
} while(false);
}

}
function recursiveupdate_718824(n_718826) {
update_718771(n_718826);
L1: do {
var c_719002 = null;
var HEX3Atmp_719004 = null;
HEX3Atmp_719004 = n_718826.children_713054;
var i_719007 = 0;
var L_719009 = (HEX3Atmp_719004 != null ? HEX3Atmp_719004.length : 0);
L2: do {
L3: while (true) {
if (!(i_719007 < L_719009)) break L3;
c_719002 = HEX3Atmp_719004[chckIndx(i_719007, 0, HEX3Atmp_719004.length)-0];
recursiveupdate_718824(c_719002);
i_719007 = addInt(i_719007, 1);
if (!(((HEX3Atmp_719004 != null ? HEX3Atmp_719004.length : 0) == L_719009))) {
failedassertimpl_14716(cstrToNimstr("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
}
function drawellipseinrect_693286(c_693288, r_693289) {
var Tmp2;
var ctx_693291 = gcurrentcontext_690214[0];
var gl_693293 = ctx_693291.gl_690204;
if ((ellipsecomposition_693285[0].program_691905 == 0)) {
compilecomposition_692022(gl_693293, ellipsecomposition_693285[0]);
}

gl_693293.useProgram(ellipsecomposition_693285[0].program_691905);
var vertexex_693295 = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0];
var points_693297 = nimCopy(null, [minx_20039(r_693289), miny_20047(r_693289), maxx_20043(r_693289), miny_20047(r_693289), maxx_20043(r_693289), maxy_20051(r_693289), minx_20039(r_693289), maxy_20051(r_693289)], NTI693348);
var componentcount_693299 = 2;
gl_693293.enableVertexAttribArray(0);
vertexattribpointer_654201(gl_693293, 0, componentcount_693299, 0, 0, points_693297);
gl_693293.uniformMatrix4fv(gl_693293.getUniformLocation(ellipsecomposition_693285[0].program_691905, "uModelViewProjectionMatrix"), 0, ctx_693291.ptransform_690205);
var texindex_693329 = 0;
var thequad_693331 = [0.0, 0.0, 0.0, 0.0];
setrectuniform_690808(ctx_693291, ellipsecomposition_693285[0].program_691905, "bounds", r_693289);
L1: do {
setcoloruniform_690611(ctx_693291, ellipsecomposition_693285[0].program_691905, "uFillColor", c_693288.fillcolor_690206);
if ((c_693288.strokewidth_690208 == 0.0)) {
Tmp2 = c_693288.fillcolor_690206;
}
else {
Tmp2 = c_693288.strokecolor_690207;
}

setcoloruniform_690611(ctx_693291, ellipsecomposition_693285[0].program_691905, "uStrokeColor", Tmp2);
gl_693293.uniform1f(gl_693293.getUniformLocation(ellipsecomposition_693285[0].program_691905, "uStrokeWidth"), c_693288.strokewidth_690208);
} while(false);
gl_693293.drawArrays(gl_693293.TRIANGLE_FAN, 0, HEX2F_14010(8, (componentcount_693299|0)));
}
function draw_744086(p_744088) {
BeforeRet: do {
if (p_744088.particleprototype_744023 == null) {
break BeforeRet;
}

if (p_744088.particles_744027 == null) {
p_744088.particles_744027 = newseq_744118(chckRange(p_744088.numberofparticles_744024, 0, 2147483647));
}
else {
if (!(((p_744088.particles_744027 != null ? p_744088.particles_744027.length : 0) == p_744088.numberofparticles_744024))) {
p_744088.particles_744027.length = chckRange(p_744088.numberofparticles_744024, 0, 2147483647);
}
}
var curtime_744161 = epochtime_699871();
var timediff_744162 = (curtime_744161 - p_744088.lastdrawtime_744028);
L1: do {
var i_744196 = 0;
var HEX3Atmp_744398 = {a_14056: 0, b_14058: 0};
HEX3Atmp_744398 = HEX2EHEX2E_31611(0, subInt((p_744088.particles_744027 != null ? p_744088.particles_744027.length : 0), 1));
L2: do {
var x_744402 = 0;
var HEX3Atmp_744404 = 0;
var HEX3Atmp_744406 = 0;
HEX3Atmp_744404 = HEX3Atmp_744398.a_14056;
HEX3Atmp_744406 = HEX3Atmp_744398.b_14058;
var res_744408 = HEX3Atmp_744404;
L3: do {
L4: while (true) {
if (!(res_744408 <= HEX3Atmp_744406)) break L4;
x_744402 = res_744408;
i_744196 = x_744402;
var needstodraw_744197 = 0;
var drawdebug_744198 = 0;
if ((p_744088.particles_744027[chckIndx(i_744196, 0, p_744088.particles_744027.length)-0].Field6 <= 0.0)) {
if ((p_744088.birthrate_744022 <= (curtime_744161 - p_744088.lastbirthtime_744029))) {
p_744088.lastbirthtime_744029 = curtime_744161;
nimCopy(p_744088.particles_744027[chckIndx(i_744196, 0, p_744088.particles_744027.length)-0].Field0, newvector3_21136((random_19308(6.0000000000000000e+00) - 3.0000000000000000e+00), random_19308(3.0000000000000000e+00), 0.0), NTI21068);
nimCopy(p_744088.particles_744027[chckIndx(i_744196, 0, p_744088.particles_744027.length)-0].Field0, newvector3_21136(0.0, 0.0, 0.0), NTI21068);
nimCopy(p_744088.particles_744027[chckIndx(i_744196, 0, p_744088.particles_744027.length)-0].Field2, newvector3_21136(1.0000000000000000e+00, 1.0000000000000000e+00, 1.0000000000000000e+00), NTI21068);
nimCopy(p_744088.particles_744027[chckIndx(i_744196, 0, p_744088.particles_744027.length)-0].Field1, newquaternion_711135(), NTI21087);
nimCopy(p_744088.particles_744027[chckIndx(i_744196, 0, p_744088.particles_744027.length)-0].Field3, newvector3_21136((1.0000000000000000e+01 * (random_19308(2.0000000000000000e+00) - 1.0000000000000000e+00)), ((-2.0000000000000000e+01 * random_19308(1.0000000000000000e+00)) + (3.0000000000000000e+00 * (random_19308(2.0000000000000000e+00) - 1.0000000000000000e+00))), 0.0), NTI21068);
p_744088.particles_744027[chckIndx(i_744196, 0, p_744088.particles_744027.length)-0].Field5 = (p_744088.lifetime_744021 + (p_744088.lifetime_744021 * (random_19308(2.0000000000000001e-01) - 1.0000000000000001e-01)));
p_744088.particles_744027[chckIndx(i_744196, 0, p_744088.particles_744027.length)-0].Field6 = p_744088.particles_744027[chckIndx(i_744196, 0, p_744088.particles_744027.length)-0].Field5;
nimCopy(p_744088.particles_744027[chckIndx(i_744196, 0, p_744088.particles_744027.length)-0].Field4, newquaternion_711155((random_19308(1.0000000000000000e+01) - 5.0000000000000000e+00), Forwardvector_711005), NTI21087);
needstodraw_744197 = 1;
drawdebug_744198 = 1;
}

}
else {
HEX2DHEX3D_40927(p_744088.particles_744027[chckIndx(i_744196, 0, p_744088.particles_744027.length)-0], "Field6", timediff_744162);
HEX2BHEX3D_744227(p_744088.particles_744027[chckIndx(i_744196, 0, p_744088.particles_744027.length)-0].Field3, p_744088.gravity_744025);
HEX2BHEX3D_744227(p_744088.particles_744027[chckIndx(i_744196, 0, p_744088.particles_744027.length)-0].Field0, p_744088.particles_744027[chckIndx(i_744196, 0, p_744088.particles_744027.length)-0].Field3);
nimCopy(p_744088.particles_744027[chckIndx(i_744196, 0, p_744088.particles_744027.length)-0].Field1, normalized_711833(HEX2A_711321(p_744088.particles_744027[chckIndx(i_744196, 0, p_744088.particles_744027.length)-0].Field1, p_744088.particles_744027[chckIndx(i_744196, 0, p_744088.particles_744027.length)-0].Field4)), NTI21087);
needstodraw_744197 = 1;
}

if (needstodraw_744197) {
var proto_744365 = p_744088.particleprototype_744023;
nimCopy(proto_744365.translation_713023, p_744088.particles_744027[chckIndx(i_744196, 0, p_744088.particles_744027.length)-0].Field0, NTI21068);
nimCopy(proto_744365.rotation_713024, p_744088.particles_744027[chckIndx(i_744196, 0, p_744088.particles_744027.length)-0].Field1, NTI21087);
nimCopy(proto_744365.scale_713025, p_744088.particles_744027[chckIndx(i_744196, 0, p_744088.particles_744027.length)-0].Field2, NTI21068);
var pc_744367 = component_744369(proto_744365);
pc_744367.remaininglifetime_744018 = p_744088.particles_744027[chckIndx(i_744196, 0, p_744088.particles_744027.length)-0].Field6;
pc_744367.initiallifetime_744017 = p_744088.particles_744027[chckIndx(i_744196, 0, p_744088.particles_744027.length)-0].Field5;
recursiveupdate_718824(proto_744365);
recursivedraw_719021(proto_744365);
if (drawdebug_744198) {
var c_744387 = gcurrentcontext_690214[0];
nimCopy(c_744387.fillcolor_690206, newcolor_20147(1.0000000000000000e+00, 0.0, 0.0, 1.0000000000000000e+00), NTI20018);
c_744387.strokewidth_690208 = 0.0;
drawellipseinrect_693286(c_744387, newrect_20072((p_744088.particles_744027[chckIndx(i_744196, 0, p_744088.particles_744027.length)-0].Field0[0] - 1.0000000000000000e+01), (p_744088.particles_744027[chckIndx(i_744196, 0, p_744088.particles_744027.length)-0].Field0[1] - 1.0000000000000000e+01), 2.0000000000000000e+01, 2.0000000000000000e+01));
}

}

res_744408 = addInt(res_744408, 1);
}
} while(false);
} while(false);
} while(false);
p_744088.lastdrawtime_744028 = curtime_744161;
} while (false); 
}
function HEX2AHEX3D_750197(v_750217, scalar_750219) {
L1: do {
var i_750254 = 0;
var HEX3Atmp_750266 = {a_14056: 0, b_14058: 0};
HEX3Atmp_750266 = HEX2EHEX2E_31611(0, 2);
L2: do {
var x_750270 = 0;
var HEX3Atmp_750272 = 0;
var HEX3Atmp_750274 = 0;
HEX3Atmp_750272 = HEX3Atmp_750266.a_14056;
HEX3Atmp_750274 = HEX3Atmp_750266.b_14058;
var res_750276 = HEX3Atmp_750272;
L3: do {
L4: while (true) {
if (!(res_750276 <= HEX3Atmp_750274)) break L4;
x_750270 = res_750276;
i_750254 = x_750270;
HEX2AHEX3D_22141(v_750217, chckIndx(i_750254, 0, v_750217.length)-0, scalar_750219);
res_750276 = addInt(res_750276, 1);
}
} while(false);
} while(false);
} while(false);
}
function draw_750096(t_750098) {
var Tmp1;
if (!(t_750098.text_750011 == null)) {
var c_750099 = gcurrentcontext_690214[0];
var p_750100 = [{Field0: 0.0, Field1: 0.0}];
var hs_750101 = t_750098.font_750013.horizontalspacing_656317;
t_750098.font_750013.horizontalspacing_656317 = t_750098.trackingamount_750014;
if (!((t_750098.justification_750015 == 0))) {
var textsize_750111 = sizeofstring_658255(t_750098.font_750013, t_750098.text_750011);
if ((t_750098.justification_750015 == 1)) {
HEX2DHEX3D_20240(p_750100[0], "Field0", (textsize_750111.Field0 / 2.0000000000000000e+00));
}
else {
HEX2DHEX3D_20240(p_750100[0], "Field0", textsize_750111.Field0);
}

}

HEX2DHEX3D_20240(p_750100[0], "Field1", t_750098.font_750013.msize_656313);
if (!((t_750098.shadowx_750016 == 0.0))) Tmp1 = true; else {Tmp1 = !((t_750098.shadowy_750017 == 0.0)); }if (Tmp1) {
nimCopy(c_750099.fillcolor_690206, t_750098.shadowcolor_750018, NTI20018);
var px_750151 = p_750100[0].Field0;
var py_750152 = p_750100[0].Field1;
var sv_750153 = newvector3_21136(t_750098.shadowx_750016, t_750098.shadowy_750017, 0.0);
var wsv_750154 = /**/[localtoworld_720101(t_750098.node_713088, sv_750153)];
var wo_750155 = localtoworld_720101(t_750098.node_713088, newvector3_21136(0.0, 0.0, 0.0));
HEX2DHEX3D_731201(wsv_750154[0], wo_750155);
normalize_21182(wsv_750154[0]);
HEX2AHEX3D_750197(wsv_750154[0], length_21157(sv_750153));
p_750100[0].Field0 = (px_750151 + wsv_750154[0][0]);
p_750100[0].Field1 = (py_750152 + wsv_750154[0][1]);
drawtext_693396(c_750099, t_750098.font_750013, p_750100[0], t_750098.text_750011);
p_750100[0].Field0 = px_750151;
p_750100[0].Field1 = py_750152;
}

nimCopy(c_750099.fillcolor_690206, t_750098.color_750012, NTI20018);
drawtext_693396(c_750099, t_750098.font_750013, p_750100[0], t_750098.text_750011);
t_750098.font_750013.horizontalspacing_656317 = hs_750101;
}

}
function image_749013(s_749015) {
var Tmp1;
var result_749016 = null;
if (!!(s_749015.images_749008 == null)) Tmp1 = false; else {Tmp1 = (s_749015.currentframe_749009 < (s_749015.images_749008 != null ? s_749015.images_749008.length : 0)); }if (Tmp1) {
result_749016 = s_749015.images_749008[chckIndx(s_749015.currentframe_749009, 0, s_749015.images_749008.length)-0];
}

return result_749016;
}
function draw_749093(s_749095) {
var c_749096 = gcurrentcontext_690214[0];
var r_749097 = {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}};
nimCopy(r_749097.Field0, s_749095.offset_749006, NTI20006);
var i_749098 = image_749013(s_749095);
if (!(i_749098 == null)) {
nimCopy(r_749097.Field1, size_684344(i_749098), NTI20010);
drawimage_693468(c_749096, i_749098, r_749097, {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}}, 1.0000000000000000e+00);
}

}
function draw_717559(c_717561) {
}
function draw_717563(c_717561) {
if (isObj(c_717561.m_type, NTI717616)) {
draw_717656(c_717561);
}
else {
if (isObj(c_717561.m_type, NTI732058)) {
draw_732099(c_717561);
}
else {
if (isObj(c_717561.m_type, NTI713144)) {
draw_731329(c_717561);
}
else {
if (isObj(c_717561.m_type, NTI743005)) {
draw_743017(c_717561);
}
else {
if (isObj(c_717561.m_type, NTI741203)) {
draw_741918(c_717561);
}
else {
if (isObj(c_717561.m_type, NTI747005)) {
draw_747050(c_717561);
}
else {
if (isObj(c_717561.m_type, NTI744020)) {
draw_744086(c_717561);
}
else {
if (isObj(c_717561.m_type, NTI750010)) {
draw_750096(c_717561);
}
else {
if (isObj(c_717561.m_type, NTI749005)) {
draw_749093(c_717561);
}
else {
if (isObj(c_717561.m_type, NTI713087)) {
draw_717559(c_717561);
}
}}}}}}}}}
}
function isposteffectcomponent_743215(c_743217) {
var result_743218 = false;
result_743218 = 1;
return result_743218;
}
function isposteffectcomponent_732281(c_732283) {
var Tmp1;
var Tmp2;
var Tmp3;
var Tmp4;
var result_732284 = false;
if (!(c_732283.inwhite_732059 == 1.0000000000000000e+00)) Tmp4 = false; else {Tmp4 = (c_732283.inblack_732060 == 0.0); }if (!Tmp4) Tmp3 = false; else {Tmp3 = (c_732283.ingamma_732061 == 1.0000000000000000e+00); }if (!Tmp3) Tmp2 = false; else {Tmp2 = (c_732283.outwhite_732062 == 1.0000000000000000e+00); }if (!Tmp2) Tmp1 = false; else {Tmp1 = (c_732283.outblack_732063 == 0.0); }result_732284 = !(Tmp1);
return result_732284;
}
function isposteffectcomponent_717583(c_717585) {
var result_717586 = false;
result_717586 = 0;
return result_717586;
}
function isposteffectcomponent_717588(c_717585) {
var result_717591 = false;
BeforeRet: do {
if (isObj(c_717585.m_type, NTI743005)) {
result_717591 = isposteffectcomponent_743215(c_717585);
break BeforeRet;
}
else {
if (isObj(c_717585.m_type, NTI732058)) {
result_717591 = isposteffectcomponent_732281(c_717585);
break BeforeRet;
}
else {
if (isObj(c_717585.m_type, NTI713087)) {
result_717591 = isposteffectcomponent_717583(c_717585);
break BeforeRet;
}
}}
} while (false); 
return result_717591;
}
function recursivedraw_719021(n_719023) {
BeforeRet: do {
if ((n_719023.alpha_713085 < 9.9999999999999995e-08)) {
break BeforeRet;
}

var c_719024 = gcurrentcontext_690214[0];
var tr_719025 = /**/[nimCopy(null, c_719024.ptransform_690205, NTI21002)];
var oldalpha_719026 = c_719024.alpha_690212;
HEX2AHEX3D_22141(c_719024, "alpha_690212", n_719023.alpha_713085);
gettransform_719010(n_719023, tr_719025[0]);
var old_719085 = c_719024.ptransform_690205;
c_719024.ptransform_690205 = transformtoref_690216(tr_719025[0]);
var hasposteffectcomponent_719038 = 0;
if (!(n_719023.components_713052 == null)) {
L1: do {
var v_719073 = null;
var HEX3Atmp_719087 = null;
HEX3Atmp_719087 = n_719023.components_713052;
L2: do {
var h_719091 = 0;
var HEX3Atmp_719093 = 0;
HEX3Atmp_719093 = (HEX3Atmp_719087.data_713048 != null ? (HEX3Atmp_719087.data_713048.length-1) : -1);
var res_719095 = 0;
L3: do {
L4: while (true) {
if (!(res_719095 <= HEX3Atmp_719093)) break L4;
h_719091 = res_719095;
if (isfilled_639263(HEX3Atmp_719087.data_713048[chckIndx(h_719091, 0, HEX3Atmp_719087.data_713048.length)-0].Field0)) {
v_719073 = HEX3Atmp_719087.data_713048[chckIndx(h_719091, 0, HEX3Atmp_719087.data_713048.length)-0].Field2;
draw_717563(v_719073);
hasposteffectcomponent_719038 = (hasposteffectcomponent_719038 || isposteffectcomponent_717588(v_719073));
}

res_719095 = addInt(res_719095, 1);
}
} while(false);
} while(false);
} while(false);
}

if (!(hasposteffectcomponent_719038)) {
L5: do {
var c_719082 = null;
var HEX3Atmp_719099 = null;
HEX3Atmp_719099 = n_719023.children_713054;
var i_719102 = 0;
var L_719104 = (HEX3Atmp_719099 != null ? HEX3Atmp_719099.length : 0);
L6: do {
L7: while (true) {
if (!(i_719102 < L_719104)) break L7;
c_719082 = HEX3Atmp_719099[chckIndx(i_719102, 0, HEX3Atmp_719099.length)-0];
recursivedraw_719021(c_719082);
i_719102 = addInt(i_719102, 1);
if (!(((HEX3Atmp_719099 != null ? HEX3Atmp_719099.length : 0) == L_719104))) {
failedassertimpl_14716(cstrToNimstr("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
}

c_719024.ptransform_690205 = old_719085;
c_719024.alpha_690212 = oldalpha_719026;
} while (false); 
}
function draw_730150(v_730152, r_730153) {
BeforeRet: do {
if (v_730152.mrootnode_713092 == null) {
break BeforeRet;
}

var c_730162 = gcurrentcontext_690214[0];
prepareframebuffers_730116(v_730152);
var old_730165 = c_730162.ptransform_690205;
c_730162.ptransform_690205 = transformtoref_690216(getviewmatrix_730127(v_730152));
recursivedraw_719021(v_730152.mrootnode_713092);
c_730162.ptransform_690205 = old_730165;
if ((0 < v_730152.numberofnodeswithbackcompositionincurrentframe_713094)) {
v_730152.numberofnodeswithbackcompositionincurrentframe_713094 = 1;
swapcompositingbuffers_730147(v_730152);
}

} while (false); 
}
function draw_697414(view_697416, rect_697417) {
var c_697418 = gcurrentcontext_690214[0];
nimCopy(c_697418.fillcolor_690206, view_697416.backgroundcolor_696030, NTI20018);
c_697418.strokewidth_690208 = 0.0;
drawrect_693149(c_697418, view_697416.bounds_696024);
}
function draw_756069(c_756071, r_756072) {
if (c_756071.selected_756010) {
var ctx_756073 = gcurrentcontext_690214[0];
nimCopy(ctx_756073.fillcolor_690206, newcolor_20147(0.0, 0.0, 1.0000000000000000e+00, 1.0000000000000000e+00), NTI20018);
ctx_756073.strokewidth_690208 = 0.0;
drawrect_693149(ctx_756073, bounds_697654(c_756071));
}

draw_697414(c_756071, r_756072);
}
function draw_766199(v_766201, r_766202) {
var c_766203 = gcurrentcontext_690214[0];
nimCopy(c_766203.fillcolor_690206, newgraycolor_20154(6.9999999999999996e-01, 1.0000000000000000e+00), NTI20018);
c_766203.strokewidth_690208 = 0.0;
drawroundedrect_693011(c_766203, bounds_697654(v_766201), 5.0000000000000000e+00);
}
function istableviewcell_756042(c_756044) {
var result_756045 = null;
result_756045 = c_756044;
return result_756045;
}
function istableviewcell_756033(c_756035) {
var result_756036 = null;
return result_756036;
}
function istableviewcell_756038(c_756035) {
var result_756041 = null;
BeforeRet: do {
if (isObj(c_756035.m_type, NTI756007)) {
result_756041 = istableviewcell_756042(c_756035);
break BeforeRet;
}
else {
if (isObj(c_756035.m_type, NTI696021)) {
result_756041 = istableviewcell_756033(c_756035);
break BeforeRet;
}
}
} while (false); 
return result_756041;
}
function enclosingtableviewcell_756046(v_756048) {
var result_756049 = null;
BeforeRet: do {
var iv_756050 = v_756048;
L1: do {
L2: while (true) {
if (!!(iv_756050 == null)) break L2;
var cell_756059 = istableviewcell_756038(iv_756050);
if (!(cell_756059 == null)) {
result_756049 = cell_756059;
break BeforeRet;
}

iv_756050 = iv_756050.superview_696027;
}
} while(false);
} while (false); 
return result_756049;
}
function isediting_765067(t_765069) {
var Tmp1;
var Tmp2;
var result_765070 = false;
if (!t_765069.editable_765005) Tmp1 = false; else {if (!!(t_765069.window_696022 == null)) Tmp2 = false; else {Tmp2 = (t_765069.window_696022.firstresponder_696035 == t_765069); }Tmp1 = Tmp2; }result_765070 = Tmp1;
return result_765070;
}
function clearcolor_20168() {
var result_20170 = {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0};
nimCopy(result_20170, newgraycolor_20154(0.0, 0.0), NTI20018);
return result_20170;
}
function drawfocusring_697444(v_697446) {
var c_697447 = gcurrentcontext_690214[0];
nimCopy(c_697447.fillcolor_690206, clearcolor_20168(), NTI20018);
nimCopy(c_697447.strokecolor_690207, newcolor_20147(5.8999999999999997e-01, 7.6000000000000001e-01, 9.4999999999999996e-01, 9.0000000000000002e-01), NTI20018);
c_697447.strokewidth_690208 = 3.0000000000000000e+00;
drawroundedrect_693011(c_697447, inset_20141(v_697446.bounds_696024, -1.0000000000000000e+00, -1.0000000000000000e+00), 2.0000000000000000e+00);
}
function drawcursorwithrect_765091(r_765093) {
if (cursorvisible_765009[0]) {
var c_765094 = gcurrentcontext_690214[0];
nimCopy(c_765094.fillcolor_690206, blackcolor_20162(), NTI20018);
c_765094.strokewidth_690208 = 0.0;
drawrect_693149(c_765094, r_765093);
}

}
function draw_765125(t_765127, r_765128) {
var Tmp1;
var c_765129 = gcurrentcontext_690214[0];
if (t_765127.editable_765005) {
nimCopy(c_765129.fillcolor_690206, whitecolor_20159(), NTI20018);
nimCopy(c_765129.strokecolor_690207, newgraycolor_20154(7.3999999999999999e-01, 1.0000000000000000e+00), NTI20018);
c_765129.strokewidth_690208 = 1.0000000000000000e+00;
drawrect_693149(c_765129, bounds_697654(t_765127));
}

var font_765130 = systemfont_658060();
var texty_765132 = ((height_20035(bounds_697654(t_765127)) - font_765130.msize_656313) / 2.0000000000000000e+00);
if (!(eqStrings(t_765127.text_765004, null))) {
var pt_765133 = /**/[newpoint_20055(3.0000000000000000e+00, texty_765132)];
var cell_765134 = enclosingtableviewcell_756046(t_765127);
if (!!(cell_765134 == null)) Tmp1 = false; else {Tmp1 = cell_765134.selected_756010; }if (Tmp1) {
nimCopy(c_765129.fillcolor_690206, whitecolor_20159(), NTI20018);
}
else {
nimCopy(c_765129.fillcolor_690206, blackcolor_20162(), NTI20018);
}

drawtext_693396(c_765129, systemfont_658060(), pt_765133[0], t_765127.text_765004);
}

if (isediting_765067(t_765127)) {
drawfocusring_697444(t_765127);
drawcursorwithrect_765091(newrect_20072((3.0000000000000000e+00 + cursoroffset_765012[0]), (texty_765132 + 3.0000000000000000e+00), 2.0000000000000000e+00, font_765130.msize_656313));
}

}
function seqtoptr_757425(x_757430) {
return x_757430}
function HEX3DHEX3D_757414(x_757419, y_757422) {
var result_757423 = false;
BeforeRet: do {
if ((seqtoptr_757425(x_757419) == seqtoptr_757425(y_757422))) {
result_757423 = 1;
}
else {
if (((seqtoptr_757425(x_757419) == 0) || (seqtoptr_757425(y_757422) == 0))) {
result_757423 = 0;
}
else {
if (((x_757419 != null ? x_757419.length : 0) == (y_757422 != null ? y_757422.length : 0))) {
L1: do {
var i_757489 = 0;
var HEX3Atmp_757491 = 0;
HEX3Atmp_757491 = subInt((x_757419 != null ? x_757419.length : 0), 1);
var res_757494 = 0;
L2: do {
L3: while (true) {
if (!(res_757494 <= HEX3Atmp_757491)) break L3;
i_757489 = res_757494;
if (!((x_757419[chckIndx(i_757489, 0, x_757419.length)-0] == y_757422[chckIndx(i_757489, 0, y_757422.length)-0]))) {
result_757423 = 0;
break BeforeRet;
}

res_757494 = addInt(res_757494, 1);
}
} while(false);
} while(false);
result_757423 = 1;
}
}}
} while (false); 
return result_757423;
}
function drawdisclosuretriangle_757278(disclosed_757280, r_757281) {
var Tmp2;
var ctx_757283 = gcurrentcontext_690214[0];
var gl_757285 = ctx_757283.gl_690204;
if ((disclosuretrianglecomposition_757277[0].program_691905 == 0)) {
compilecomposition_692022(gl_757285, disclosuretrianglecomposition_757277[0]);
}

gl_757285.useProgram(disclosuretrianglecomposition_757277[0].program_691905);
var vertexex_757287 = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0];
var points_757289 = nimCopy(null, [minx_20039(r_757281), miny_20047(r_757281), maxx_20043(r_757281), miny_20047(r_757281), maxx_20043(r_757281), maxy_20051(r_757281), minx_20039(r_757281), maxy_20051(r_757281)], NTI757340);
var componentcount_757291 = 2;
gl_757285.enableVertexAttribArray(0);
vertexattribpointer_654201(gl_757285, 0, componentcount_757291, 0, 0, points_757289);
gl_757285.uniformMatrix4fv(gl_757285.getUniformLocation(disclosuretrianglecomposition_757277[0].program_691905, "uModelViewProjectionMatrix"), 0, ctx_757283.ptransform_690205);
var texindex_757321 = 0;
var thequad_757323 = [0.0, 0.0, 0.0, 0.0];
setrectuniform_690808(ctx_757283, disclosuretrianglecomposition_757277[0].program_691905, "bounds", r_757281);
L1: do {
if (disclosed_757280) {
Tmp2 = 1.5707963267948966e+00;
}
else {
Tmp2 = 0.0;
}

} while(false);
gl_757285.uniform1f(gl_757285.getUniformLocation(disclosuretrianglecomposition_757277[0].program_691905, "uAngle"), Tmp2);
gl_757285.drawArrays(gl_757285.TRIANGLE_FAN, 0, HEX2F_14010(8, (componentcount_757291|0)));
}
function drawnode_757398(v_757400, n_757401, y_757403, y_757403_Idx) {
var Tmp1;
var c_757404 = gcurrentcontext_690214[0];
if (n_757401.cell_757009 == null) {
n_757401.cell_757009 = v_757400.createcell_757031();
}

n_757401.cell_757009.selected_756010 = HEX3DHEX3D_757414(v_757400.tempindexpath_757042, v_757400.selectedindexpath_757016);
var indent_757506 = addInt(3, mulInt((v_757400.tempindexpath_757042 != null ? v_757400.tempindexpath_757042.length : 0), 3));
setframe_697453(n_757401.cell_757009, newrect_20072(indent_757506, y_757403[y_757403_Idx], (width_20031(bounds_697654(v_757400)) - indent_757506), 2.0000000000000000e+01));
v_757400.configurecell_757037(n_757401.cell_757009, v_757400.tempindexpath_757042);
drawwithinsuperview_697260(n_757401.cell_757009);
if (n_757401.expandable_757005) {
drawdisclosuretriangle_757278(n_757401.expanded_757004, newrect_20072((indent_757506 - 6.0000000000000000e+00), y_757403[y_757403_Idx], 6.0000000000000000e+00, 2.0000000000000000e+01));
}

HEX2BHEX3D_20111(y_757403, y_757403_Idx, 2.0000000000000000e+01);
if (!n_757401.expanded_757004) Tmp1 = false; else {Tmp1 = !(n_757401.children_757007 == null); }if (Tmp1) {
var lastindex_757532 = (v_757400.tempindexpath_757042 != null ? v_757400.tempindexpath_757042.length : 0);
if (v_757400.tempindexpath_757042 != null) { v_757400.tempindexpath_757042.push(0); } else { v_757400.tempindexpath_757042 = [0]; };
L2: do {
var i_757576 = 0;
var c_757577 = null;
var HEX3Atmp_757590 = null;
HEX3Atmp_757590 = n_757401.children_757007;
var i_757593 = 0;
L3: do {
L4: while (true) {
if (!(i_757593 < (HEX3Atmp_757590 != null ? HEX3Atmp_757590.length : 0))) break L4;
i_757576 = i_757593;
c_757577 = HEX3Atmp_757590[chckIndx(i_757593, 0, HEX3Atmp_757590.length)-0];
v_757400.tempindexpath_757042[chckIndx(lastindex_757532, 0, v_757400.tempindexpath_757042.length)-0] = i_757576;
drawnode_757398(v_757400, c_757577, y_757403, y_757403_Idx);
i_757593 = addInt(i_757593, 1);
}
} while(false);
} while(false);
v_757400.tempindexpath_757042.length = chckRange(lastindex_757532, 0, 2147483647);
}

}
function draw_757594(v_757596, r_757597) {
var y_757598 = /**/[0.0];
if (!(v_757596.rootitem_757014.children_757007 == null)) {
v_757596.tempindexpath_757042.length = 1;
L1: do {
var i_757630 = 0;
var c_757631 = null;
var HEX3Atmp_757635 = null;
HEX3Atmp_757635 = v_757596.rootitem_757014.children_757007;
var i_757638 = 0;
L2: do {
L3: while (true) {
if (!(i_757638 < (HEX3Atmp_757635 != null ? HEX3Atmp_757635.length : 0))) break L3;
i_757630 = i_757638;
c_757631 = HEX3Atmp_757635[chckIndx(i_757638, 0, HEX3Atmp_757635.length)-0];
v_757596.tempindexpath_757042[0] = i_757630;
drawnode_757398(v_757596, c_757631, y_757598, 0);
i_757638 = addInt(i_757638, 1);
}
} while(false);
} while(false);
}

}
function draw_697420(view_697416, rect_697417) {
if (isObj(view_697416.m_type, NTI754014)) {
draw_754377(view_697416, rect_697417);
}
else {
if (isObj(view_697416.m_type, NTI713090)) {
draw_730150(view_697416, rect_697417);
}
else {
if (isObj(view_697416.m_type, NTI756007)) {
draw_756069(view_697416, rect_697417);
}
else {
if (isObj(view_697416.m_type, NTI766045)) {
draw_766199(view_697416, rect_697417);
}
else {
if (isObj(view_697416.m_type, NTI765003)) {
draw_765125(view_697416, rect_697417);
}
else {
if (isObj(view_697416.m_type, NTI757013)) {
draw_757594(view_697416, rect_697417);
}
else {
if (isObj(view_697416.m_type, NTI696021)) {
draw_697414(view_697416, rect_697417);
}
}}}}}}
}
function setframeorigin_697611(v_697613, o_697614) {
nimCopy(v_697613.frame_696023.Field0, o_697614, NTI20006);
}
function setframeorigin_697616(v_697613, o_697614) {
setframeorigin_697611(v_697613, o_697614);
}
function HEX2D_20264(s1_20266, s2_20267) {
var result_20268 = {Field0: 0.0, Field1: 0.0};
nimCopy(result_20268, newsize_20061((s1_20266.Field0 - s2_20267.Field0), (s1_20266.Field1 - s2_20267.Field1)), NTI20010);
return result_20268;
}
function resizesubviews_697455(v_697457, oldsize_697458) {
var sizediff_697459 = HEX2D_20264(v_697457.frame_696023.Field1, oldsize_697458);
L1: do {
var s_697468 = null;
var HEX3Atmp_697551 = null;
HEX3Atmp_697551 = v_697457.subviews_696026;
var i_697554 = 0;
var L_697556 = (HEX3Atmp_697551 != null ? HEX3Atmp_697551.length : 0);
L2: do {
L3: while (true) {
if (!(i_697554 < L_697556)) break L3;
s_697468 = HEX3Atmp_697551[chckIndx(i_697554, 0, HEX3Atmp_697551.length)-0];
var newrect_697469 = nimCopy(null, s_697468.frame_696023, NTI20014);
if ((s_697468.autoresizingmask_696029[0] != undefined)) {
HEX2BHEX3D_20111(newrect_697469.Field0, "Field0", sizediff_697459.Field0);
}
else {
if ((s_697468.autoresizingmask_696029[4] != undefined)) {
HEX2BHEX3D_20111(newrect_697469.Field1, "Field0", sizediff_697459.Field0);
}
}
if ((s_697468.autoresizingmask_696029[2] != undefined)) {
HEX2BHEX3D_20111(newrect_697469.Field0, "Field1", sizediff_697459.Field1);
}
else {
if ((s_697468.autoresizingmask_696029[5] != undefined)) {
HEX2BHEX3D_20111(newrect_697469.Field1, "Field1", sizediff_697459.Field1);
}
}
setframe_697453(s_697468, newrect_697469);
i_697554 = addInt(i_697554, 1);
if (!(((HEX3Atmp_697551 != null ? HEX3Atmp_697551.length : 0) == L_697556))) {
failedassertimpl_14716(cstrToNimstr("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
}
function resizesubviews_697558(v_697457, oldsize_697458) {
resizesubviews_697455(v_697457, oldsize_697458);
}
function setboundssize_697560(v_697562, s_697563) {
var oldsize_697564 = nimCopy(null, v_697562.bounds_696024.Field1, NTI20010);
nimCopy(v_697562.bounds_696024.Field1, s_697563, NTI20010);
if (!((v_697562.window_696022 == null))) {
v_697562.window_696022.needsdisplay_696038 = 1;
}

resizesubviews_697558(v_697562, oldsize_697564);
}
function setboundssize_697578(v_697562, s_697563) {
setboundssize_697560(v_697562, s_697563);
}
function setframesize_697603(v_697605, s_697606) {
var oldsize_697607 = nimCopy(null, v_697605.bounds_696024.Field1, NTI20010);
nimCopy(v_697605.frame_696023.Field1, s_697606, NTI20010);
setboundssize_697578(v_697605, s_697606);
}
function setframesize_697609(v_697605, s_697606) {
setframesize_697603(v_697605, s_697606);
}
function setframe_697448(v_697450, r_697451) {
if (!(HEX3DHEX3D_693495(v_697450.frame_696023.Field0, r_697451.Field0))) {
setframeorigin_697616(v_697450, r_697451.Field0);
}

if (!(HEX3DHEX3D_693513(v_697450.frame_696023.Field1, r_697451.Field1))) {
setframesize_697609(v_697450, r_697451.Field1);
}

}
function setframe_697453(v_697450, r_697451) {
setframe_697448(v_697450, r_697451);
}
function setboundsorigin_697580(v_697582, o_697583) {
nimCopy(v_697582.bounds_696024.Field0, o_697583, NTI20006);
if (!((v_697582.window_696022 == null))) {
v_697582.window_696022.needsdisplay_696038 = 1;
}

}
function setboundsorigin_697597(v_697582, o_697583) {
setboundsorigin_697580(v_697582, o_697583);
}
function frame_697640(v_697642) {
var result_697643 = {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}};
nimCopy(result_697643, v_697642.frame_696023, NTI20014);
return result_697643;
}
function frame_697645(v_697642) {
var result_697648 = {Field0: {Field0: 0.0, Field1: 0.0}, Field1: {Field0: 0.0, Field1: 0.0}};
BeforeRet: do {
result_697648 = frame_697640(v_697642);
break BeforeRet;
} while (false); 
return result_697648;
}
function subviewdidchangedesiredsize_697658(v_697660, sub_697661, desiredsize_697662) {
}
function subviewdidchangedesiredsize_697664(v_697660, sub_697661, desiredsize_697662) {
subviewdidchangedesiredsize_697658(v_697660, sub_697661, desiredsize_697662);
}
function titleHEX3D_702021(w_702023, t_702024) {
}
function titleHEX3D_702026(w_702023, t_702024) {
titleHEX3D_702021(w_702023, t_702024);
}
function title_702028(w_702030) {
var result_702031 = null;
result_702031 = cstrToNimstr("");
return result_702031;
}
function title_702033(w_702030) {
var result_702036 = null;
BeforeRet: do {
result_702036 = title_702028(w_702030);
break BeforeRet;
} while (false); 
return result_702036;
}
function onresize_702037(w_702039, newsize_702040) {
setframesize_697603(w_702039, newsize_702040);
}
function onresize_709163(w_709165, newsize_709166) {
w_709165.renderingcontext_709004.gl_690204.viewport(0, 0, newsize_709166.Field0, newsize_709166.Field1);
onresize_702037(w_709165, newsize_709166);
}
function onresize_702042(w_702039, newsize_702040) {
if (isObj(w_702039.m_type, NTI709003)) {
onresize_709163(w_702039, newsize_702040);
}
else {
if (isObj(w_702039.m_type, NTI696034)) {
onresize_702037(w_702039, newsize_702040);
}
}
}
function setcurrentcontext_690601(c_690603) {
var result_690604 = null;
result_690604 = gcurrentcontext_690214[0];
gcurrentcontext_690214[0] = c_690603;
return result_690604;
}
function fps_702046() {
var result_702048 = 0;
var curtime_702049 = epochtime_699871();
var thisframe_702050 = (curtime_702049 - lasttime_702044[0]);
lastframe_702045[0] = ((lastframe_702045[0] * 9.0000000000000002e-01) + (thisframe_702050 * 1.0000000000000001e-01));
result_702048 = ((1.0000000000000000e+00 / lastframe_702045[0])|0);
lasttime_702044[0] = curtime_702049;
return result_702048;
}
function drawwindow_702052(w_702054) {
w_702054.needsdisplay_696038 = 0;
var c_702055 = gcurrentcontext_690214[0];
var pt_702057 = /**/[newpoint_20055((width_20031(frame_697645(w_702054)) - 8.0000000000000000e+01), 2.0000000000000000e+00)];
nimCopy(c_702055.fillcolor_690206, blackcolor_20162(), NTI20018);
drawtext_693396(c_702055, systemfont_658060(), pt_702057[0], (cstrToNimstr("FPS: ").slice(0,-1)).concat(cstrToNimstr((fps_702046())+"")));
recursivedrawsubviews_697257(w_702054);
}
function drawwindow_709155(w_709157) {
var c_709158 = w_709157.renderingcontext_709004;
c_709158.gl_690204.clear(((c_709158.gl_690204.COLOR_BUFFER_BIT | c_709158.gl_690204.STENCIL_BUFFER_BIT) | c_709158.gl_690204.DEPTH_BUFFER_BIT));
var oldcontext_709159 = setcurrentcontext_690601(c_709158);
try {
var old_709162 = c_709158.ptransform_690205;
c_709158.ptransform_690205 = transformtoref_690216(ortho_22598(0.0, width_20031(frame_697645(w_709157)), height_20035(frame_697645(w_709157)), 0.0, -1.0000000000000000e+00, 1.0000000000000000e+00));
drawwindow_702052(w_709157);
c_709158.ptransform_690205 = old_709162;
} finally {
setcurrentcontext_690601(oldcontext_709159);
}
}
function drawwindow_702060(w_702054) {
if (isObj(w_702054.m_type, NTI709003)) {
drawwindow_709155(w_702054);
}
else {
if (isObj(w_702054.m_type, NTI696034)) {
drawwindow_702052(w_702054);
}
}
}
function enableanimation_702062(w_702064, flag_702065) {
}
function enableanimation_702067(w_702064, flag_702065) {
enableanimation_702062(w_702064, flag_702065);
}
function stoptextinput_709237(w_709239) {
    if (window.__nimx_textinput !== undefined)
    {
        window.__nimx_textinput.oninput = null;
        window.__nimx_textinput.blur();
    }
    }
function stoptextinput_702076(w_702078) {
}
function stoptextinput_702080(w_702078) {
if (isObj(w_702078.m_type, NTI709003)) {
stoptextinput_709237(w_702078);
}
else {
if (isObj(w_702078.m_type, NTI696034)) {
stoptextinput_702076(w_702078);
}
}
}
function itematpos_757697(v_757699, n_757700, p_757701, y_757703, y_757703_Idx) {
var Tmp1;
var result_757704 = null;
BeforeRet: do {
HEX2BHEX3D_20111(y_757703, y_757703_Idx, 2.0000000000000000e+01);
if ((p_757701.Field1 < y_757703[y_757703_Idx])) {
result_757704 = n_757700;
break BeforeRet;
}

if (!n_757700.expanded_757004) Tmp1 = false; else {Tmp1 = !(n_757700.children_757007 == null); }if (Tmp1) {
var lastindex_757730 = (v_757699.tempindexpath_757042 != null ? v_757699.tempindexpath_757042.length : 0);
if (v_757699.tempindexpath_757042 != null) { v_757699.tempindexpath_757042.push(0); } else { v_757699.tempindexpath_757042 = [0]; };
L2: do {
var i_757754 = 0;
var c_757755 = null;
var HEX3Atmp_757775 = null;
HEX3Atmp_757775 = n_757700.children_757007;
var i_757778 = 0;
L3: do {
L4: while (true) {
if (!(i_757778 < (HEX3Atmp_757775 != null ? HEX3Atmp_757775.length : 0))) break L4;
i_757754 = i_757778;
c_757755 = HEX3Atmp_757775[chckIndx(i_757778, 0, HEX3Atmp_757775.length)-0];
v_757699.tempindexpath_757042[chckIndx(lastindex_757730, 0, v_757699.tempindexpath_757042.length)-0] = i_757754;
result_757704 = itematpos_757697(v_757699, c_757755, p_757701, y_757703, y_757703_Idx);
if (!(result_757704 == null)) {
break BeforeRet;
}

i_757778 = addInt(i_757778, 1);
}
} while(false);
} while(false);
v_757699.tempindexpath_757042.length = chckRange(lastindex_757730, 0, 2147483647);
}

} while (false); 
return result_757704;
}
function itematpos_757779(v_757781, p_757782) {
var result_757783 = null;
v_757781.tempindexpath_757042.length = 1;
var y_757794 = /**/[0.0];
if (!(v_757781.rootitem_757014.children_757007 == null)) {
L1: do {
var i_757816 = 0;
var c_757817 = null;
var HEX3Atmp_757829 = null;
HEX3Atmp_757829 = v_757781.rootitem_757014.children_757007;
var i_757832 = 0;
L2: do {
L3: while (true) {
if (!(i_757832 < (HEX3Atmp_757829 != null ? HEX3Atmp_757829.length : 0))) break L3;
i_757816 = i_757832;
c_757817 = HEX3Atmp_757829[chckIndx(i_757832, 0, HEX3Atmp_757829.length)-0];
v_757781.tempindexpath_757042[0] = i_757816;
result_757783 = itematpos_757697(v_757781, c_757817, p_757782, y_757794, 0);
if (!(result_757783 == null)) {
break L1;
}

i_757832 = addInt(i_757832, 1);
}
} while(false);
} while(false);
}

return result_757783;
}
function onmousedown_758021(v_758023, e_758025) {
var Tmp1;
var result_758026 = false;
result_758026 = 1;
var pos_758027 = nimCopy(null, e_758025.localposition_704028, NTI20006);
var i_758028 = itematpos_757779(v_758023, pos_758027);
if (!(i_758028 == null)) {
if (!(pos_758027.Field0 < addInt(3, mulInt((v_758023.tempindexpath_757042 != null ? v_758023.tempindexpath_757042.length : 0), 3)))) Tmp1 = false; else {Tmp1 = i_758028.expandable_757005; }if (Tmp1) {
i_758028.expanded_757004 = !(i_758028.expanded_757004);
}
else {
if (HEX3DHEX3D_757414(v_758023.tempindexpath_757042, v_758023.selectedindexpath_757016)) {
v_758023.selectedindexpath_757016.length = 0;
if (!(v_758023.onselectionchanged_757040 == null)) {
v_758023.onselectionchanged_757040();
}

}
else {
v_758023.selectedindexpath_757016 = v_758023.tempindexpath_757042;
if (!(v_758023.onselectionchanged_757040 == null)) {
v_758023.onselectionchanged_757040();
}

}
}
if (!((v_758023.window_696022 == null))) {
v_758023.window_696022.needsdisplay_696038 = 1;
}

}

return result_758026;
}
function isbuttonupevent_704132(e_704134) {
var result_704135 = false;
result_704135 = (e_704134.buttonstate_704031 == 1);
return result_704135;
}
function setstate_754408(b_754410, s_754411) {
if (!((b_754410.state_754016 == s_754411))) {
b_754410.state_754016 = s_754411;
if (!((b_754410.window_696022 == null))) {
b_754410.window_696022.needsdisplay_696038 = 1;
}

}

}
function onmouseup_754473(b_754475, e_754477) {
var Tmp1;
var result_754478 = false;
result_754478 = 1;
setstate_754408(b_754475, 1);
if ((b_754475.behavior_754021 == 0)) {
b_754475.value_754017 = 0;
}

if (inrect_20276(e_754477.localposition_704028, bounds_697654(b_754475))) {
if ((b_754475.behavior_754021 == 1)) {
if ((b_754475.value_754017 == 0)) {
Tmp1 = 1;
}
else {
Tmp1 = 0;
}

b_754475.value_754017 = chckRange(Tmp1, -128, 127);
}

sendaction_753030(b_754475, e_754477);
}

return result_754478;
}
function onmouseup_705016(v_705018, e_705020) {
var result_705021 = false;
return result_705021;
}
function onmouseup_705023(v_705018, e_705020) {
var result_705026 = false;
BeforeRet: do {
if (isObj(v_705018.m_type, NTI754014)) {
result_705026 = onmouseup_754473(v_705018, e_705020);
break BeforeRet;
}
else {
if (isObj(v_705018.m_type, NTI696021)) {
result_705026 = onmouseup_705016(v_705018, e_705020);
break BeforeRet;
}
}
} while (false); 
return result_705026;
}
function ismousemoveevent_704145(e_704147) {
var result_704148 = false;
result_704148 = ((e_704147.buttonstate_704031 == 0) && (e_704147.kind_704025 == 1));
return result_704148;
}
function onmousedown_755011(v_755013, e_755015) {
function HEX3Aanonymous_755019(e_755022, c_755024, c_755024_Idx) {
var result_755025 = false;
result_755025 = 1;
if ((e_755022.kind_704025 == 1)) {
nimCopy(e_755022.localposition_704028, convertpointfromwindow_696165(v_755013, e_755022.position_704027), NTI20006);
if (isbuttonupevent_704132(e_755022)) {
c_755024[c_755024_Idx] = 1;
result_755025 = onmouseup_705023(v_755013, e_755022);
}
else {
if (ismousemoveevent_704145(e_755022)) {
var newpos_755035 = convertpointfromwindow_696165(v_755013.superview_696027, HEX2D_20204(e_755022.position_704027, dp_755018));
setframeorigin_697616(v_755013, newpos_755035);
if (!((v_755013.window_696022 == null))) {
v_755013.window_696022.needsdisplay_696038 = 1;
}

}
}
}

return result_755025;
}
var result_755016 = false;
var origpos_755017 = convertpointtowindow_696138(v_755013.superview_696027, frame_697645(v_755013).Field0);
var dp_755018 = HEX2D_20204(e_755015.position_704027, origpos_755017);
pusheventfilter_707020(mainapplication_707079(), HEX3Aanonymous_755019);
return result_755016;
}
function onmousedown_754443(b_754445, e_754447) {
function HEX3Aanonymous_754458(e_754461, c_754463, c_754463_Idx) {
var result_754464 = false;
result_754464 = 1;
if (ispointingevent_704097(e_754461)) {
nimCopy(e_754461.localposition_704028, convertpointfromwindow_696165(b_754445, e_754461.position_704027), NTI20006);
if (isbuttonupevent_704132(e_754461)) {
c_754463[c_754463_Idx] = 1;
result_754464 = onmouseup_705023(b_754445, e_754461);
}
else {
if (ismousemoveevent_704145(e_754461)) {
if (inrect_20276(e_754461.localposition_704028, bounds_697654(b_754445))) {
setstate_754408(b_754445, 2);
}
else {
setstate_754408(b_754445, 1);
}

}
}
}

return result_754464;
}
var result_754448 = false;
result_754448 = 1;
setstate_754408(b_754445, 2);
if ((b_754445.behavior_754021 == 0)) {
b_754445.value_754017 = 1;
}

pusheventfilter_707020(mainapplication_707079(), HEX3Aanonymous_754458);
return result_754448;
}
function getclosestcursorpositiontopointinstring_658296(f_658298, s_658299, p_658300, position_658302, position_658302_Idx, offset_658304, offset_658304_Idx) {
var Tmp4;
var Tmp5;
var Tmp6;
var Tmp7;
var pt_658305 = /**/[{Field0: 0.0, Field1: 0.0}];
var closestpoint_658306 = {Field0: 0.0, Field1: 0.0};
var quad_658309 = [[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]];
var i_658310 = 0;
var tex_658311 = [0];
L1: do {
var ch_658312 = 0;
var i_658340 = 0;
var result_658342 = 0;
L2: do {
L3: while (true) {
if (!(i_658340 < (s_658299 != null ? s_658299.length-1 : 0))) break L3;
if (leU(s_658299[chckIndx(i_658340, 0, s_658299.length)-0], 127)) {
result_658342 = s_658299[chckIndx(i_658340, 0, s_658299.length)-0];
i_658340 = addInt(i_658340, 1);
}
else {
if (((s_658299[chckIndx(i_658340, 0, s_658299.length)-0] >>> 5) == 6)) {
result_658342 = (((s_658299[chckIndx(i_658340, 0, s_658299.length)-0] & 31) << 6) | (s_658299[chckIndx(addInt(i_658340, 1), 0, s_658299.length)-0] & 63));
i_658340 = addInt(i_658340, 2);
}
else {
if (((s_658299[chckIndx(i_658340, 0, s_658299.length)-0] >>> 4) == 14)) {
result_658342 = ((((s_658299[chckIndx(i_658340, 0, s_658299.length)-0] & 15) << 12) | ((s_658299[chckIndx(addInt(i_658340, 1), 0, s_658299.length)-0] & 63) << 6)) | (s_658299[chckIndx(addInt(i_658340, 2), 0, s_658299.length)-0] & 63));
i_658340 = addInt(i_658340, 3);
}
else {
if (((s_658299[chckIndx(i_658340, 0, s_658299.length)-0] >>> 3) == 30)) {
result_658342 = (((((s_658299[chckIndx(i_658340, 0, s_658299.length)-0] & 7) << 18) | ((s_658299[chckIndx(addInt(i_658340, 1), 0, s_658299.length)-0] & 63) << 12)) | ((s_658299[chckIndx(addInt(i_658340, 2), 0, s_658299.length)-0] & 63) << 6)) | (s_658299[chckIndx(addInt(i_658340, 3), 0, s_658299.length)-0] & 63));
i_658340 = addInt(i_658340, 4);
}
else {
if (((s_658299[chckIndx(i_658340, 0, s_658299.length)-0] >>> 2) == 62)) {
result_658342 = ((((((s_658299[chckIndx(i_658340, 0, s_658299.length)-0] & 3) << 24) | ((s_658299[chckIndx(addInt(i_658340, 1), 0, s_658299.length)-0] & 63) << 18)) | ((s_658299[chckIndx(addInt(i_658340, 2), 0, s_658299.length)-0] & 63) << 12)) | ((s_658299[chckIndx(addInt(i_658340, 3), 0, s_658299.length)-0] & 63) << 6)) | (s_658299[chckIndx(addInt(i_658340, 4), 0, s_658299.length)-0] & 63));
i_658340 = addInt(i_658340, 5);
}
else {
if (((s_658299[chckIndx(i_658340, 0, s_658299.length)-0] >>> 1) == 126)) {
result_658342 = (((((((s_658299[chckIndx(i_658340, 0, s_658299.length)-0] & 1) << 30) | ((s_658299[chckIndx(addInt(i_658340, 1), 0, s_658299.length)-0] & 63) << 24)) | ((s_658299[chckIndx(addInt(i_658340, 2), 0, s_658299.length)-0] & 63) << 18)) | ((s_658299[chckIndx(addInt(i_658340, 3), 0, s_658299.length)-0] & 63) << 12)) | ((s_658299[chckIndx(addInt(i_658340, 4), 0, s_658299.length)-0] & 63) << 6)) | (s_658299[chckIndx(addInt(i_658340, 5), 0, s_658299.length)-0] & 63));
i_658340 = addInt(i_658340, 6);
}
else {
result_658342 = s_658299[chckIndx(i_658340, 0, s_658299.length)-0];
i_658340 = addInt(i_658340, 1);
}
}}}}}
ch_658312 = result_658342;
getquaddataforrune_658132(f_658298, ch_658312, quad_658309[0], tex_658311, 0, pt_658305[0]);
if (!f_658298.ishorizontal_656314) Tmp5 = false; else {Tmp5 = (Math.abs((p_658300.Field0 - pt_658305[0].Field0)) < Math.abs((p_658300.Field0 - closestpoint_658306.Field0))); }if (Tmp5) Tmp4 = true; else {if (!!(f_658298.ishorizontal_656314)) Tmp6 = false; else {Tmp6 = (Math.abs((p_658300.Field1 - pt_658305[0].Field1)) < Math.abs((p_658300.Field1 - closestpoint_658306.Field1))); }Tmp4 = Tmp6; }if (Tmp4) {
nimCopy(closestpoint_658306, pt_658305[0], NTI20006);
position_658302[position_658302_Idx] = addInt(i_658310, 1);
}

HEX2BHEX3D_20111(pt_658305[0], "Field0", f_658298.horizontalspacing_656317);
i_658310 = addInt(i_658310, 1);
}
} while(false);
} while(false);
if (f_658298.ishorizontal_656314) {
Tmp7 = closestpoint_658306.Field0;
}
else {
Tmp7 = closestpoint_658306.Field1;
}

offset_658304[offset_658304_Idx] = Tmp7;
}
function onmousedown_765147(t_765149, e_765151) {
var result_765152 = false;
if (t_765149.editable_765005) {
result_765152 = makefirstresponder_696254(t_765149);
var pt_765153 = nimCopy(null, e_765151.localposition_704028, NTI20006);
HEX2BHEX3D_20111(pt_765153, "Field0", 3.0000000000000000e+00);
if (t_765149.text_765004 == null) {
cursorpos_765008[0] = 0;
cursoroffset_765012[0] = 0.0;
}
else {
getclosestcursorpositiontopointinstring_658296(systemfont_658060(), t_765149.text_765004, pt_765153, cursorpos_765008, 0, cursoroffset_765012, 0);
}

}

return result_765152;
}
function onmousedown_705005(v_705007, e_705009) {
var result_705010 = false;
if (acceptsfirstresponder_696197(v_705007)) {
result_705010 = makefirstresponder_696254(v_705007);
}

return result_705010;
}
function onmousedown_705012(v_705007, e_705009) {
var result_705015 = false;
BeforeRet: do {
if (isObj(v_705007.m_type, NTI757013)) {
result_705015 = onmousedown_758021(v_705007, e_705009);
break BeforeRet;
}
else {
if (isObj(v_705007.m_type, NTI755005)) {
result_705015 = onmousedown_755011(v_705007, e_705009);
break BeforeRet;
}
else {
if (isObj(v_705007.m_type, NTI754014)) {
result_705015 = onmousedown_754443(v_705007, e_705009);
break BeforeRet;
}
else {
if (isObj(v_705007.m_type, NTI765003)) {
result_705015 = onmousedown_765147(v_705007, e_705009);
break BeforeRet;
}
else {
if (isObj(v_705007.m_type, NTI696021)) {
result_705015 = onmousedown_705005(v_705007, e_705009);
break BeforeRet;
}
}}}}
} while (false); 
return result_705015;
}
function HEX2BHEX3D_699665(x_699670, x_699670_Idx, y_699672) {
x_699670[x_699670_Idx] = (x_699670[x_699670_Idx] + y_699672);
}
function onscroll_768021(v_768023, e_768025) {
var result_768026 = false;
result_768026 = 1;
var action_768027 = 0;
++excHandler;
try {
var val_768028 = /**/[nsuParseFloat(v_768023.text_765004)];
HEX2BHEX3D_699665(val_768028, 0, (e_768025.offset_704029.Field1 * 1.0000000000000000e+00));
v_768023.text_765004 = cstrToNimstr((val_768028[0])+"");
action_768027 = 1;
if (!((v_768023.window_696022 == null))) {
v_768023.window_696022.needsdisplay_696038 = 1;
}

} catch (EXC) {
 var prevJSError = lastJSError;
 lastJSError = EXC;
 --excHandler;
lastJSError = prevJSError;
} finally {
}
if (action_768027) {
sendaction_753032(v_768023);
}

return result_768026;
}
function onscroll_705027(v_705029, e_705031) {
var result_705032 = false;
return result_705032;
}
function onscroll_705034(v_705029, e_705031) {
var result_705037 = false;
BeforeRet: do {
if (isObj(v_705029.m_type, NTI768007)) {
result_705037 = onscroll_768021(v_705029, e_705031);
break BeforeRet;
}
else {
if (isObj(v_705029.m_type, NTI696021)) {
result_705037 = onscroll_705027(v_705029, e_705031);
break BeforeRet;
}
}
} while (false); 
return result_705037;
}
function unidelete_760466(subj_760469, subj_760469_Idx, start_760470, stop_760471) {
var charpos_760472 = 0;
var bytestartpos_760473 = 0;
var r_760474 = 0;
L1: do {
L2: while (true) {
if (!(charpos_760472 < start_760470)) break L2;
if (leU(subj_760469[subj_760469_Idx][chckIndx(bytestartpos_760473, 0, subj_760469[subj_760469_Idx].length)-0], 127)) {
r_760474 = subj_760469[subj_760469_Idx][chckIndx(bytestartpos_760473, 0, subj_760469[subj_760469_Idx].length)-0];
bytestartpos_760473 = addInt(bytestartpos_760473, 1);
}
else {
if (((subj_760469[subj_760469_Idx][chckIndx(bytestartpos_760473, 0, subj_760469[subj_760469_Idx].length)-0] >>> 5) == 6)) {
r_760474 = (((subj_760469[subj_760469_Idx][chckIndx(bytestartpos_760473, 0, subj_760469[subj_760469_Idx].length)-0] & 31) << 6) | (subj_760469[subj_760469_Idx][chckIndx(addInt(bytestartpos_760473, 1), 0, subj_760469[subj_760469_Idx].length)-0] & 63));
bytestartpos_760473 = addInt(bytestartpos_760473, 2);
}
else {
if (((subj_760469[subj_760469_Idx][chckIndx(bytestartpos_760473, 0, subj_760469[subj_760469_Idx].length)-0] >>> 4) == 14)) {
r_760474 = ((((subj_760469[subj_760469_Idx][chckIndx(bytestartpos_760473, 0, subj_760469[subj_760469_Idx].length)-0] & 15) << 12) | ((subj_760469[subj_760469_Idx][chckIndx(addInt(bytestartpos_760473, 1), 0, subj_760469[subj_760469_Idx].length)-0] & 63) << 6)) | (subj_760469[subj_760469_Idx][chckIndx(addInt(bytestartpos_760473, 2), 0, subj_760469[subj_760469_Idx].length)-0] & 63));
bytestartpos_760473 = addInt(bytestartpos_760473, 3);
}
else {
if (((subj_760469[subj_760469_Idx][chckIndx(bytestartpos_760473, 0, subj_760469[subj_760469_Idx].length)-0] >>> 3) == 30)) {
r_760474 = (((((subj_760469[subj_760469_Idx][chckIndx(bytestartpos_760473, 0, subj_760469[subj_760469_Idx].length)-0] & 7) << 18) | ((subj_760469[subj_760469_Idx][chckIndx(addInt(bytestartpos_760473, 1), 0, subj_760469[subj_760469_Idx].length)-0] & 63) << 12)) | ((subj_760469[subj_760469_Idx][chckIndx(addInt(bytestartpos_760473, 2), 0, subj_760469[subj_760469_Idx].length)-0] & 63) << 6)) | (subj_760469[subj_760469_Idx][chckIndx(addInt(bytestartpos_760473, 3), 0, subj_760469[subj_760469_Idx].length)-0] & 63));
bytestartpos_760473 = addInt(bytestartpos_760473, 4);
}
else {
if (((subj_760469[subj_760469_Idx][chckIndx(bytestartpos_760473, 0, subj_760469[subj_760469_Idx].length)-0] >>> 2) == 62)) {
r_760474 = ((((((subj_760469[subj_760469_Idx][chckIndx(bytestartpos_760473, 0, subj_760469[subj_760469_Idx].length)-0] & 3) << 24) | ((subj_760469[subj_760469_Idx][chckIndx(addInt(bytestartpos_760473, 1), 0, subj_760469[subj_760469_Idx].length)-0] & 63) << 18)) | ((subj_760469[subj_760469_Idx][chckIndx(addInt(bytestartpos_760473, 2), 0, subj_760469[subj_760469_Idx].length)-0] & 63) << 12)) | ((subj_760469[subj_760469_Idx][chckIndx(addInt(bytestartpos_760473, 3), 0, subj_760469[subj_760469_Idx].length)-0] & 63) << 6)) | (subj_760469[subj_760469_Idx][chckIndx(addInt(bytestartpos_760473, 4), 0, subj_760469[subj_760469_Idx].length)-0] & 63));
bytestartpos_760473 = addInt(bytestartpos_760473, 5);
}
else {
if (((subj_760469[subj_760469_Idx][chckIndx(bytestartpos_760473, 0, subj_760469[subj_760469_Idx].length)-0] >>> 1) == 126)) {
r_760474 = (((((((subj_760469[subj_760469_Idx][chckIndx(bytestartpos_760473, 0, subj_760469[subj_760469_Idx].length)-0] & 1) << 30) | ((subj_760469[subj_760469_Idx][chckIndx(addInt(bytestartpos_760473, 1), 0, subj_760469[subj_760469_Idx].length)-0] & 63) << 24)) | ((subj_760469[subj_760469_Idx][chckIndx(addInt(bytestartpos_760473, 2), 0, subj_760469[subj_760469_Idx].length)-0] & 63) << 18)) | ((subj_760469[subj_760469_Idx][chckIndx(addInt(bytestartpos_760473, 3), 0, subj_760469[subj_760469_Idx].length)-0] & 63) << 12)) | ((subj_760469[subj_760469_Idx][chckIndx(addInt(bytestartpos_760473, 4), 0, subj_760469[subj_760469_Idx].length)-0] & 63) << 6)) | (subj_760469[subj_760469_Idx][chckIndx(addInt(bytestartpos_760473, 5), 0, subj_760469[subj_760469_Idx].length)-0] & 63));
bytestartpos_760473 = addInt(bytestartpos_760473, 6);
}
else {
r_760474 = subj_760469[subj_760469_Idx][chckIndx(bytestartpos_760473, 0, subj_760469[subj_760469_Idx].length)-0];
bytestartpos_760473 = addInt(bytestartpos_760473, 1);
}
}}}}}
charpos_760472 = addInt(charpos_760472, 1);
}
} while(false);
var byteendpos_761819 = bytestartpos_760473;
L3: do {
L4: while (true) {
if (!(charpos_760472 <= stop_760471)) break L4;
if (leU(subj_760469[subj_760469_Idx][chckIndx(byteendpos_761819, 0, subj_760469[subj_760469_Idx].length)-0], 127)) {
r_760474 = subj_760469[subj_760469_Idx][chckIndx(byteendpos_761819, 0, subj_760469[subj_760469_Idx].length)-0];
byteendpos_761819 = addInt(byteendpos_761819, 1);
}
else {
if (((subj_760469[subj_760469_Idx][chckIndx(byteendpos_761819, 0, subj_760469[subj_760469_Idx].length)-0] >>> 5) == 6)) {
r_760474 = (((subj_760469[subj_760469_Idx][chckIndx(byteendpos_761819, 0, subj_760469[subj_760469_Idx].length)-0] & 31) << 6) | (subj_760469[subj_760469_Idx][chckIndx(addInt(byteendpos_761819, 1), 0, subj_760469[subj_760469_Idx].length)-0] & 63));
byteendpos_761819 = addInt(byteendpos_761819, 2);
}
else {
if (((subj_760469[subj_760469_Idx][chckIndx(byteendpos_761819, 0, subj_760469[subj_760469_Idx].length)-0] >>> 4) == 14)) {
r_760474 = ((((subj_760469[subj_760469_Idx][chckIndx(byteendpos_761819, 0, subj_760469[subj_760469_Idx].length)-0] & 15) << 12) | ((subj_760469[subj_760469_Idx][chckIndx(addInt(byteendpos_761819, 1), 0, subj_760469[subj_760469_Idx].length)-0] & 63) << 6)) | (subj_760469[subj_760469_Idx][chckIndx(addInt(byteendpos_761819, 2), 0, subj_760469[subj_760469_Idx].length)-0] & 63));
byteendpos_761819 = addInt(byteendpos_761819, 3);
}
else {
if (((subj_760469[subj_760469_Idx][chckIndx(byteendpos_761819, 0, subj_760469[subj_760469_Idx].length)-0] >>> 3) == 30)) {
r_760474 = (((((subj_760469[subj_760469_Idx][chckIndx(byteendpos_761819, 0, subj_760469[subj_760469_Idx].length)-0] & 7) << 18) | ((subj_760469[subj_760469_Idx][chckIndx(addInt(byteendpos_761819, 1), 0, subj_760469[subj_760469_Idx].length)-0] & 63) << 12)) | ((subj_760469[subj_760469_Idx][chckIndx(addInt(byteendpos_761819, 2), 0, subj_760469[subj_760469_Idx].length)-0] & 63) << 6)) | (subj_760469[subj_760469_Idx][chckIndx(addInt(byteendpos_761819, 3), 0, subj_760469[subj_760469_Idx].length)-0] & 63));
byteendpos_761819 = addInt(byteendpos_761819, 4);
}
else {
if (((subj_760469[subj_760469_Idx][chckIndx(byteendpos_761819, 0, subj_760469[subj_760469_Idx].length)-0] >>> 2) == 62)) {
r_760474 = ((((((subj_760469[subj_760469_Idx][chckIndx(byteendpos_761819, 0, subj_760469[subj_760469_Idx].length)-0] & 3) << 24) | ((subj_760469[subj_760469_Idx][chckIndx(addInt(byteendpos_761819, 1), 0, subj_760469[subj_760469_Idx].length)-0] & 63) << 18)) | ((subj_760469[subj_760469_Idx][chckIndx(addInt(byteendpos_761819, 2), 0, subj_760469[subj_760469_Idx].length)-0] & 63) << 12)) | ((subj_760469[subj_760469_Idx][chckIndx(addInt(byteendpos_761819, 3), 0, subj_760469[subj_760469_Idx].length)-0] & 63) << 6)) | (subj_760469[subj_760469_Idx][chckIndx(addInt(byteendpos_761819, 4), 0, subj_760469[subj_760469_Idx].length)-0] & 63));
byteendpos_761819 = addInt(byteendpos_761819, 5);
}
else {
if (((subj_760469[subj_760469_Idx][chckIndx(byteendpos_761819, 0, subj_760469[subj_760469_Idx].length)-0] >>> 1) == 126)) {
r_760474 = (((((((subj_760469[subj_760469_Idx][chckIndx(byteendpos_761819, 0, subj_760469[subj_760469_Idx].length)-0] & 1) << 30) | ((subj_760469[subj_760469_Idx][chckIndx(addInt(byteendpos_761819, 1), 0, subj_760469[subj_760469_Idx].length)-0] & 63) << 24)) | ((subj_760469[subj_760469_Idx][chckIndx(addInt(byteendpos_761819, 2), 0, subj_760469[subj_760469_Idx].length)-0] & 63) << 18)) | ((subj_760469[subj_760469_Idx][chckIndx(addInt(byteendpos_761819, 3), 0, subj_760469[subj_760469_Idx].length)-0] & 63) << 12)) | ((subj_760469[subj_760469_Idx][chckIndx(addInt(byteendpos_761819, 4), 0, subj_760469[subj_760469_Idx].length)-0] & 63) << 6)) | (subj_760469[subj_760469_Idx][chckIndx(addInt(byteendpos_761819, 5), 0, subj_760469[subj_760469_Idx].length)-0] & 63));
byteendpos_761819 = addInt(byteendpos_761819, 6);
}
else {
r_760474 = subj_760469[subj_760469_Idx][chckIndx(byteendpos_761819, 0, subj_760469[subj_760469_Idx].length)-0];
byteendpos_761819 = addInt(byteendpos_761819, 1);
}
}}}}}
charpos_760472 = addInt(charpos_760472, 1);
}
} while(false);
var bytestocopy_763219 = subInt(byteendpos_761819, bytestartpos_760473);
var i_763220 = 0;
L5: do {
L6: while (true) {
if (!(addInt(byteendpos_761819, i_763220) < (subj_760469[subj_760469_Idx] != null ? subj_760469[subj_760469_Idx].length-1 : 0))) break L6;
subj_760469[subj_760469_Idx][chckIndx(addInt(bytestartpos_760473, i_763220), 0, subj_760469[subj_760469_Idx].length)-0] = subj_760469[subj_760469_Idx][chckIndx(addInt(byteendpos_761819, i_763220), 0, subj_760469[subj_760469_Idx].length)-0];
i_763220 = addInt(i_763220, 1);
}
} while(false);
subj_760469[subj_760469_Idx].length = chckRange(subInt((subj_760469[subj_760469_Idx] != null ? subj_760469[subj_760469_Idx].length-1 : 0), bytestocopy_763219), 0, 2147483647)+1; subj_760469[subj_760469_Idx][subj_760469[subj_760469_Idx].length-1] = 0;
}
function nucruneLen(s_620256) {
var result_620257 = 0;
var i_620258 = 0;
L1: do {
L2: while (true) {
if (!(i_620258 < (s_620256 != null ? s_620256.length-1 : 0))) break L2;
if (leU(s_620256[chckIndx(i_620258, 0, s_620256.length)-0], 127)) {
i_620258 = addInt(i_620258, 1);
}
else {
if (((s_620256[chckIndx(i_620258, 0, s_620256.length)-0] >>> 5) == 6)) {
i_620258 = addInt(i_620258, 2);
}
else {
if (((s_620256[chckIndx(i_620258, 0, s_620256.length)-0] >>> 4) == 14)) {
i_620258 = addInt(i_620258, 3);
}
else {
if (((s_620256[chckIndx(i_620258, 0, s_620256.length)-0] >>> 3) == 30)) {
i_620258 = addInt(i_620258, 4);
}
else {
if (((s_620256[chckIndx(i_620258, 0, s_620256.length)-0] >>> 2) == 62)) {
i_620258 = addInt(i_620258, 5);
}
else {
if (((s_620256[chckIndx(i_620258, 0, s_620256.length)-0] >>> 1) == 126)) {
i_620258 = addInt(i_620258, 6);
}
else {
i_620258 = addInt(i_620258, 1);
}
}}}}}
result_620257 = addInt(result_620257, 1);
}
} while(false);
return result_620257;
}
function onkeydown_765169(t_765171, e_765173) {
var Tmp1;
var Tmp2;
var Tmp3;
var result_765174 = false;
if (!(e_765173.keycode_704030 == 17)) Tmp1 = false; else {Tmp1 = (0 < cursorpos_765008[0]); }if (Tmp1) {
result_765174 = 1;
unidelete_760466(t_765171, "text_765004", subInt(cursorpos_765008[0], 1), subInt(cursorpos_765008[0], 1));
cursorpos_765008[0] = subInt(cursorpos_765008[0], 1);
updatecursoroffset_765166(t_765171);
bumpcursorvisibility_765095(t_765171);
}
else {
if (!(e_765173.keycode_704030 == 111)) Tmp3 = false; else {Tmp3 = !(t_765171.text_765004 == null); }if (!Tmp3) Tmp2 = false; else {Tmp2 = (cursorpos_765008[0] < nucruneLen(t_765171.text_765004)); }if (Tmp2) {
unidelete_760466(t_765171, "text_765004", cursorpos_765008[0], cursorpos_765008[0]);
bumpcursorvisibility_765095(t_765171);
}
else {
if ((e_765173.keycode_704030 == 105)) {
cursorpos_765008[0] = subInt(cursorpos_765008[0], 1);
if ((cursorpos_765008[0] < 0)) {
cursorpos_765008[0] = 0;
}

updatecursoroffset_765166(t_765171);
bumpcursorvisibility_765095(t_765171);
}
else {
if ((e_765173.keycode_704030 == 106)) {
cursorpos_765008[0] = addInt(cursorpos_765008[0], 1);
var textlen_765244 = nucruneLen(t_765171.text_765004);
if ((textlen_765244 < cursorpos_765008[0])) {
cursorpos_765008[0] = textlen_765244;
}

updatecursoroffset_765166(t_765171);
bumpcursorvisibility_765095(t_765171);
}
else {
if ((e_765173.keycode_704030 == 31)) {
sendaction_753032(t_765171);
}
}}}}
return result_765174;
}
function canpasseventtofirstresponder_706001(w_706003) {
var Tmp1;
var result_706004 = false;
if (!!((w_706003.firstresponder_696035 == null))) Tmp1 = false; else {Tmp1 = !((w_706003.firstresponder_696035 == w_706003)); }result_706004 = Tmp1;
return result_706004;
}
function onkeydown_706029(w_706031, e_706033) {
var result_706034 = false;
if (canpasseventtofirstresponder_706001(w_706031)) {
result_706034 = onkeydown_705045(w_706031.firstresponder_696035, e_706033);
}

return result_706034;
}
function onkeydown_705038(v_705040, e_705042) {
var result_705043 = false;
return result_705043;
}
function onkeydown_705045(v_705040, e_705042) {
var result_705048 = false;
BeforeRet: do {
if (isObj(v_705040.m_type, NTI765003)) {
result_705048 = onkeydown_765169(v_705040, e_705042);
break BeforeRet;
}
else {
if (isObj(v_705040.m_type, NTI696034)) {
result_705048 = onkeydown_706029(v_705040, e_705042);
break BeforeRet;
}
else {
if (isObj(v_705040.m_type, NTI696021)) {
result_705048 = onkeydown_705038(v_705040, e_705042);
break BeforeRet;
}
}}
} while (false); 
return result_705048;
}
function onkeyup_706035(w_706037, e_706039) {
var result_706040 = false;
if (canpasseventtofirstresponder_706001(w_706037)) {
result_706040 = onkeyup_705056(w_706037.firstresponder_696035, e_706039);
}

return result_706040;
}
function onkeyup_705049(v_705051, e_705053) {
var result_705054 = false;
return result_705054;
}
function onkeyup_705056(v_705051, e_705053) {
var result_705059 = false;
BeforeRet: do {
if (isObj(v_705051.m_type, NTI696034)) {
result_705059 = onkeyup_706035(v_705051, e_705053);
break BeforeRet;
}
else {
if (isObj(v_705051.m_type, NTI696021)) {
result_705059 = onkeyup_705049(v_705051, e_705053);
break BeforeRet;
}
}
} while (false); 
return result_705059;
}
function insert_759007(dest_759010, dest_759010_Idx, position_759011, src_759012) {
var oldlen_759013 = (dest_759010[dest_759010_Idx] != null ? dest_759010[dest_759010_Idx].length-1 : 0);
dest_759010[dest_759010_Idx].length = chckRange(addInt((dest_759010[dest_759010_Idx] != null ? dest_759010[dest_759010_Idx].length-1 : 0), (src_759012 != null ? src_759012.length-1 : 0)), 0, 2147483647)+1; dest_759010[dest_759010_Idx][dest_759010[dest_759010_Idx].length-1] = 0;
var r_759014 = 0;
var charpos_759015 = 0;
var bytepos_759016 = 0;
L1: do {
L2: while (true) {
if (!(charpos_759015 < position_759011)) break L2;
if (leU(dest_759010[dest_759010_Idx][chckIndx(bytepos_759016, 0, dest_759010[dest_759010_Idx].length)-0], 127)) {
r_759014 = dest_759010[dest_759010_Idx][chckIndx(bytepos_759016, 0, dest_759010[dest_759010_Idx].length)-0];
bytepos_759016 = addInt(bytepos_759016, 1);
}
else {
if (((dest_759010[dest_759010_Idx][chckIndx(bytepos_759016, 0, dest_759010[dest_759010_Idx].length)-0] >>> 5) == 6)) {
r_759014 = (((dest_759010[dest_759010_Idx][chckIndx(bytepos_759016, 0, dest_759010[dest_759010_Idx].length)-0] & 31) << 6) | (dest_759010[dest_759010_Idx][chckIndx(addInt(bytepos_759016, 1), 0, dest_759010[dest_759010_Idx].length)-0] & 63));
bytepos_759016 = addInt(bytepos_759016, 2);
}
else {
if (((dest_759010[dest_759010_Idx][chckIndx(bytepos_759016, 0, dest_759010[dest_759010_Idx].length)-0] >>> 4) == 14)) {
r_759014 = ((((dest_759010[dest_759010_Idx][chckIndx(bytepos_759016, 0, dest_759010[dest_759010_Idx].length)-0] & 15) << 12) | ((dest_759010[dest_759010_Idx][chckIndx(addInt(bytepos_759016, 1), 0, dest_759010[dest_759010_Idx].length)-0] & 63) << 6)) | (dest_759010[dest_759010_Idx][chckIndx(addInt(bytepos_759016, 2), 0, dest_759010[dest_759010_Idx].length)-0] & 63));
bytepos_759016 = addInt(bytepos_759016, 3);
}
else {
if (((dest_759010[dest_759010_Idx][chckIndx(bytepos_759016, 0, dest_759010[dest_759010_Idx].length)-0] >>> 3) == 30)) {
r_759014 = (((((dest_759010[dest_759010_Idx][chckIndx(bytepos_759016, 0, dest_759010[dest_759010_Idx].length)-0] & 7) << 18) | ((dest_759010[dest_759010_Idx][chckIndx(addInt(bytepos_759016, 1), 0, dest_759010[dest_759010_Idx].length)-0] & 63) << 12)) | ((dest_759010[dest_759010_Idx][chckIndx(addInt(bytepos_759016, 2), 0, dest_759010[dest_759010_Idx].length)-0] & 63) << 6)) | (dest_759010[dest_759010_Idx][chckIndx(addInt(bytepos_759016, 3), 0, dest_759010[dest_759010_Idx].length)-0] & 63));
bytepos_759016 = addInt(bytepos_759016, 4);
}
else {
if (((dest_759010[dest_759010_Idx][chckIndx(bytepos_759016, 0, dest_759010[dest_759010_Idx].length)-0] >>> 2) == 62)) {
r_759014 = ((((((dest_759010[dest_759010_Idx][chckIndx(bytepos_759016, 0, dest_759010[dest_759010_Idx].length)-0] & 3) << 24) | ((dest_759010[dest_759010_Idx][chckIndx(addInt(bytepos_759016, 1), 0, dest_759010[dest_759010_Idx].length)-0] & 63) << 18)) | ((dest_759010[dest_759010_Idx][chckIndx(addInt(bytepos_759016, 2), 0, dest_759010[dest_759010_Idx].length)-0] & 63) << 12)) | ((dest_759010[dest_759010_Idx][chckIndx(addInt(bytepos_759016, 3), 0, dest_759010[dest_759010_Idx].length)-0] & 63) << 6)) | (dest_759010[dest_759010_Idx][chckIndx(addInt(bytepos_759016, 4), 0, dest_759010[dest_759010_Idx].length)-0] & 63));
bytepos_759016 = addInt(bytepos_759016, 5);
}
else {
if (((dest_759010[dest_759010_Idx][chckIndx(bytepos_759016, 0, dest_759010[dest_759010_Idx].length)-0] >>> 1) == 126)) {
r_759014 = (((((((dest_759010[dest_759010_Idx][chckIndx(bytepos_759016, 0, dest_759010[dest_759010_Idx].length)-0] & 1) << 30) | ((dest_759010[dest_759010_Idx][chckIndx(addInt(bytepos_759016, 1), 0, dest_759010[dest_759010_Idx].length)-0] & 63) << 24)) | ((dest_759010[dest_759010_Idx][chckIndx(addInt(bytepos_759016, 2), 0, dest_759010[dest_759010_Idx].length)-0] & 63) << 18)) | ((dest_759010[dest_759010_Idx][chckIndx(addInt(bytepos_759016, 3), 0, dest_759010[dest_759010_Idx].length)-0] & 63) << 12)) | ((dest_759010[dest_759010_Idx][chckIndx(addInt(bytepos_759016, 4), 0, dest_759010[dest_759010_Idx].length)-0] & 63) << 6)) | (dest_759010[dest_759010_Idx][chckIndx(addInt(bytepos_759016, 5), 0, dest_759010[dest_759010_Idx].length)-0] & 63));
bytepos_759016 = addInt(bytepos_759016, 6);
}
else {
r_759014 = dest_759010[dest_759010_Idx][chckIndx(bytepos_759016, 0, dest_759010[dest_759010_Idx].length)-0];
bytepos_759016 = addInt(bytepos_759016, 1);
}
}}}}}
charpos_759015 = addInt(charpos_759015, 1);
}
} while(false);
var i_760419 = subInt((dest_759010[dest_759010_Idx] != null ? dest_759010[dest_759010_Idx].length-1 : 0), 1);
var bytestocopy_760420 = subInt(oldlen_759013, bytepos_759016);
L3: do {
L4: while (true) {
if (!(0 < bytestocopy_760420)) break L4;
dest_759010[dest_759010_Idx][chckIndx(i_760419, 0, dest_759010[dest_759010_Idx].length)-0] = dest_759010[dest_759010_Idx][chckIndx(subInt(addInt(bytepos_759016, bytestocopy_760420), 1), 0, dest_759010[dest_759010_Idx].length)-0];
bytestocopy_760420 = subInt(bytestocopy_760420, 1);
i_760419 = subInt(i_760419, 1);
}
} while(false);
L5: do {
var c_760440 = 0;
var i_760463 = 0;
var L_760465 = (src_759012 != null ? src_759012.length-1 : 0);
L6: do {
L7: while (true) {
if (!(i_760463 < L_760465)) break L7;
c_760440 = src_759012[chckIndx(i_760463, 0, src_759012.length)-0];
dest_759010[dest_759010_Idx][chckIndx(bytepos_759016, 0, dest_759010[dest_759010_Idx].length)-0] = c_760440;
bytepos_759016 = addInt(bytepos_759016, 1);
i_760463 = addInt(i_760463, 1);
if (!(((src_759012 != null ? src_759012.length-1 : 0) == L_760465))) {
failedassertimpl_14716(cstrToNimstr("len(a) == L string modified while iterating over it"));
}

}
} while(false);
} while(false);
}
function ontextinput_765255(t_765257, s_765258) {
var result_765259 = false;
result_765259 = 1;
if (t_765257.text_765004 == null) {
t_765257.text_765004 = cstrToNimstr("");
}

insert_759007(t_765257, "text_765004", cursorpos_765008[0], s_765258);
cursorpos_765008[0] = addInt(cursorpos_765008[0], nucruneLen(s_765258));
updatecursoroffset_765166(t_765257);
bumpcursorvisibility_765095(t_765257);
return result_765259;
}
function ontextinput_706041(w_706043, s_706044) {
var result_706045 = false;
if (canpasseventtofirstresponder_706001(w_706043)) {
result_706045 = ontextinput_705066(w_706043.firstresponder_696035, s_706044);
}

return result_706045;
}
function ontextinput_705060(v_705062, s_705063) {
var result_705064 = false;
return result_705064;
}
function ontextinput_705066(v_705062, s_705063) {
var result_705069 = false;
BeforeRet: do {
if (isObj(v_705062.m_type, NTI765003)) {
result_705069 = ontextinput_765255(v_705062, s_705063);
break BeforeRet;
}
else {
if (isObj(v_705062.m_type, NTI696034)) {
result_705069 = ontextinput_706041(v_705062, s_705063);
break BeforeRet;
}
else {
if (isObj(v_705062.m_type, NTI696021)) {
result_705069 = ontextinput_705060(v_705062, s_705063);
break BeforeRet;
}
}}
} while (false); 
return result_705069;
}
function handlemouseevent_705070(v_705072, e_705074) {
var result_705075 = false;
if (isbuttondownevent_704119(e_705074)) {
result_705075 = onmousedown_705012(v_705072, e_705074);
}
else {
if (isbuttonupevent_704132(e_705074)) {
result_705075 = onmouseup_705023(v_705072, e_705074);
}
else {
if ((e_705074.kind_704025 == 3)) {
result_705075 = onscroll_705034(v_705072, e_705074);
}
}}
return result_705075;
}
function recursivehandlemouseevent_705421(v_705423, e_705425) {
var result_705426 = false;
if (inrect_20276(e_705425.localposition_704028, bounds_697654(v_705423))) {
var localposition_705427 = nimCopy(null, e_705425.localposition_704028, NTI20006);
L1: do {
var i_705446 = 0;
var HEX3Atmp_705449 = 0;
HEX3Atmp_705449 = subInt((v_705423.subviews_696026 != null ? v_705423.subviews_696026.length : 0), 1);
var res_705452 = HEX3Atmp_705449;
L2: do {
L3: while (true) {
if (!(0 <= res_705452)) break L3;
i_705446 = res_705452;
var s_705447 = v_705423.subviews_696026[chckIndx(i_705446, 0, v_705423.subviews_696026.length)-0];
nimCopy(e_705425.localposition_704028, HEX2B_20199(HEX2D_20204(localposition_705427, frame_697645(s_705447).Field0), bounds_697654(s_705447).Field0), NTI20006);
result_705426 = recursivehandlemouseevent_705421(s_705447, e_705425);
if (result_705426) {
break L1;
}

res_705452 = subInt(res_705452, 1);
}
} while(false);
} while(false);
if (!(result_705426)) {
nimCopy(e_705425.localposition_704028, localposition_705427, NTI20006);
result_705426 = handlemouseevent_705086(v_705423, e_705425);
}

}

return result_705426;
}
function handlemouseevent_731385(c_731387, r_731388, e_731390) {
var result_731391 = false;
if (!(c_731387.mview_713145 == null)) {
var res_731400 = [[0.0, 0.0, 0.0]];
if (intersectswithuinode_731191(r_731388, c_731387.node_713088, res_731400[0])) {
if (tryworldtolocal_720115(c_731387.node_713088, res_731400[0], res_731400[0])) {
var v_731403 = c_731387.mview_713145.subviews_696026[0];
nimCopy(e_731390.localposition_704028, convertpointfromparent_696134(v_731403, newpoint_20055(res_731400[0][0], res_731400[0][1])), NTI20006);
result_731391 = recursivehandlemouseevent_705421(v_731403, e_731390);
}

}

}

return result_731391;
}
function handlemouseevent_732001(v_732003, e_732005) {
var Tmp1;
var result_732006 = false;
result_732006 = handlemouseevent_705070(v_732003, e_732005);
if (!!(result_732006)) Tmp1 = false; else {Tmp1 = (0 < (v_732003.uicomponents_713128 != null ? v_732003.uicomponents_713128.length : 0)); }if (Tmp1) {
var r_732015 = raywithscreencoords_730166(v_732003, e_732005.localposition_704028);
L2: do {
var c_732024 = null;
var HEX3Atmp_732026 = null;
HEX3Atmp_732026 = v_732003.uicomponents_713128;
var i_732029 = 0;
var L_732031 = (HEX3Atmp_732026 != null ? HEX3Atmp_732026.length : 0);
L3: do {
L4: while (true) {
if (!(i_732029 < L_732031)) break L4;
c_732024 = HEX3Atmp_732026[chckIndx(i_732029, 0, HEX3Atmp_732026.length)-0];
result_732006 = handlemouseevent_731385(c_732024, r_732015, e_732005);
if (result_732006) {
break L2;
}

i_732029 = addInt(i_732029, 1);
if (!(((HEX3Atmp_732026 != null ? HEX3Atmp_732026.length : 0) == L_732031))) {
failedassertimpl_14716(cstrToNimstr("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
}

return result_732006;
}
function handlemouseevent_705086(v_705072, e_705074) {
var result_705089 = false;
BeforeRet: do {
if (isObj(v_705072.m_type, NTI713090)) {
result_705089 = handlemouseevent_732001(v_705072, e_705074);
break BeforeRet;
}
else {
if (isObj(v_705072.m_type, NTI696021)) {
result_705089 = handlemouseevent_705070(v_705072, e_705074);
break BeforeRet;
}
}
} while (false); 
return result_705089;
}
function ontouchgesevent_705090(d_705092, e_705094) {
var result_705095 = false;
return result_705095;
}
function ontouchgesevent_705097(d_705092, e_705094) {
var result_705100 = false;
BeforeRet: do {
result_705100 = ontouchgesevent_705090(d_705092, e_705094);
break BeforeRet;
} while (false); 
return result_705100;
}
function ontouchevent_705101(v_705103, e_705105) {
var result_705106 = false;
result_705106 = 0;
L1: do {
var i_705202 = null;
var HEX3Atmp_705410 = null;
HEX3Atmp_705410 = v_705103.gesturedetectors_696032;
var i_705413 = 0;
var L_705415 = (HEX3Atmp_705410 != null ? HEX3Atmp_705410.length : 0);
L2: do {
L3: while (true) {
if (!(i_705413 < L_705415)) break L3;
i_705202 = HEX3Atmp_705410[chckIndx(i_705413, 0, HEX3Atmp_705410.length)-0];
var a_705203 = ontouchgesevent_705097(i_705202, e_705105);
result_705106 = (result_705106 || a_705203);
i_705413 = addInt(i_705413, 1);
if (!(((HEX3Atmp_705410 != null ? HEX3Atmp_705410.length : 0) == L_705415))) {
failedassertimpl_14716(cstrToNimstr("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
if (((v_705103.gesturedetectors_696032 != null ? v_705103.gesturedetectors_696032.length : 0) < 1)) {
result_705106 = handlemouseevent_705086(v_705103, e_705105);
}

return result_705106;
}
function ontouchevent_705417(v_705103, e_705105) {
var result_705420 = false;
BeforeRet: do {
result_705420 = ontouchevent_705101(v_705103, e_705105);
break BeforeRet;
} while (false); 
return result_705420;
}
function handletouchevent_705456(v_705458, e_705460) {
var result_705461 = false;
if ((e_705460.buttonstate_704031 == 2)) {
if (inrect_20276(e_705460.localposition_704028, bounds_697654(v_705458))) {
var localposition_705471 = nimCopy(null, e_705460.localposition_704028, NTI20006);
L1: do {
var i_705490 = 0;
var HEX3Atmp_705493 = 0;
HEX3Atmp_705493 = subInt((v_705458.subviews_696026 != null ? v_705458.subviews_696026.length : 0), 1);
var res_705496 = HEX3Atmp_705493;
L2: do {
L3: while (true) {
if (!(0 <= res_705496)) break L3;
i_705490 = res_705496;
var s_705491 = v_705458.subviews_696026[chckIndx(i_705490, 0, v_705458.subviews_696026.length)-0];
nimCopy(e_705460.localposition_704028, HEX2B_20199(HEX2D_20204(localposition_705471, frame_697645(s_705491).Field0), bounds_697654(s_705491).Field0), NTI20006);
result_705461 = handletouchevent_705456(s_705491, e_705460);
if (result_705461) {
break L1;
}

res_705496 = subInt(res_705496, 1);
}
} while(false);
} while(false);
if (!(result_705461)) {
nimCopy(e_705460.localposition_704028, localposition_705471, NTI20006);
result_705461 = ontouchevent_705417(v_705458, e_705460);
}

}

}

return result_705461;
}
function handleevent_706046(w_706048, e_706050) {
var result_706051 = false;
switch (e_706050.kind_704025) {
case 2: result_706051 = handletouchevent_705456(w_706048, e_706050);

break;
case 1: case 3: result_706051 = recursivehandlemouseevent_705421(w_706048, e_706050);

break;
case 4: if ((e_706050.buttonstate_704031 == 2)) {
result_706051 = onkeydown_705045(w_706048, e_706050);
}
else {
result_706051 = onkeyup_705056(w_706048, e_706050);
}


break;
case 6: result_706051 = ontextinput_705066(w_706048, e_706050.text_704035);

break;
case 5: result_706051 = 1;
onresize_702042(w_706048, newsize_20061(e_706050.position_704027.Field0, e_706050.position_704027.Field1));
drawwindow_702060(w_706048);

break;
default: 
result_706051 = 0;
break;
}
return result_706051;
}
function handleevent_706062(w_706048, e_706050) {
var result_706065 = false;
BeforeRet: do {
result_706065 = handleevent_706046(w_706048, e_706050);
break BeforeRet;
} while (false); 
return result_706065;
}
function init_732087(c_732089) {
c_732089.inwhite_732059 = 1.0000000000000000e+00;
c_732089.inblack_732060 = 0.0;
c_732089.ingamma_732061 = 1.0000000000000000e+00;
c_732089.outwhite_732062 = 1.0000000000000000e+00;
c_732089.outblack_732063 = 0.0;
}
function init_728003(c_728005) {
c_728005.projectionmode_713134 = 1;
c_728005.znear_713135 = 1.0000000000000000e+00;
c_728005.zfar_713136 = 1.0000000000000000e+04;
}
function newmaterialwithdefaultcolor_738259() {
var result_738261 = null;
result_738261 = {m_type: NTI738245, ambient_738246: [0.0, 0.0, 0.0, 0.0], emission_738247: [0.0, 0.0, 0.0, 0.0], diffuse_738248: [0.0, 0.0, 0.0, 0.0], specular_738249: [0.0, 0.0, 0.0, 0.0], shininess_738250: 0.0, reflectivity_738251: 0.0, ambientinited_738252: false, emissioninited_738253: false, diffuseinited_738254: false, specularinited_738255: false, shininessinited_738256: false, reflectivityinited_738257: false};
nimCopy(result_738261.ambient_738246, newvector4_21144(0.0, 0.0, 0.0, 0.0), NTI21087);
nimCopy(result_738261.emission_738247, newvector4_21144(0.0, 0.0, 0.0, 0.0), NTI21087);
nimCopy(result_738261.diffuse_738248, newvector4_21144(2.9999999999999999e-01, 2.9999999999999999e-01, 2.9999999999999999e-01, 0.0), NTI21087);
nimCopy(result_738261.specular_738249, newvector4_21144(8.0000000000000004e-01, 8.0000000000000004e-01, 8.0000000000000004e-01, 0.0), NTI21087);
result_738261.shininess_738250 = 1.0000000000000000e+01;
result_738261.reflectivity_738251 = 3.4999999999999998e-01;
result_738261.ambientinited_738252 = 1;
result_738261.emissioninited_738253 = 1;
result_738261.diffuseinited_738254 = 1;
result_738261.specularinited_738255 = 1;
result_738261.shininessinited_738256 = 1;
result_738261.reflectivityinited_738257 = 1;
return result_738261;
}
function loadidentity_21709(dest_21712) {
dest_21712[0] = 1.0000000000000000e+00;
dest_21712[1] = 0.0;
dest_21712[2] = 0.0;
dest_21712[3] = 0.0;
dest_21712[4] = 1.0000000000000000e+00;
dest_21712[5] = 0.0;
dest_21712[6] = 0.0;
dest_21712[7] = 0.0;
dest_21712[8] = 1.0000000000000000e+00;
}
function newtransforminfowithidentity_738279() {
var result_738281 = null;
result_738281 = {m_type: NTI738272, modelmatrix_738273: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], normalmatrix_738274: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], scale_738275: [0.0, 0.0, 0.0], rotation_738276: [0.0, 0.0, 0.0, 0.0], translation_738277: [0.0, 0.0, 0.0]};
nimCopy(result_738281.scale_738275, newvector3_21136(1.0000000000000000e+00, 1.0000000000000000e+00, 1.0000000000000000e+00), NTI21068);
nimCopy(result_738281.rotation_738276, newquaternion_711135(), NTI21087);
nimCopy(result_738281.translation_738277, newvector3_21136(0.0, 0.0, 0.0), NTI21068);
loadidentity_21698(result_738281.modelmatrix_738273);
loadidentity_21709(result_738281.normalmatrix_738274);
return result_738281;
}
function newdefaultmaterial_738798() {
var result_738800 = null;
result_738800 = {m_type: NTI738644, albedotexture_738645: null, glosstexture_738646: null, speculartexture_738647: null, normaltexture_738648: null, bumptexture_738649: null, reflectiontexture_738650: null, fallofftexture_738651: null, color_738652: null, transform_738653: null, islightreceiver_738654: false, blendenable_738655: false, depthenable_738656: false, iswireframe_738657: false, benablebackfaceculling_738658: false, currentlightsourcescount_738659: 0, vertexshader_738660: null, fragmentshader_738661: null, shader_738662: 0, bshaderneedupdate_738663: false, shadermacroflags_738665: {}};
result_738800.currentlightsourcescount_738659 = 0;
result_738800.blendenable_738655 = 1;
result_738800.depthenable_738656 = 1;
result_738800.iswireframe_738657 = 0;
result_738800.islightreceiver_738654 = 1;
result_738800.benablebackfaceculling_738658 = 1;
result_738800.color_738652 = newmaterialwithdefaultcolor_738259();
result_738800.transform_738653 = newtransforminfowithidentity_738279();
result_738800.shader_738662 = 0;
shaderneedupdate_738667(result_738800);
return result_738800;
}
function init_717007(c_717009) {
}
function init_741214(m_741216) {
m_741216.material_741212 = newdefaultmaterial_738798();
init_717007(m_741216);
}
function init_750020(t_750022) {
nimCopy(t_750022.color_750012, blackcolor_20162(), NTI20018);
t_750022.font_750013 = systemfont_658060();
nimCopy(t_750022.shadowcolor_750018, newgraycolor_20154(0.0, 5.0000000000000000e-01), NTI20018);
}
function init_747009(s_747011) {
nimCopy(s_747011.color_747007, whitecolor_20159(), NTI20018);
}
function newanimation_40042() {
var result_40044 = null;
result_40044 = {m_type: NTI40024, starttime_40025: 0.0, loopduration_40026: 0.0, looppattern_40027: 0, numberofloops_40028: 0, timingfunction_40029: null, onanimate_40030: null, finished_40031: false, cancelloop_40032: 0, curloop_40033: 0, continueuntilendoflooponcancel_40034: false, loopprogresshandlers_40036: null, totalprogresshandlers_40038: null, lphit_40039: 0, tphit_40040: 0};
result_40044.numberofloops_40028 = -1;
result_40044.loopduration_40026 = 1.0000000000000000e+00;
result_40044.looppattern_40027 = 1;
return result_40044;
}
function init_744032(p_744034) {
init_717007(p_744034);
nimCopy(p_744034.gravity_744025, newvector3_21136(0.0, 5.0000000000000000e-01, 0.0), NTI21068);
p_744034.animation_744030 = newanimation_40042();
p_744034.animation_744030.numberofloops_40028 = -1;
}
function init_717011(c_717009) {
if (isObj(c_717009.m_type, NTI732058)) {
init_732087(c_717009);
}
else {
if (isObj(c_717009.m_type, NTI713133)) {
init_728003(c_717009);
}
else {
if (isObj(c_717009.m_type, NTI741203)) {
init_741214(c_717009);
}
else {
if (isObj(c_717009.m_type, NTI750010)) {
init_750020(c_717009);
}
else {
if (isObj(c_717009.m_type, NTI747005)) {
init_747009(c_717009);
}
else {
if (isObj(c_717009.m_type, NTI744020)) {
init_744032(c_717009);
}
else {
if (isObj(c_717009.m_type, NTI713087)) {
init_717007(c_717009);
}
}}}}}}
}
function inittable_730668(initialsize_730673) {
var result_730675 = {data_713122: null, counter_713125: 0};
if (!(ispoweroftwo_18625(initialsize_730673))) {
failedassertimpl_14716(cstrToNimstr("isPowerOfTwo(initialSize) "));
}

result_730675.counter_713125 = 0;
result_730675.data_713122 = new Array(chckRange(initialsize_730673, 0, 2147483647)); for (var i=0;i<chckRange(initialsize_730673, 0, 2147483647);++i) {result_730675.data_713122[i]={Field0: 0, Field1: null, Field2: null};}return result_730675;
}
function newtable_731037(initialsize_731042) {
var result_731044 = null;
result_731044 = {data_713122: null, counter_713125: 0};
nimCopy(result_731044, inittable_730668(initialsize_731042), NTI713108);
return result_731044;
}
function rawget_730860(t_730865, key_730867, hc_730869, hc_730869_Idx) {
var Tmp3;
var result_730870 = 0;
BeforeRet: do {
hc_730869[hc_730869_Idx] = hash_636827(key_730867);
if ((hc_730869[hc_730869_Idx] == 0)) {
hc_730869[hc_730869_Idx] = 314159265;
}

var h_730874 = (hc_730869[hc_730869_Idx] & (t_730865.data_713122 != null ? (t_730865.data_713122.length-1) : -1));
L1: do {
L2: while (true) {
if (!isfilled_639263(t_730865.data_713122[chckIndx(h_730874, 0, t_730865.data_713122.length)-0].Field0)) break L2;
if (!(t_730865.data_713122[chckIndx(h_730874, 0, t_730865.data_713122.length)-0].Field0 == hc_730869[hc_730869_Idx])) Tmp3 = false; else {Tmp3 = eqStrings(t_730865.data_713122[chckIndx(h_730874, 0, t_730865.data_713122.length)-0].Field1, key_730867); }if (Tmp3) {
result_730870 = h_730874;
break BeforeRet;
}

h_730874 = nexttry_639401(h_730874, (t_730865.data_713122 != null ? (t_730865.data_713122.length-1) : -1));
}
} while(false);
result_730870 = subInt(-1, h_730874);
} while (false); 
return result_730870;
}
function rawgetknownhc_730941(t_730946, key_730948, hc_730950) {
var result_730951 = 0;
BeforeRet: do {
var h_730952 = (hc_730950 & (t_730946.data_713122 != null ? (t_730946.data_713122.length-1) : -1));
L1: do {
L2: while (true) {
if (!isfilled_639263(t_730946.data_713122[chckIndx(h_730952, 0, t_730946.data_713122.length)-0].Field0)) break L2;
if (((t_730946.data_713122[chckIndx(h_730952, 0, t_730946.data_713122.length)-0].Field0 == hc_730950) && eqStrings(t_730946.data_713122[chckIndx(h_730952, 0, t_730946.data_713122.length)-0].Field1, key_730948))) {
result_730951 = h_730952;
break BeforeRet;
}

h_730952 = nexttry_639401(h_730952, (t_730946.data_713122 != null ? (t_730946.data_713122.length-1) : -1));
}
} while(false);
result_730951 = subInt(-1, h_730952);
} while (false); 
return result_730951;
}
function rawinsert_730957(t_730964, data_730968, data_730968_Idx, key_730970, val_730972, hc_730974, h_730976) {
data_730968[data_730968_Idx][chckIndx(h_730976, 0, data_730968[data_730968_Idx].length)-0].Field1 = key_730970;
data_730968[data_730968_Idx][chckIndx(h_730976, 0, data_730968[data_730968_Idx].length)-0].Field2 = val_730972;
data_730968[data_730968_Idx][chckIndx(h_730976, 0, data_730968[data_730968_Idx].length)-0].Field0 = hc_730974;
}
function enlarge_730888(t_730895) {
var n_730899 = null;
n_730899 = new Array(chckRange(mulInt((t_730895.data_713122 != null ? t_730895.data_713122.length : 0), 2), 0, 2147483647)); for (var i=0;i<chckRange(mulInt((t_730895.data_713122 != null ? t_730895.data_713122.length : 0), 2), 0, 2147483647);++i) {n_730899[i]={Field0: 0, Field1: null, Field2: null};}var Tmp1 = t_730895.data_713122; t_730895.data_713122 = n_730899; n_730899 = Tmp1;L2: do {
var i_730939 = 0;
var HEX3Atmp_730980 = 0;
HEX3Atmp_730980 = (n_730899 != null ? (n_730899.length-1) : -1);
var res_730983 = 0;
L3: do {
L4: while (true) {
if (!(res_730983 <= HEX3Atmp_730980)) break L4;
i_730939 = res_730983;
if (isfilled_639263(n_730899[chckIndx(i_730939, 0, n_730899.length)-0].Field0)) {
var j_730955 = subInt(-1, rawgetknownhc_730941(t_730895, n_730899[chckIndx(i_730939, 0, n_730899.length)-0].Field1, n_730899[chckIndx(i_730939, 0, n_730899.length)-0].Field0));
rawinsert_730957(t_730895, t_730895, "data_713122", n_730899[chckIndx(i_730939, 0, n_730899.length)-0].Field1, n_730899[chckIndx(i_730939, 0, n_730899.length)-0].Field2, n_730899[chckIndx(i_730939, 0, n_730899.length)-0].Field0, j_730955);
}

res_730983 = addInt(res_730983, 1);
}
} while(false);
} while(false);
}
function HEX5BHEX5DHEX3D_730846(t_730853, key_730855, val_730857) {
var hc_730858 = [0];
var index_730878 = rawget_730860(t_730853, key_730855, hc_730858, 0);
if ((0 <= index_730878)) {
t_730853.data_713122[chckIndx(index_730878, 0, t_730853.data_713122.length)-0].Field2 = val_730857;
}
else {
if (mustrehash_639268((t_730853.data_713122 != null ? t_730853.data_713122.length : 0), t_730853.counter_713125)) {
enlarge_730888(t_730853);
index_730878 = rawgetknownhc_730941(t_730853, key_730855, hc_730858[0]);
}

index_730878 = subInt(-1, index_730878);
rawinsert_730957(t_730853, t_730853, "data_713122", key_730855, val_730857, hc_730858[0], index_730878);
t_730853.counter_713125 = addInt(t_730853.counter_713125, 1);
}

}
function HEX5BHEX5DHEX3D_731081(t_731087, key_731089, val_731091) {
HEX5BHEX5DHEX3D_730846(t_731087, key_731089, val_731091);
}
function addlightsource_730623(v_730625, ls_730626) {
if (v_730625.lightsources_713126 == null) {
v_730625.lightsources_713126 = newtable_731037(64);
}

if ((len_731072(v_730625.lightsources_713126) < 8)) {
HEX5BHEX5DHEX3D_731081(v_730625.lightsources_713126, ls_730626.node_713088.name_713056, ls_730626);
}
else {
rawEcho(cstrToNimstr("Count of light sources is limited. Current count equals 8"));
}

}
function componentnodewasaddedtosceneview_736055(ls_736057) {
addlightsource_730623(sceneview_717001(ls_736057.node_713088), ls_736057);
}
function componentnodewasaddedtosceneview_731421(ui_731423) {
var sv_731424 = sceneview_717001(ui_731423.node_713088);
if (sv_731424.uicomponents_713128 == null) {
sv_731424.uicomponents_713128 = [ui_731423];
}
else {
if (sv_731424.uicomponents_713128 != null) { sv_731424.uicomponents_713128.push(ui_731423); } else { sv_731424.uicomponents_713128 = [ui_731423]; };
}

}
function componentnodewasaddedtosceneview_717663(c_717665) {
sceneview_717001(c_717665.node_713088).numberofnodeswithbackcomposition_713093 = addInt(sceneview_717001(c_717665.node_713088).numberofnodeswithbackcomposition_713093, 1);
}
function componentnodewasaddedtosceneview_717571(c_717573) {
}
function componentnodewasaddedtosceneview_717575(c_717573) {
if (isObj(c_717573.m_type, NTI713147)) {
componentnodewasaddedtosceneview_736055(c_717573);
}
else {
if (isObj(c_717573.m_type, NTI713144)) {
componentnodewasaddedtosceneview_731421(c_717573);
}
else {
if (isObj(c_717573.m_type, NTI717661)) {
componentnodewasaddedtosceneview_717663(c_717573);
}
else {
if (isObj(c_717573.m_type, NTI713087)) {
componentnodewasaddedtosceneview_717571(c_717573);
}
}}}
}
function del_731142(t_731149, key_731151) {
var Tmp6;
var Tmp7;
var Tmp8;
var Tmp9;
var Tmp10;
var hc_731152 = [0];
var i_731166 = rawget_730860(t_731149, key_731151, hc_731152, 0);
var msk_731167 = (t_731149.data_713122 != null ? (t_731149.data_713122.length-1) : -1);
if ((0 <= i_731166)) {
t_731149.data_713122[chckIndx(i_731166, 0, t_731149.data_713122.length)-0].Field0 = 0;
t_731149.counter_713125 = subInt(t_731149.counter_713125, 1);
L1: do {
L2: do {
L3: while (true) {
if (!1) break L3;
var j_731178 = i_731166;
var r_731179 = j_731178;
t_731149.data_713122[chckIndx(i_731166, 0, t_731149.data_713122.length)-0].Field0 = 0;
L4: do {
L5: while (true) {
if (!1) break L5;
i_731166 = (addInt(i_731166, 1) & msk_731167);
if (isempty_639259(t_731149.data_713122[chckIndx(i_731166, 0, t_731149.data_713122.length)-0].Field0)) {
break L1;
}

r_731179 = (t_731149.data_713122[chckIndx(i_731166, 0, t_731149.data_713122.length)-0].Field0 & msk_731167);
if (!(r_731179 <= i_731166)) Tmp8 = false; else {Tmp8 = (j_731178 < r_731179); }if (Tmp8) Tmp7 = true; else {if (!(j_731178 < r_731179)) Tmp9 = false; else {Tmp9 = (i_731166 < j_731178); }Tmp7 = Tmp9; }if (Tmp7) Tmp6 = true; else {if (!(i_731166 < j_731178)) Tmp10 = false; else {Tmp10 = (r_731179 <= i_731166); }Tmp6 = Tmp10; }if (!(Tmp6)) {
break L4;
}

}
} while(false);
t_731149.data_713122[chckIndx(j_731178, 0, t_731149.data_713122.length)-0] = t_731149.data_713122[chckIndx(i_731166, 0, t_731149.data_713122.length)-0];
}
} while(false);
} while(false);
}

}
function del_731132(t_731138, key_731140) {
del_731142(t_731138, key_731140);
}
function removelightsource_731108(v_731110, ls_731111) {
var Tmp1;
if (v_731110.lightsources_713126 == null) Tmp1 = true; else {Tmp1 = (len_731072(v_731110.lightsources_713126) <= 0); }if (Tmp1) {
rawEcho(cstrToNimstr("Current light sources count equals 0."));
}
else {
del_731132(v_731110.lightsources_713126, ls_731111.node_713088.name_713056);
}

}
function componentnodewillberemovedfromsceneview_736058(ls_736060) {
removelightsource_731108(sceneview_717001(ls_736060.node_713088), ls_736060);
}
function find_731469(a_731474, item_731476) {
var result_731477 = 0;
BeforeRet: do {
L1: do {
var i_731602 = null;
var i_731626 = 0;
var L_731628 = (a_731474 != null ? a_731474.length : 0);
L2: do {
L3: while (true) {
if (!(i_731626 < L_731628)) break L3;
i_731602 = a_731474[chckIndx(i_731626, 0, a_731474.length)-0];
if ((i_731602 == item_731476)) {
break BeforeRet;
}

result_731477 = addInt(result_731477, 1);
i_731626 = addInt(i_731626, 1);
if (!(((a_731474 != null ? a_731474.length : 0) == L_731628))) {
failedassertimpl_14716(cstrToNimstr("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
result_731477 = -1;
} while (false); 
return result_731477;
}
function del_731631(x_731637, x_731637_Idx, i_731639) {
var xl_731648 = subInt((x_731637[x_731637_Idx] != null ? x_731637[x_731637_Idx].length : 0), 1);
x_731637[x_731637_Idx][chckIndx(i_731639, 0, x_731637[x_731637_Idx].length)-0] = x_731637[x_731637_Idx][chckIndx(xl_731648, 0, x_731637[x_731637_Idx].length)-0];
x_731637[x_731637_Idx].length = chckRange(xl_731648, 0, 2147483647);
}
function componentnodewillberemovedfromsceneview_731456(ui_731458) {
var sv_731459 = sceneview_717001(ui_731458.node_713088);
if (!(sv_731459.uicomponents_713128 == null)) {
var i_731629 = find_731469(sv_731459.uicomponents_713128, ui_731458);
if (!((i_731629 == -1))) {
del_731631(sv_731459, "uicomponents_713128", chckRange(i_731629, 0, 2147483647));
}

}

}
function componentnodewillberemovedfromsceneview_717675(c_717677) {
sceneview_717001(c_717677.node_713088).numberofnodeswithbackcomposition_713093 = subInt(sceneview_717001(c_717677.node_713088).numberofnodeswithbackcomposition_713093, 1);
}
function componentnodewillberemovedfromsceneview_717577(c_717579) {
}
function componentnodewillberemovedfromsceneview_717581(c_717579) {
if (isObj(c_717579.m_type, NTI713147)) {
componentnodewillberemovedfromsceneview_736058(c_717579);
}
else {
if (isObj(c_717579.m_type, NTI713144)) {
componentnodewillberemovedfromsceneview_731456(c_717579);
}
else {
if (isObj(c_717579.m_type, NTI717661)) {
componentnodewillberemovedfromsceneview_717675(c_717579);
}
else {
if (isObj(c_717579.m_type, NTI713087)) {
componentnodewillberemovedfromsceneview_717577(c_717579);
}
}}}
}
function visitproperties_736061(ls_736063, p_736065) {
function HEX3Aanonymous_736098(v_736069) {
lightambientHEX3D_736003(ls_736063, v_736069);
}
function HEX3Aanonymous_736100() {
var result_736102 = 0.0;
result_736102 = ls_736063.mlightambient_713148;
return result_736102;
}
function HEX3Aanonymous_736142(v_736113) {
lightdiffuseHEX3D_736007(ls_736063, v_736113);
}
function HEX3Aanonymous_736144() {
var result_736146 = 0.0;
result_736146 = ls_736063.mlightdiffuse_713149;
return result_736146;
}
function HEX3Aanonymous_736186(v_736157) {
lightspecularHEX3D_736011(ls_736063, v_736157);
}
function HEX3Aanonymous_736188() {
var result_736190 = 0.0;
result_736190 = ls_736063.mlightspecular_713150;
return result_736190;
}
function HEX3Aanonymous_736230(v_736201) {
lightconstantHEX3D_736015(ls_736063, v_736201);
}
function HEX3Aanonymous_736232() {
var result_736234 = 0.0;
result_736234 = ls_736063.mlightconstant_713151;
return result_736234;
}
function HEX3Aanonymous_736274(v_736245) {
lightlinearHEX3D_736019(ls_736063, v_736245);
}
function HEX3Aanonymous_736276() {
var result_736278 = 0.0;
result_736278 = ls_736063.mlightlinear_713152;
return result_736278;
}
function HEX3Aanonymous_736318(v_736289) {
lightquadraticHEX3D_736023(ls_736063, v_736289);
}
function HEX3Aanonymous_736320() {
var result_736322 = 0.0;
result_736322 = ls_736063.mlightquadratic_713153;
return result_736322;
}
if (!(SetEq(SetMul(SetConstr(0, 1), p_736065.flags_716026), SetConstr()))) {
var sng_736067 = {Field0: null, Field1: null};
if (p_736065.requiresetter_716022) {
sng_736067.Field0 = HEX3Aanonymous_736098;
}

if (p_736065.requiregetter_716023) {
sng_736067.Field1 = HEX3Aanonymous_736100;
}

if (p_736065.requirename_716024) {
p_736065.name_716028 = cstrToNimstr("ambient");
}

nimCopy(p_736065.setterandgetter_716027, newvariant_721455(sng_736067), NTI714821);
p_736065.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(0, 1), p_736065.flags_716026), SetConstr()))) {
var sng_736111 = {Field0: null, Field1: null};
if (p_736065.requiresetter_716022) {
sng_736111.Field0 = HEX3Aanonymous_736142;
}

if (p_736065.requiregetter_716023) {
sng_736111.Field1 = HEX3Aanonymous_736144;
}

if (p_736065.requirename_716024) {
p_736065.name_716028 = cstrToNimstr("diffuse");
}

nimCopy(p_736065.setterandgetter_716027, newvariant_721455(sng_736111), NTI714821);
p_736065.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(0, 1), p_736065.flags_716026), SetConstr()))) {
var sng_736155 = {Field0: null, Field1: null};
if (p_736065.requiresetter_716022) {
sng_736155.Field0 = HEX3Aanonymous_736186;
}

if (p_736065.requiregetter_716023) {
sng_736155.Field1 = HEX3Aanonymous_736188;
}

if (p_736065.requirename_716024) {
p_736065.name_716028 = cstrToNimstr("specular");
}

nimCopy(p_736065.setterandgetter_716027, newvariant_721455(sng_736155), NTI714821);
p_736065.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(0, 1), p_736065.flags_716026), SetConstr()))) {
var sng_736199 = {Field0: null, Field1: null};
if (p_736065.requiresetter_716022) {
sng_736199.Field0 = HEX3Aanonymous_736230;
}

if (p_736065.requiregetter_716023) {
sng_736199.Field1 = HEX3Aanonymous_736232;
}

if (p_736065.requirename_716024) {
p_736065.name_716028 = cstrToNimstr("constant");
}

nimCopy(p_736065.setterandgetter_716027, newvariant_721455(sng_736199), NTI714821);
p_736065.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(0, 1), p_736065.flags_716026), SetConstr()))) {
var sng_736243 = {Field0: null, Field1: null};
if (p_736065.requiresetter_716022) {
sng_736243.Field0 = HEX3Aanonymous_736274;
}

if (p_736065.requiregetter_716023) {
sng_736243.Field1 = HEX3Aanonymous_736276;
}

if (p_736065.requirename_716024) {
p_736065.name_716028 = cstrToNimstr("linear");
}

nimCopy(p_736065.setterandgetter_716027, newvariant_721455(sng_736243), NTI714821);
p_736065.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(0, 1), p_736065.flags_716026), SetConstr()))) {
var sng_736287 = {Field0: null, Field1: null};
if (p_736065.requiresetter_716022) {
sng_736287.Field0 = HEX3Aanonymous_736318;
}

if (p_736065.requiregetter_716023) {
sng_736287.Field1 = HEX3Aanonymous_736320;
}

if (p_736065.requirename_716024) {
p_736065.name_716028 = cstrToNimstr("quadratic");
}

nimCopy(p_736065.setterandgetter_716027, newvariant_721455(sng_736287), NTI714821);
p_736065.commit_716031();
}

}
function visitproperties_732285(c_732287, p_732289) {
function HEX3Aanonymous_732322(v_732293) {
c_732287.inwhite_732059 = v_732293;
}
function HEX3Aanonymous_732324() {
var result_732326 = 0.0;
result_732326 = c_732287.inwhite_732059;
return result_732326;
}
function HEX3Aanonymous_732366(v_732337) {
c_732287.inblack_732060 = v_732337;
}
function HEX3Aanonymous_732368() {
var result_732370 = 0.0;
result_732370 = c_732287.inblack_732060;
return result_732370;
}
function HEX3Aanonymous_732410(v_732381) {
c_732287.ingamma_732061 = v_732381;
}
function HEX3Aanonymous_732412() {
var result_732414 = 0.0;
result_732414 = c_732287.ingamma_732061;
return result_732414;
}
function HEX3Aanonymous_732454(v_732425) {
c_732287.outwhite_732062 = v_732425;
}
function HEX3Aanonymous_732456() {
var result_732458 = 0.0;
result_732458 = c_732287.outwhite_732062;
return result_732458;
}
function HEX3Aanonymous_732498(v_732469) {
c_732287.outblack_732063 = v_732469;
}
function HEX3Aanonymous_732500() {
var result_732502 = 0.0;
result_732502 = c_732287.outblack_732063;
return result_732502;
}
if (!(SetEq(SetMul(SetConstr(0, 1), p_732289.flags_716026), SetConstr()))) {
var sng_732291 = {Field0: null, Field1: null};
if (p_732289.requiresetter_716022) {
sng_732291.Field0 = HEX3Aanonymous_732322;
}

if (p_732289.requiregetter_716023) {
sng_732291.Field1 = HEX3Aanonymous_732324;
}

if (p_732289.requirename_716024) {
p_732289.name_716028 = cstrToNimstr("inWhite");
}

nimCopy(p_732289.setterandgetter_716027, newvariant_721455(sng_732291), NTI714821);
p_732289.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(0, 1), p_732289.flags_716026), SetConstr()))) {
var sng_732335 = {Field0: null, Field1: null};
if (p_732289.requiresetter_716022) {
sng_732335.Field0 = HEX3Aanonymous_732366;
}

if (p_732289.requiregetter_716023) {
sng_732335.Field1 = HEX3Aanonymous_732368;
}

if (p_732289.requirename_716024) {
p_732289.name_716028 = cstrToNimstr("inBlack");
}

nimCopy(p_732289.setterandgetter_716027, newvariant_721455(sng_732335), NTI714821);
p_732289.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(0, 1), p_732289.flags_716026), SetConstr()))) {
var sng_732379 = {Field0: null, Field1: null};
if (p_732289.requiresetter_716022) {
sng_732379.Field0 = HEX3Aanonymous_732410;
}

if (p_732289.requiregetter_716023) {
sng_732379.Field1 = HEX3Aanonymous_732412;
}

if (p_732289.requirename_716024) {
p_732289.name_716028 = cstrToNimstr("inGamma");
}

nimCopy(p_732289.setterandgetter_716027, newvariant_721455(sng_732379), NTI714821);
p_732289.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(0, 1), p_732289.flags_716026), SetConstr()))) {
var sng_732423 = {Field0: null, Field1: null};
if (p_732289.requiresetter_716022) {
sng_732423.Field0 = HEX3Aanonymous_732454;
}

if (p_732289.requiregetter_716023) {
sng_732423.Field1 = HEX3Aanonymous_732456;
}

if (p_732289.requirename_716024) {
p_732289.name_716028 = cstrToNimstr("outWhite");
}

nimCopy(p_732289.setterandgetter_716027, newvariant_721455(sng_732423), NTI714821);
p_732289.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(0, 1), p_732289.flags_716026), SetConstr()))) {
var sng_732467 = {Field0: null, Field1: null};
if (p_732289.requiresetter_716022) {
sng_732467.Field0 = HEX3Aanonymous_732498;
}

if (p_732289.requiregetter_716023) {
sng_732467.Field1 = HEX3Aanonymous_732500;
}

if (p_732289.requirename_716024) {
p_732289.name_716028 = cstrToNimstr("outBlack");
}

nimCopy(p_732289.setterandgetter_716027, newvariant_721455(sng_732467), NTI714821);
p_732289.commit_716031();
}

}
function visitproperties_728030(c_728032, p_728034) {
function HEX3Aanonymous_728067(v_728038) {
c_728032.znear_713135 = v_728038;
}
function HEX3Aanonymous_728069() {
var result_728071 = 0.0;
result_728071 = c_728032.znear_713135;
return result_728071;
}
function HEX3Aanonymous_728111(v_728082) {
c_728032.zfar_713136 = v_728082;
}
function HEX3Aanonymous_728113() {
var result_728115 = 0.0;
result_728115 = c_728032.zfar_713136;
return result_728115;
}
if (!(SetEq(SetMul(SetConstr(0, 1), p_728034.flags_716026), SetConstr()))) {
var sng_728036 = {Field0: null, Field1: null};
if (p_728034.requiresetter_716022) {
sng_728036.Field0 = HEX3Aanonymous_728067;
}

if (p_728034.requiregetter_716023) {
sng_728036.Field1 = HEX3Aanonymous_728069;
}

if (p_728034.requirename_716024) {
p_728034.name_716028 = cstrToNimstr("zNear");
}

nimCopy(p_728034.setterandgetter_716027, newvariant_721455(sng_728036), NTI714821);
p_728034.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(0, 1), p_728034.flags_716026), SetConstr()))) {
var sng_728080 = {Field0: null, Field1: null};
if (p_728034.requiresetter_716022) {
sng_728080.Field0 = HEX3Aanonymous_728111;
}

if (p_728034.requiregetter_716023) {
sng_728080.Field1 = HEX3Aanonymous_728113;
}

if (p_728034.requirename_716024) {
p_728034.name_716028 = cstrToNimstr("zFar");
}

nimCopy(p_728034.setterandgetter_716027, newvariant_721455(sng_728080), NTI714821);
p_728034.commit_716031();
}

}
function newvariant_747455(val_747459) {
var result_747460 = {typeid_714822: 0, val: null};
result_747460.typeid_714822 = 1714999136;
var valcopy_747801 = nimCopy(null, val_747459, NTI747436);
        result_747460.val = valcopy_747801;
        return result_747460;
}
function visitproperties_750288(t_750290, p_750292) {
function HEX3Aanonymous_750325(v_750296) {
t_750290.text_750011 = v_750296;
}
function HEX3Aanonymous_750327() {
var result_750329 = null;
result_750329 = t_750290.text_750011;
return result_750329;
}
function HEX3Aanonymous_750369(v_750340) {
nimCopy(t_750290.color_750012, v_750340, NTI20018);
}
function HEX3Aanonymous_750371() {
var result_750373 = {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0};
nimCopy(result_750373, t_750290.color_750012, NTI20018);
return result_750373;
}
function HEX3Aanonymous_750413(v_750384) {
t_750290.shadowx_750016 = v_750384;
}
function HEX3Aanonymous_750415() {
var result_750417 = 0.0;
result_750417 = t_750290.shadowx_750016;
return result_750417;
}
function HEX3Aanonymous_750457(v_750428) {
t_750290.shadowy_750017 = v_750428;
}
function HEX3Aanonymous_750459() {
var result_750461 = 0.0;
result_750461 = t_750290.shadowy_750017;
return result_750461;
}
function HEX3Aanonymous_750501(v_750472) {
nimCopy(t_750290.shadowcolor_750018, v_750472, NTI20018);
}
function HEX3Aanonymous_750503() {
var result_750505 = {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0};
nimCopy(result_750505, t_750290.shadowcolor_750018, NTI20018);
return result_750505;
}
function HEX3Aanonymous_750545(v_750516) {
t_750290.trackingamount_750014 = v_750516;
}
function HEX3Aanonymous_750547() {
var result_750549 = 0.0;
result_750549 = t_750290.trackingamount_750014;
return result_750549;
}
if (!(SetEq(SetMul(SetConstr(0, 1), p_750292.flags_716026), SetConstr()))) {
var sng_750294 = {Field0: null, Field1: null};
if (p_750292.requiresetter_716022) {
sng_750294.Field0 = HEX3Aanonymous_750325;
}

if (p_750292.requiregetter_716023) {
sng_750294.Field1 = HEX3Aanonymous_750327;
}

if (p_750292.requirename_716024) {
p_750292.name_716028 = cstrToNimstr("text");
}

nimCopy(p_750292.setterandgetter_716027, newvariant_720193(sng_750294), NTI714821);
p_750292.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(0, 1), p_750292.flags_716026), SetConstr()))) {
var sng_750338 = {Field0: null, Field1: null};
if (p_750292.requiresetter_716022) {
sng_750338.Field0 = HEX3Aanonymous_750369;
}

if (p_750292.requiregetter_716023) {
sng_750338.Field1 = HEX3Aanonymous_750371;
}

if (p_750292.requirename_716024) {
p_750292.name_716028 = cstrToNimstr("color");
}

nimCopy(p_750292.setterandgetter_716027, newvariant_747455(sng_750338), NTI714821);
p_750292.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(0, 1), p_750292.flags_716026), SetConstr()))) {
var sng_750382 = {Field0: null, Field1: null};
if (p_750292.requiresetter_716022) {
sng_750382.Field0 = HEX3Aanonymous_750413;
}

if (p_750292.requiregetter_716023) {
sng_750382.Field1 = HEX3Aanonymous_750415;
}

if (p_750292.requirename_716024) {
p_750292.name_716028 = cstrToNimstr("shadowX");
}

nimCopy(p_750292.setterandgetter_716027, newvariant_721455(sng_750382), NTI714821);
p_750292.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(0, 1), p_750292.flags_716026), SetConstr()))) {
var sng_750426 = {Field0: null, Field1: null};
if (p_750292.requiresetter_716022) {
sng_750426.Field0 = HEX3Aanonymous_750457;
}

if (p_750292.requiregetter_716023) {
sng_750426.Field1 = HEX3Aanonymous_750459;
}

if (p_750292.requirename_716024) {
p_750292.name_716028 = cstrToNimstr("shadowY");
}

nimCopy(p_750292.setterandgetter_716027, newvariant_721455(sng_750426), NTI714821);
p_750292.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(0, 1), p_750292.flags_716026), SetConstr()))) {
var sng_750470 = {Field0: null, Field1: null};
if (p_750292.requiresetter_716022) {
sng_750470.Field0 = HEX3Aanonymous_750501;
}

if (p_750292.requiregetter_716023) {
sng_750470.Field1 = HEX3Aanonymous_750503;
}

if (p_750292.requirename_716024) {
p_750292.name_716028 = cstrToNimstr("shadowColor");
}

nimCopy(p_750292.setterandgetter_716027, newvariant_747455(sng_750470), NTI714821);
p_750292.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(0, 1), p_750292.flags_716026), SetConstr()))) {
var sng_750514 = {Field0: null, Field1: null};
if (p_750292.requiresetter_716022) {
sng_750514.Field0 = HEX3Aanonymous_750545;
}

if (p_750292.requiregetter_716023) {
sng_750514.Field1 = HEX3Aanonymous_750547;
}

if (p_750292.requirename_716024) {
p_750292.name_716028 = cstrToNimstr("Tracking Amount");
}

nimCopy(p_750292.setterandgetter_716027, newvariant_721455(sng_750514), NTI714821);
p_750292.commit_716031();
}

}
function newseq_749058(len_749062) {
var result_749064 = null;
result_749064 = new Array(len_749062); for (var i=0;i<len_749062;++i) {result_749064[i]=null;}return result_749064;
}
function imageHEX3D_749033(s_749035, i_749036) {
if (s_749035.images_749008 == null) {
s_749035.images_749008 = newseq_749058(1);
}
else {
s_749035.images_749008.length = 1;
}

s_749035.images_749008[0] = i_749036;
s_749035.currentframe_749009 = 0;
}
function newvariant_749306(val_749310) {
var result_749311 = {typeid_714822: 0, val: null};
result_749311.typeid_714822 = 2133577283;
var valcopy_749601 = nimCopy(null, val_749310, NTI749287);
        result_749311.val = valcopy_749601;
        return result_749311;
}
function newvariant_745240(val_745244) {
var result_745245 = {typeid_714822: 0, val: null};
result_745245.typeid_714822 = 1776087487;
var valcopy_745601 = nimCopy(null, val_745244, NTI725777);
        result_745245.val = valcopy_745601;
        return result_745245;
}
function visitproperties_749248(t_749250, p_749252) {
function HEX3Aanonymous_749300(v_749256) {
imageHEX3D_749033(t_749250, v_749256);
}
function HEX3Aanonymous_749302() {
var result_749304 = null;
result_749304 = image_749013(t_749250);
return result_749304;
}
function HEX3Aanonymous_749634(v_749605) {
t_749250.currentframe_749009 = v_749605;
}
function HEX3Aanonymous_749636() {
var result_749638 = 0;
result_749638 = t_749250.currentframe_749009;
return result_749638;
}
if (!(SetEq(SetMul(SetConstr(0, 1), p_749252.flags_716026), SetConstr()))) {
var sng_749254 = {Field0: null, Field1: null};
if (p_749252.requiresetter_716022) {
sng_749254.Field0 = HEX3Aanonymous_749300;
}

if (p_749252.requiregetter_716023) {
sng_749254.Field1 = HEX3Aanonymous_749302;
}

if (p_749252.requirename_716024) {
p_749252.name_716028 = cstrToNimstr("image");
}

nimCopy(p_749252.setterandgetter_716027, newvariant_749306(sng_749254), NTI714821);
p_749252.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(0, 1), p_749252.flags_716026), SetConstr()))) {
var sng_749603 = {Field0: null, Field1: null};
if (p_749252.requiresetter_716022) {
sng_749603.Field0 = HEX3Aanonymous_749634;
}

if (p_749252.requiregetter_716023) {
sng_749603.Field1 = HEX3Aanonymous_749636;
}

if (p_749252.requirename_716024) {
p_749252.name_716028 = cstrToNimstr("curFrame");
}

nimCopy(p_749252.setterandgetter_716027, newvariant_745240(sng_749603), NTI714821);
p_749252.commit_716031();
}

}
function newvariant_747114(val_747118) {
var result_747119 = {typeid_714822: 0, val: null};
result_747119.typeid_714822 = 1624508574;
var valcopy_747401 = nimCopy(null, val_747118, NTI747095);
        result_747119.val = valcopy_747401;
        return result_747119;
}
function visitproperties_747056(c_747058, p_747060) {
function HEX3Aanonymous_747108(v_747064) {
nimCopy(c_747058.size_747006, v_747064, NTI20010);
}
function HEX3Aanonymous_747110() {
var result_747112 = {Field0: 0.0, Field1: 0.0};
nimCopy(result_747112, c_747058.size_747006, NTI20010);
return result_747112;
}
function HEX3Aanonymous_747449(v_747405) {
nimCopy(c_747058.color_747007, v_747405, NTI20018);
}
function HEX3Aanonymous_747451() {
var result_747453 = {Field0: 0.0, Field1: 0.0, Field2: 0.0, Field3: 0.0};
nimCopy(result_747453, c_747058.color_747007, NTI20018);
return result_747453;
}
if (!(SetEq(SetMul(SetConstr(0, 1), p_747060.flags_716026), SetConstr()))) {
var sng_747062 = {Field0: null, Field1: null};
if (p_747060.requiresetter_716022) {
sng_747062.Field0 = HEX3Aanonymous_747108;
}

if (p_747060.requiregetter_716023) {
sng_747062.Field1 = HEX3Aanonymous_747110;
}

if (p_747060.requirename_716024) {
p_747060.name_716028 = cstrToNimstr("size");
}

nimCopy(p_747060.setterandgetter_716027, newvariant_747114(sng_747062), NTI714821);
p_747060.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(0, 1), p_747060.flags_716026), SetConstr()))) {
var sng_747403 = {Field0: null, Field1: null};
if (p_747060.requiresetter_716022) {
sng_747403.Field0 = HEX3Aanonymous_747449;
}

if (p_747060.requiregetter_716023) {
sng_747403.Field1 = HEX3Aanonymous_747451;
}

if (p_747060.requirename_716024) {
p_747060.name_716028 = cstrToNimstr("color");
}

nimCopy(p_747060.setterandgetter_716027, newvariant_747455(sng_747403), NTI714821);
p_747060.commit_716031();
}

}
function newvariant_744470(val_744474) {
var result_744475 = {typeid_714822: 0, val: null};
result_744475.typeid_714822 = 890521595;
var valcopy_744801 = nimCopy(null, val_744474, NTI744451);
        result_744475.val = valcopy_744801;
        return result_744475;
}
function newvariant_744899(val_744903) {
var result_744904 = {typeid_714822: 0, val: null};
result_744904.typeid_714822 = 2122544485;
var valcopy_745201 = nimCopy(null, val_744903, NTI744880);
        result_744904.val = valcopy_745201;
        return result_744904;
}
function visitproperties_744412(pe_744414, p_744416) {
function HEX3Aanonymous_744464(v_744420) {
pe_744414.lifetime_744021 = v_744420;
}
function HEX3Aanonymous_744466() {
var result_744468 = 0.0;
result_744468 = pe_744414.lifetime_744021;
return result_744468;
}
function HEX3Aanonymous_744834(v_744805) {
pe_744414.birthrate_744022 = v_744805;
}
function HEX3Aanonymous_744836() {
var result_744838 = 0.0;
result_744838 = pe_744414.birthrate_744022;
return result_744838;
}
function HEX3Aanonymous_744893(v_744849) {
pe_744414.particleprototype_744023 = v_744849;
}
function HEX3Aanonymous_744895() {
var result_744897 = null;
result_744897 = pe_744414.particleprototype_744023;
return result_744897;
}
function HEX3Aanonymous_745234(v_745205) {
pe_744414.numberofparticles_744024 = v_745205;
}
function HEX3Aanonymous_745236() {
var result_745238 = 0;
result_745238 = pe_744414.numberofparticles_744024;
return result_745238;
}
function HEX3Aanonymous_745634(v_745605) {
nimCopy(pe_744414.gravity_744025, v_745605, NTI21068);
}
function HEX3Aanonymous_745636() {
var result_745638 = [0.0, 0.0, 0.0];
nimCopy(result_745638, pe_744414.gravity_744025, NTI21068);
return result_745638;
}
if (!(SetEq(SetMul(SetConstr(0, 1), p_744416.flags_716026), SetConstr()))) {
var sng_744418 = {Field0: null, Field1: null};
if (p_744416.requiresetter_716022) {
sng_744418.Field0 = HEX3Aanonymous_744464;
}

if (p_744416.requiregetter_716023) {
sng_744418.Field1 = HEX3Aanonymous_744466;
}

if (p_744416.requirename_716024) {
p_744416.name_716028 = cstrToNimstr("lifetime");
}

nimCopy(p_744416.setterandgetter_716027, newvariant_744470(sng_744418), NTI714821);
p_744416.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(0, 1), p_744416.flags_716026), SetConstr()))) {
var sng_744803 = {Field0: null, Field1: null};
if (p_744416.requiresetter_716022) {
sng_744803.Field0 = HEX3Aanonymous_744834;
}

if (p_744416.requiregetter_716023) {
sng_744803.Field1 = HEX3Aanonymous_744836;
}

if (p_744416.requirename_716024) {
p_744416.name_716028 = cstrToNimstr("birthRate");
}

nimCopy(p_744416.setterandgetter_716027, newvariant_744470(sng_744803), NTI714821);
p_744416.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(0, 1), p_744416.flags_716026), SetConstr()))) {
var sng_744847 = {Field0: null, Field1: null};
if (p_744416.requiresetter_716022) {
sng_744847.Field0 = HEX3Aanonymous_744893;
}

if (p_744416.requiregetter_716023) {
sng_744847.Field1 = HEX3Aanonymous_744895;
}

if (p_744416.requirename_716024) {
p_744416.name_716028 = cstrToNimstr("particlePrototype");
}

nimCopy(p_744416.setterandgetter_716027, newvariant_744899(sng_744847), NTI714821);
p_744416.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(0, 1), p_744416.flags_716026), SetConstr()))) {
var sng_745203 = {Field0: null, Field1: null};
if (p_744416.requiresetter_716022) {
sng_745203.Field0 = HEX3Aanonymous_745234;
}

if (p_744416.requiregetter_716023) {
sng_745203.Field1 = HEX3Aanonymous_745236;
}

if (p_744416.requirename_716024) {
p_744416.name_716028 = cstrToNimstr("numberOfParticles");
}

nimCopy(p_744416.setterandgetter_716027, newvariant_745240(sng_745203), NTI714821);
p_744416.commit_716031();
}

if (!(SetEq(SetMul(SetConstr(0, 1), p_744416.flags_716026), SetConstr()))) {
var sng_745603 = {Field0: null, Field1: null};
if (p_744416.requiresetter_716022) {
sng_745603.Field0 = HEX3Aanonymous_745634;
}

if (p_744416.requiregetter_716023) {
sng_745603.Field1 = HEX3Aanonymous_745636;
}

if (p_744416.requirename_716024) {
p_744416.name_716028 = cstrToNimstr("gravity");
}

nimCopy(p_744416.setterandgetter_716027, newvariant_720657(sng_745603), NTI714821);
p_744416.commit_716031();
}

}
function visitproperties_717592(c_717594, p_717596) {
}
function visitproperties_717598(c_717594, p_717596) {
if (isObj(c_717594.m_type, NTI713147)) {
visitproperties_736061(c_717594, p_717596);
}
else {
if (isObj(c_717594.m_type, NTI732058)) {
visitproperties_732285(c_717594, p_717596);
}
else {
if (isObj(c_717594.m_type, NTI713133)) {
visitproperties_728030(c_717594, p_717596);
}
else {
if (isObj(c_717594.m_type, NTI750010)) {
visitproperties_750288(c_717594, p_717596);
}
else {
if (isObj(c_717594.m_type, NTI749005)) {
visitproperties_749248(c_717594, p_717596);
}
else {
if (isObj(c_717594.m_type, NTI747005)) {
visitproperties_747056(c_717594, p_717596);
}
else {
if (isObj(c_717594.m_type, NTI744020)) {
visitproperties_744412(c_717594, p_717596);
}
else {
if (isObj(c_717594.m_type, NTI713087)) {
visitproperties_717592(c_717594, p_717596);
}
}}}}}}}
}
function HEX5BHEX5D_667826(node_667828, name_667829) {
var result_667830 = null;
BeforeRet: do {
if (!(!(node_667828 == null))) {
failedassertimpl_14716(cstrToNimstr("not isNil(node) "));
}

if (!((node_667828.kind_666643 == 5))) {
failedassertimpl_14716(cstrToNimstr("node.kind == JObject "));
}

L1: do {
var key_668402 = null;
var item_668403 = null;
var HEX3Atmp_668405 = null;
HEX3Atmp_668405 = node_667828.fields_666652;
var i_668408 = 0;
var L_668410 = (HEX3Atmp_668405 != null ? HEX3Atmp_668405.length : 0);
L2: do {
L3: while (true) {
if (!(i_668408 < L_668410)) break L3;
key_668402 = HEX3Atmp_668405[chckIndx(i_668408, 0, HEX3Atmp_668405.length)-0]["Field0"];
item_668403 = HEX3Atmp_668405[chckIndx(i_668408, 0, HEX3Atmp_668405.length)-0]["Field1"];
if (eqStrings(key_668402, name_667829)) {
result_667830 = item_668403;
break BeforeRet;
}

i_668408 = addInt(i_668408, 1);
if (!(((HEX3Atmp_668405 != null ? HEX3Atmp_668405.length : 0) == L_668410))) {
failedassertimpl_14716(cstrToNimstr("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
result_667830 = null;
break BeforeRet;
} while (false); 
return result_667830;
}
function getfnum_666857(n_666859, default_666860) {
var result_666861 = 0.0;
BeforeRet: do {
if (n_666859 == null) {
result_666861 = default_666860;
break BeforeRet;
}

switch (n_666859.kind_666643) {
case 3: result_666861 = n_666859.fnum_666646;
break BeforeRet;

break;
case 2: result_666861 = n_666859.num_666645;
break BeforeRet;

break;
default: 
result_666861 = default_666860;
break BeforeRet;
break;
}
} while (false); 
return result_666861;
}
function getstr_666809(n_666811, default_666812) {
var Tmp1;
var result_666813 = null;
BeforeRet: do {
if (n_666811 == null) Tmp1 = true; else {Tmp1 = !((n_666811.kind_666643 == 4)); }if (Tmp1) {
result_666813 = default_666812;
break BeforeRet;
}
else {
result_666813 = n_666811.str_666644;
break BeforeRet;
}

} while (false); 
return result_666813;
}
function len_667804(n_667806) {
var result_667807 = 0;
switch (n_667806.kind_666643) {
case 6: result_667807 = (n_667806.elems_666654 != null ? n_667806.elems_666654.length : 0);

break;
case 5: result_667807 = (n_667806.fields_666652 != null ? n_667806.fields_666652.length : 0);

break;
default: 
break;
}
return result_667807;
}
function HEX5BHEX5D_668411(node_668413, index_668414) {
var result_668415 = null;
BeforeRet: do {
if (!(!(node_668413 == null))) {
failedassertimpl_14716(cstrToNimstr("not isNil(node) "));
}

if (!((node_668413.kind_666643 == 6))) {
failedassertimpl_14716(cstrToNimstr("node.kind == JArray "));
}

result_668415 = node_668413.elems_666654[chckIndx(index_668414, 0, node_668413.elems_666654.length)-0];
break BeforeRet;
} while (false); 
return result_668415;
}
function inittable_722254(initialsize_722259) {
var result_722261 = {data_713079: null, counter_713082: 0};
if (!(ispoweroftwo_18625(initialsize_722259))) {
failedassertimpl_14716(cstrToNimstr("isPowerOfTwo(initialSize) "));
}

result_722261.counter_713082 = 0;
result_722261.data_713079 = new Array(chckRange(initialsize_722259, 0, 2147483647)); for (var i=0;i<chckRange(initialsize_722259, 0, 2147483647);++i) {result_722261.data_713079[i]={Field0: 0, Field1: null, Field2: null};}return result_722261;
}
function newtable_722237(initialsize_722242) {
var result_722244 = null;
result_722244 = {data_713079: null, counter_713082: 0};
nimCopy(result_722244, inittable_722254(initialsize_722242), NTI713065);
return result_722244;
}
function rawget_722194(t_722199, key_722201, hc_722203, hc_722203_Idx) {
var Tmp3;
var result_722204 = 0;
BeforeRet: do {
hc_722203[hc_722203_Idx] = hash_636827(key_722201);
if ((hc_722203[hc_722203_Idx] == 0)) {
hc_722203[hc_722203_Idx] = 314159265;
}

var h_722208 = (hc_722203[hc_722203_Idx] & (t_722199.data_713079 != null ? (t_722199.data_713079.length-1) : -1));
L1: do {
L2: while (true) {
if (!isfilled_639263(t_722199.data_713079[chckIndx(h_722208, 0, t_722199.data_713079.length)-0].Field0)) break L2;
if (!(t_722199.data_713079[chckIndx(h_722208, 0, t_722199.data_713079.length)-0].Field0 == hc_722203[hc_722203_Idx])) Tmp3 = false; else {Tmp3 = eqStrings(t_722199.data_713079[chckIndx(h_722208, 0, t_722199.data_713079.length)-0].Field1, key_722201); }if (Tmp3) {
result_722204 = h_722208;
break BeforeRet;
}

h_722208 = nexttry_639401(h_722208, (t_722199.data_713079 != null ? (t_722199.data_713079.length-1) : -1));
}
} while(false);
result_722204 = subInt(-1, h_722208);
} while (false); 
return result_722204;
}
function rawgetknownhc_722574(t_722579, key_722581, hc_722583) {
var result_722584 = 0;
BeforeRet: do {
var h_722585 = (hc_722583 & (t_722579.data_713079 != null ? (t_722579.data_713079.length-1) : -1));
L1: do {
L2: while (true) {
if (!isfilled_639263(t_722579.data_713079[chckIndx(h_722585, 0, t_722579.data_713079.length)-0].Field0)) break L2;
if (((t_722579.data_713079[chckIndx(h_722585, 0, t_722579.data_713079.length)-0].Field0 == hc_722583) && eqStrings(t_722579.data_713079[chckIndx(h_722585, 0, t_722579.data_713079.length)-0].Field1, key_722581))) {
result_722584 = h_722585;
break BeforeRet;
}

h_722585 = nexttry_639401(h_722585, (t_722579.data_713079 != null ? (t_722579.data_713079.length-1) : -1));
}
} while(false);
result_722584 = subInt(-1, h_722585);
} while (false); 
return result_722584;
}
function rawinsert_722590(t_722597, data_722601, data_722601_Idx, key_722603, val_722605, hc_722607, h_722609) {
data_722601[data_722601_Idx][chckIndx(h_722609, 0, data_722601[data_722601_Idx].length)-0].Field1 = key_722603;
data_722601[data_722601_Idx][chckIndx(h_722609, 0, data_722601[data_722601_Idx].length)-0].Field2 = val_722605;
data_722601[data_722601_Idx][chckIndx(h_722609, 0, data_722601[data_722601_Idx].length)-0].Field0 = hc_722607;
}
function enlarge_722521(t_722528) {
var n_722532 = null;
n_722532 = new Array(chckRange(mulInt((t_722528.data_713079 != null ? t_722528.data_713079.length : 0), 2), 0, 2147483647)); for (var i=0;i<chckRange(mulInt((t_722528.data_713079 != null ? t_722528.data_713079.length : 0), 2), 0, 2147483647);++i) {n_722532[i]={Field0: 0, Field1: null, Field2: null};}var Tmp1 = t_722528.data_713079; t_722528.data_713079 = n_722532; n_722532 = Tmp1;L2: do {
var i_722572 = 0;
var HEX3Atmp_722613 = 0;
HEX3Atmp_722613 = (n_722532 != null ? (n_722532.length-1) : -1);
var res_722616 = 0;
L3: do {
L4: while (true) {
if (!(res_722616 <= HEX3Atmp_722613)) break L4;
i_722572 = res_722616;
if (isfilled_639263(n_722532[chckIndx(i_722572, 0, n_722532.length)-0].Field0)) {
var j_722588 = subInt(-1, rawgetknownhc_722574(t_722528, n_722532[chckIndx(i_722572, 0, n_722532.length)-0].Field1, n_722532[chckIndx(i_722572, 0, n_722532.length)-0].Field0));
rawinsert_722590(t_722528, t_722528, "data_713079", n_722532[chckIndx(i_722572, 0, n_722532.length)-0].Field1, n_722532[chckIndx(i_722572, 0, n_722532.length)-0].Field2, n_722532[chckIndx(i_722572, 0, n_722532.length)-0].Field0, j_722588);
}

res_722616 = addInt(res_722616, 1);
}
} while(false);
} while(false);
}
function HEX5BHEX5DHEX3D_722485(t_722492, key_722494, val_722496) {
var hc_722497 = [0];
var index_722511 = rawget_722194(t_722492, key_722494, hc_722497, 0);
if ((0 <= index_722511)) {
t_722492.data_713079[chckIndx(index_722511, 0, t_722492.data_713079.length)-0].Field2 = val_722496;
}
else {
if (mustrehash_639268((t_722492.data_713079 != null ? t_722492.data_713079.length : 0), t_722492.counter_713082)) {
enlarge_722521(t_722492);
index_722511 = rawgetknownhc_722574(t_722492, key_722494, hc_722497[0]);
}

index_722511 = subInt(-1, index_722511);
rawinsert_722590(t_722492, t_722492, "data_713079", key_722494, val_722496, hc_722497[0], index_722511);
t_722492.counter_713082 = addInt(t_722492.counter_713082, 1);
}

}
function HEX5BHEX5DHEX3D_722679(t_722685, key_722687, val_722689) {
HEX5BHEX5DHEX3D_722485(t_722685, key_722687, val_722689);
}
function registeranimation_722221(n_722223, name_722224, a_722225) {
if (n_722223.animations_713083 == null) {
n_722223.animations_713083 = newtable_722237(64);
}

HEX5BHEX5DHEX3D_722679(n_722223.animations_713083, name_722224, a_722225);
}
function createframeanimation_749108(s_749110) {
function HEX3Aanonymous_749122(p_749124) {
s_749110.currentframe_749009 = ((subInt((s_749110.images_749008 != null ? s_749110.images_749008.length : 0), 1) * p_749124)|0);
}
var a_749111 = newanimation_40042();
a_749111.loopduration_40026 = ((s_749110.images_749008 != null ? s_749110.images_749008.length : 0) * 3.3333333333333333e-02);
a_749111.continueuntilendoflooponcancel_40034 = 1;
a_749111.onanimate_40030 = HEX3Aanonymous_749122;
registeranimation_722221(s_749110.node_713088, cstrToNimstr("sprite"), a_749111);
}
function deserialize_749136(s_749138, j_749139) {
var v_749140 = HEX5BHEX5D_667826(j_749139, cstrToNimstr("alpha"));
if (!(v_749140 == null)) {
s_749138.node_713088.alpha_713085 = getfnum_666857(v_749140, 1.0000000000000000e+00);
}

v_749140 = HEX5BHEX5D_667826(j_749139, cstrToNimstr("fileNames"));
if (v_749140 == null) {
imageHEX3D_749033(s_749138, imagewithresource_683003(getstr_666809(HEX5BHEX5D_667826(j_749139, cstrToNimstr("name")), cstrToNimstr(""))));
}
else {
s_749138.images_749008 = newseq_749058(chckRange(len_667804(v_749140), 0, 2147483647));
L1: do {
var i_749223 = 0;
var HEX3Atmp_749234 = {a_14056: 0, b_14058: 0};
HEX3Atmp_749234 = HEX2EHEX2E_31611(0, subInt((s_749138.images_749008 != null ? s_749138.images_749008.length : 0), 1));
L2: do {
var x_749238 = 0;
var HEX3Atmp_749240 = 0;
var HEX3Atmp_749242 = 0;
HEX3Atmp_749240 = HEX3Atmp_749234.a_14056;
HEX3Atmp_749242 = HEX3Atmp_749234.b_14058;
var res_749244 = HEX3Atmp_749240;
L3: do {
L4: while (true) {
if (!(res_749244 <= HEX3Atmp_749242)) break L4;
x_749238 = res_749244;
i_749223 = x_749238;
s_749138.images_749008[chckIndx(i_749223, 0, s_749138.images_749008.length)-0] = imagewithresource_683003(getstr_666809(HEX5BHEX5D_668411(v_749140, i_749223), cstrToNimstr("")));
res_749244 = addInt(res_749244, 1);
}
} while(false);
} while(false);
} while(false);
}

if ((1 < (s_749138.images_749008 != null ? s_749138.images_749008.length : 0))) {
createframeanimation_749108(s_749138);
}

}
function deserialize_747012(s_747014, j_747015) {
var v_747016 = HEX5BHEX5D_667826(j_747015, cstrToNimstr("color"));
if (!(v_747016 == null)) {
nimCopy(s_747014.color_747007, newcolor_20147(getfnum_666857(HEX5BHEX5D_668411(v_747016, 0), 0.0), getfnum_666857(HEX5BHEX5D_668411(v_747016, 1), 0.0), getfnum_666857(HEX5BHEX5D_668411(v_747016, 2), 0.0), 1.0000000000000000e+00), NTI20018);
}

v_747016 = HEX5BHEX5D_667826(j_747015, cstrToNimstr("alpha"));
if (!(v_747016 == null)) {
s_747014.node_713088.alpha_713085 = getfnum_666857(v_747016, 1.0000000000000000e+00);
}

v_747016 = HEX5BHEX5D_667826(j_747015, cstrToNimstr("size"));
if (!(v_747016 == null)) {
nimCopy(s_747014.size_747006, newsize_20061(getfnum_666857(HEX5BHEX5D_668411(v_747016, 0), 0.0), getfnum_666857(HEX5BHEX5D_668411(v_747016, 1), 0.0)), NTI20010);
}

}
function deserialize_732090(c_732092, j_732093) {
c_732092.inwhite_732059 = getfnum_666857(HEX5BHEX5D_667826(j_732093, cstrToNimstr("inWhite")), 0.0);
c_732092.inblack_732060 = getfnum_666857(HEX5BHEX5D_667826(j_732093, cstrToNimstr("inBlack")), 0.0);
c_732092.ingamma_732061 = getfnum_666857(HEX5BHEX5D_667826(j_732093, cstrToNimstr("inGamma")), 0.0);
c_732092.outwhite_732062 = getfnum_666857(HEX5BHEX5D_667826(j_732093, cstrToNimstr("outWhite")), 0.0);
c_732092.outblack_732063 = getfnum_666857(HEX5BHEX5D_667826(j_732093, cstrToNimstr("outBlack")), 0.0);
}
function deserialize_750023(t_750025, j_750026) {
var v_750027 = HEX5BHEX5D_667826(j_750026, cstrToNimstr("text"));
if (!(v_750027 == null)) {
t_750025.text_750011 = getstr_666809(v_750027, cstrToNimstr(""));
}

v_750027 = HEX5BHEX5D_667826(j_750026, cstrToNimstr("color"));
if (!(v_750027 == null)) {
nimCopy(t_750025.color_750012, newcolor_20147(getfnum_666857(HEX5BHEX5D_668411(v_750027, 0), 0.0), getfnum_666857(HEX5BHEX5D_668411(v_750027, 1), 0.0), getfnum_666857(HEX5BHEX5D_668411(v_750027, 2), 0.0), 1.0000000000000000e+00), NTI20018);
if ((3 < len_667804(v_750027))) {
t_750025.node_713088.alpha_713085 = getfnum_666857(HEX5BHEX5D_668411(v_750027, 3), 0.0);
}

}

v_750027 = HEX5BHEX5D_667826(j_750026, cstrToNimstr("shadowOff"));
if (!(v_750027 == null)) {
t_750025.shadowx_750016 = getfnum_666857(HEX5BHEX5D_668411(v_750027, 0), 0.0);
t_750025.shadowy_750017 = getfnum_666857(HEX5BHEX5D_668411(v_750027, 1), 0.0);
}

v_750027 = HEX5BHEX5D_667826(j_750026, cstrToNimstr("shadowColor"));
if (!(v_750027 == null)) {
nimCopy(t_750025.shadowcolor_750018, newcolor_20147(getfnum_666857(HEX5BHEX5D_668411(v_750027, 0), 0.0), getfnum_666857(HEX5BHEX5D_668411(v_750027, 1), 0.0), getfnum_666857(HEX5BHEX5D_668411(v_750027, 2), 0.0), getfnum_666857(HEX5BHEX5D_668411(v_750027, 3), 0.0)), NTI20018);
}

v_750027 = HEX5BHEX5D_667826(j_750026, cstrToNimstr("fontSize"));
if (!(v_750027 == null)) {
t_750025.font_750013 = systemfontofsize_658013(getfnum_666857(v_750027, 0.0));
}

v_750027 = HEX5BHEX5D_667826(j_750026, cstrToNimstr("justification"));
if (!(v_750027 == null)) {
switch (toJSStr(getstr_666809(v_750027, cstrToNimstr("")))) {
case "left": t_750025.justification_750015 = 0;

break;
case "center": t_750025.justification_750015 = 1;

break;
case "right": t_750025.justification_750015 = 2;

break;
default: 
break;
}
}

}
function deserialize_717600(c_717602, j_717603) {
}
function deserialize_717605(c_717602, j_717603) {
if (isObj(c_717602.m_type, NTI749005)) {
deserialize_749136(c_717602, j_717603);
}
else {
if (isObj(c_717602.m_type, NTI747005)) {
deserialize_747012(c_717602, j_717603);
}
else {
if (isObj(c_717602.m_type, NTI732058)) {
deserialize_732090(c_717602, j_717603);
}
else {
if (isObj(c_717602.m_type, NTI750010)) {
deserialize_750023(c_717602, j_717603);
}
else {
if (isObj(c_717602.m_type, NTI713087)) {
deserialize_717600(c_717602, j_717603);
}
}}}}
}
function initsetup_739925(m_739927) {
}
function initsetup_739929(m_739927) {
initsetup_739925(m_739927);
}
